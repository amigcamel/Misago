(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _participants = require('../reducers/participants');

var participants = _interopRequireWildcard(_participants);

var _thread = require('../reducers/thread');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUsernameChange = function (event) {
      _this.changeValue('username', event.target.value);
    };

    _this.state = {
      isLoading: false,

      username: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.username.trim().length) {
        _snackbar2.default.error(gettext("You have to enter user name."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'add', path: 'participants', value: this.state.username }, { op: 'add', path: 'acl', value: 1 }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch((0, _thread.updateAcl)(data));
      _store2.default.dispatch(participants.replace(data.participants));

      _snackbar2.default.success(gettext("New participant has been added to thread."));

      _modal2.default.hide();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { 'for': 'id_username', label: gettext("User to add") },
                _react2.default.createElement('input', {
                  id: 'id_username',
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  onChange: this.onUsernameChange,
                  type: 'text',
                  value: this.state.username
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-block btn-primary',
                  disabled: this.state.isLoading
                },
                gettext("Add participant")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Add participant")
    )
  );
}

},{"../reducers/participants":280,"../reducers/thread":288,"../services/ajax":293,"../services/modal":299,"../services/snackbar":304,"../services/store":305,"./form":41,"./form-group":40,"react":"react"}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "refresh",
    value: function refresh() {
      window.location.reload();
    }
  }, {
    key: "getMessage",
    value: function getMessage() {
      if (this.props.signedIn) {
        return interpolate(gettext("You have signed in as %(username)s. Please refresh the page before continuing."), { username: this.props.signedIn.username }, true);
      } else if (this.props.signedOut) {
        return interpolate(gettext("%(username)s, you have been signed out. Please refresh the page before continuing."), { username: this.props.user.username }, true);
      }
    }
  }, {
    key: "getClassName",
    value: function getClassName() {
      if (this.props.signedIn || this.props.signedOut) {
        return "auth-message show";
      } else {
        return "auth-message";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement(
          "div",
          { className: "container" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.getMessage()
          ),
          _react2.default.createElement(
            "p",
            null,
            _react2.default.createElement(
              "button",
              { type: "button", className: "btn btn-default",
                onClick: this.refresh },
              gettext("Reload page")
            ),
            " ",
            _react2.default.createElement(
              "span",
              { className: "hidden-xs hidden-sm text-muted" },
              gettext("or press F5 key.")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    user: state.auth.user,
    signedIn: state.auth.signedIn,
    signedOut: state.auth.signedOut
  };
}

},{"react":"react"}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var size = props.size || 100;
  var size2x = props.size2x || size;

  return _react2.default.createElement('img', {
    className: props.className || 'user-avatar',
    src: getSrc(props.user, size),
    srcSet: getSrc(props.user, size2x),
    title: gettext("User avatar"),
    width: size,
    height: size
  });
};

exports.getSrc = getSrc;
exports.resolveAvatarForSize = resolveAvatarForSize;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSrc(user, size) {
  if (user && user.id) {
    // just avatar hash, size and user id
    return resolveAvatarForSize(user.avatars, size).url;
  } else {
    // just append avatar size to file to produce no-avatar placeholder
    return _2.default.get('BLANK_AVATAR_URL');
  }
} /* jshint ignore:start */
function resolveAvatarForSize(avatars, size) {
  var avatar = avatars[0];
  avatars.forEach(function (av) {
    if (av.size >= size) {
      avatar = av;
    }
  });
  return avatar;
}

},{"..":234,"react":"react"}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getReasonMessage',
    value: function getReasonMessage() {
      /* jshint ignore:start */
      if (this.props.message.html) {
        return _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
            __html: this.props.message.html
          } });
      } else {
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.props.message.plain
        );
      }
      /* jshint ignore:end */
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.props.expires) {
        if (this.props.expires.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.props.expires.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.props.expires.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return gettext("This ban is permanent.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-error page-error-banned' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'highlight_off'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              this.getReasonMessage(),
              _react2.default.createElement(
                'p',
                { className: 'message-footnote' },
                this.getExpirationMessage()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"moment":"moment","react":"react"}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Button = function (_React$Component) {
  _inherits(Button, _React$Component);

  function Button() {
    _classCallCheck(this, Button);

    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));
  }

  _createClass(Button, [{
    key: 'render',
    value: function render() {
      var className = 'btn ' + this.props.className;
      var disabled = this.props.disabled;

      if (this.props.loading) {
        className += ' btn-loading';
        disabled = true;
      }

      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: this.props.onClick ? 'button' : 'submit',
          className: className,
          disabled: disabled,
          onClick: this.props.onClick },
        this.props.children,
        this.props.loading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return Button;
}(_react2.default.Component);

exports.default = Button;


Button.defaultProps = {
  className: "btn-default",

  type: "submit",

  loading: false,
  disabled: false,

  onClick: null
};

},{"./loader":43,"react":"react"}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'list-group-item category-subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'list-group-item category-subcategory';
      }
    }
  }, {
    key: 'getDescription',
    value: function getDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'subcategory-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_subcategorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'title-row' },
          _react2.default.createElement(
            'h4',
            null,
            _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
            _react2.default.createElement(
              'a',
              { href: this.props.category.absolute_url, className: 'item-title' },
              this.props.category.name
            )
          ),
          _react2.default.createElement(_stats2.default, { category: this.props.category })
        ),
        _react2.default.createElement(_lastActivity2.default, { category: this.props.category }),
        this.getDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-group category-subcategories' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./last-activity":8,"./read-icon":9,"./stats":11,"./subcategory-subcategories":12,"react":"react"}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySubcategories = require('./category-subcategories');

var _categorySubcategories2 = _interopRequireDefault(_categorySubcategories);

var _lastActivity = require('./last-activity');

var _lastActivity2 = _interopRequireDefault(_lastActivity);

var _readIcon = require('./read-icon');

var _readIcon2 = _interopRequireDefault(_readIcon);

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'panel panel-default panel-category panel-category-' + this.props.category.css_class;
      } else {
        return 'panel panel-default panel-category';
      }
    }
  }, {
    key: 'getHeadingClassName',
    value: function getHeadingClassName() {
      if (this.props.category.subcategories.length) {
        return 'panel-heading';
      } else {
        return 'panel-heading heading-alone';
      }
    }
  }, {
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: 'panel-body category-description',
          dangerouslySetInnerHTML: {
            __html: this.props.category.description.html
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSubcategories',
    value: function getSubcategories() {
      if (this.props.category.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(_categorySubcategories2.default, { categories: this.props.category.subcategories });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { id: 'panel-category-' + this.props.category.id,
          className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: this.getHeadingClassName() },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading-inblock' },
            _react2.default.createElement(
              'div',
              { className: 'panel-heading-top-row' },
              _react2.default.createElement(
                'h3',
                { className: 'panel-title' },
                _react2.default.createElement(_readIcon2.default, { category: this.props.category }),
                _react2.default.createElement(
                  'a',
                  { href: this.props.category.absolute_url, className: 'item-title' },
                  this.props.category.name
                )
              ),
              _react2.default.createElement(_stats2.default, { category: this.props.category })
            ),
            _react2.default.createElement(_lastActivity2.default, { category: this.props.category })
          )
        ),
        this.getCategoryDescription(),
        this.getSubcategories()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-subcategories":6,"./last-activity":8,"./read-icon":9,"./stats":11,"react":"react"}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ProtectedMessage = exports.PrivateMessage = exports.EmptyMessage = exports.LastPostMessage = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var THREAD_URL = '<a href="%(url)s" class="item-title thread-title">%(thread)s</a>';
var LAST_POST_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var LastPostMessage = exports.LastPostMessage = function (_React$Component) {
  _inherits(LastPostMessage, _React$Component);

  function LastPostMessage() {
    _classCallCheck(this, LastPostMessage);

    return _possibleConstructorReturn(this, (LastPostMessage.__proto__ || Object.getPrototypeOf(LastPostMessage)).apply(this, arguments));
  }

  _createClass(LastPostMessage, [{
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.category.last_poster_url) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.category.last_poster_url),
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.category.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastThread',
    value: function getLastThread() {
      return interpolate(THREAD_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_thread_url),
        thread: (0, _escapeHtml2.default)(this.props.category.last_thread_title)
      }, true);
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_POST_URL, {
        url: (0, _escapeHtml2.default)(this.props.category.last_post_url),
        absolute: (0, _escapeHtml2.default)(this.props.category.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.category.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('p', { className: 'category-last-post',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(gettext("Last post in %(thread)s by %(user)s %(date)s")), {
            thread: this.getLastThread(),
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }]);

  return LastPostMessage;
}(_react2.default.Component);

var EmptyMessage = exports.EmptyMessage = function (_React$Component2) {
  _inherits(EmptyMessage, _React$Component2);

  function EmptyMessage() {
    _classCallCheck(this, EmptyMessage);

    return _possibleConstructorReturn(this, (EmptyMessage.__proto__ || Object.getPrototypeOf(EmptyMessage)).apply(this, arguments));
  }

  _createClass(EmptyMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        gettext("This category is empty.")
      );
      /* jshint ignore:end */
    }
  }]);

  return EmptyMessage;
}(_react2.default.Component);

var PrivateMessage = exports.PrivateMessage = function (_React$Component3) {
  _inherits(PrivateMessage, _React$Component3);

  function PrivateMessage() {
    _classCallCheck(this, PrivateMessage);

    return _possibleConstructorReturn(this, (PrivateMessage.__proto__ || Object.getPrototypeOf(PrivateMessage)).apply(this, arguments));
  }

  _createClass(PrivateMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        ),
        gettext("This category is private. You can see only your own threads within it.")
      );
      /* jshint ignore:end */
    }
  }]);

  return PrivateMessage;
}(_react2.default.Component);

var ProtectedMessage = exports.ProtectedMessage = function (_React$Component4) {
  _inherits(ProtectedMessage, _React$Component4);

  function ProtectedMessage() {
    _classCallCheck(this, ProtectedMessage);

    return _possibleConstructorReturn(this, (ProtectedMessage.__proto__ || Object.getPrototypeOf(ProtectedMessage)).apply(this, arguments));
  }

  _createClass(ProtectedMessage, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'p',
        { className: 'category-thread-message' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'highlight_off'
        ),
        gettext("This category is protected. You can't browse it's contents.")
      );
      /* jshint ignore:end */
    }
  }]);

  return ProtectedMessage;
}(_react2.default.Component);

var _class = function (_React$Component5) {
  _inherits(_class, _React$Component5);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.category.acl.can_browse) {
        if (!this.props.category.acl.can_see_all_threads) {
          /* jshint ignore:start */
          return _react2.default.createElement(PrivateMessage, null);
          /* jshint ignore:end */
        } else if (this.props.category.last_thread_title) {
          /* jshint ignore:start */
          return _react2.default.createElement(LastPostMessage, { category: this.props.category });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(EmptyMessage, null);
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(ProtectedMessage, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/escape-html":311,"react":"react"}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts. (closed)");
        } else {
          return gettext("This category has new posts. (closed)");
        }
      } else {
        if (this.props.category.is_read) {
          return gettext("This category has no new posts.");
        } else {
          return gettext("This category has new posts.");
        }
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.category.is_closed) {
        if (this.props.category.is_read) {
          return 'lock_outline';
        } else {
          return 'lock';
        }
      } else {
        if (this.props.category.is_read) {
          return 'chat_bubble_outline';
        } else {
          return 'chat_bubble';
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('./category');

var _category2 = _interopRequireDefault(_category);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var hydrate = function hydrate(category) {
  return Object.assign({}, category, {
    last_post_on: category.last_post_on ? (0, _moment2.default)(category.last_post_on) : null,
    subcategories: category.subcategories.map(hydrate)
  });
};

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _this.setState({
        categories: data.map(hydrate)
      });
    };

    _this.state = {
      categories: _index2.default.get('CATEGORIES').map(hydrate)
    };

    _this.startPolling(_index2.default.get('CATEGORIES_API'));
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'categories',
        url: api,
        frequency: 180 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'categories-list' },
        this.state.categories.map(function (category) {
          return _react2.default.createElement(_category2.default, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick
  };
}

},{"../../index":234,"../../services/polls":302,"./category":7,"moment":"moment","react":"react"}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getThreadsCount",
    value: function getThreadsCount() {
      var string = ngettext("%(threads)s thread", "%(threads)s threads", this.props.category.threads);

      return interpolate(string, {
        'threads': this.props.category.threads
      }, true);
    }
  }, {
    key: "getPostsCount",
    value: function getPostsCount() {
      var string = ngettext("%(posts)s post", "%(posts)s posts", this.props.category.posts);

      return interpolate(string, {
        'posts': this.props.category.posts
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "ul",
        { className: "list-inline category-stats" },
        _react2.default.createElement(
          "li",
          { className: "category-threads" },
          this.getThreadsCount()
        ),
        _react2.default.createElement(
          "li",
          { className: "category-posts" },
          this.getPostsCount()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _subcategorySubcategories = require('./subcategory-subcategories');

var _subcategorySubcategories2 = _interopRequireDefault(_subcategorySubcategories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'subcategory subcategory-' + this.props.category.css_class;
      } else {
        return 'subcategory';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'a',
          { href: this.props.category.absolute_url,
            className: this.getClassName() },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'list-inline subcategories-list' },
        this.props.categories.map(function (category) {
          return _react2.default.createElement(Subcategory, { category: category, key: category.id });
        })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./subcategory-subcategories":12,"react":"react"}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'select',
    {
      className: props.className || 'form-control',
      disabled: props.disabled || false,
      id: props.id || null,
      onChange: props.onChange,
      value: props.value
    },
    props.choices.map(function (item) {
      return _react2.default.createElement(
        'option',
        {
          disabled: item.disabled || false,
          key: item.value,
          value: item.value
        },
        '- - '.repeat(item.level) + item.label
      );
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.cropAvatar = function () {
      if (_this.state.isLoading) {
        return false;
      }

      _this.setState({
        'isLoading': true
      });

      var avatarType = _this.props.upload ? 'crop_tmp' : 'crop_src';
      var cropit = $('.crop-form');

      _ajax2.default.post(_this.props.user.api_url.avatar, {
        'avatar': avatarType,
        'crop': {
          'offset': cropit.cropit('offset'),
          'zoom': cropit.cropit('zoom')
        }
      }).then(function (data) {
        _this.props.onComplete(data);
        _snackbar2.default.success(data.detail);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            'isLoading': false
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getAvatarSize',
    value: function getAvatarSize() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.size;
      } else {
        return this.props.options.crop_src.size;
      }
    }
  }, {
    key: 'getImagePath',
    value: function getImagePath() {
      if (this.props.upload) {
        return this.props.options.crop_tmp.url;
      } else {
        return this.props.options.crop_src.url;
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var cropit = $('.crop-form');
      cropit.width(this.getAvatarSize());

      cropit.cropit({
        'width': this.getAvatarSize(),
        'height': this.getAvatarSize(),
        'imageState': {
          'src': this.getImagePath()
        },
        onImageLoaded: function onImageLoaded() {
          if (_this2.props.upload) {
            // center uploaded image
            var zoomLevel = cropit.cropit('zoom');
            var imageSize = cropit.cropit('imageSize');

            // is it wider than taller?
            if (imageSize.width > imageSize.height) {
              var displayedWidth = imageSize.width * zoomLevel;
              var offsetX = (displayedWidth - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                'x': offsetX,
                'y': 0
              });
            } else if (imageSize.width < imageSize.height) {
              var displayedHeight = imageSize.height * zoomLevel;
              var offsetY = (displayedHeight - _this2.getAvatarSize()) / -2;

              cropit.cropit('offset', {
                'x': 0,
                'y': offsetY
              });
            } else {
              cropit.cropit('offset', {
                'x': 0,
                'y': 0
              });
            }
          } else {
            // use preserved crop
            var crop = _this2.props.options.crop_src.crop;
            if (crop) {
              cropit.cropit('zoom', crop.zoom);
              cropit.cropit('offset', {
                'x': crop.x,
                'y': crop.y
              });
            }
          }
        }
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      $('.crop-form').cropit('disable');
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-crop' },
          _react2.default.createElement(
            'div',
            { className: 'crop-form' },
            _react2.default.createElement('div', { className: 'cropit-preview' }),
            _react2.default.createElement('input', { type: 'range', className: 'cropit-image-zoom-input' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              { onClick: this.cropAvatar,
                loading: this.state.isLoading,
                className: 'btn-primary btn-block' },
              this.props.upload ? gettext("Set avatar") : gettext("Crop image")
            ),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.props.showIndex,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block' },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":293,"../../services/snackbar":304,"../avatar":3,"../button":5,"react":"react"}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Gallery = exports.GalleryItem = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var GalleryItem = exports.GalleryItem = function (_React$Component) {
  _inherits(GalleryItem, _React$Component);

  function GalleryItem() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, GalleryItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = GalleryItem.__proto__ || Object.getPrototypeOf(GalleryItem)).call.apply(_ref, [this].concat(args))), _this), _this.select = function () {
      _this.props.select(_this.props.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(GalleryItem, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (this.props.selection === this.props.id) {
        if (this.props.disabled) {
          return 'btn btn-avatar btn-disabled avatar-selected';
        } else {
          return 'btn btn-avatar avatar-selected';
        }
      } else if (this.props.disabled) {
        return 'btn btn-avatar btn-disabled';
      } else {
        return 'btn btn-avatar';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button',
          className: this.getClassName(),
          disabled: this.props.disabled,
          onClick: this.select },
        _react2.default.createElement('img', { src: this.props.url })
      );
      /* jshint ignore:end */
    }
  }]);

  return GalleryItem;
}(_react2.default.Component);

var Gallery = exports.Gallery = function (_React$Component2) {
  _inherits(Gallery, _React$Component2);

  function Gallery() {
    _classCallCheck(this, Gallery);

    return _possibleConstructorReturn(this, (Gallery.__proto__ || Object.getPrototypeOf(Gallery)).apply(this, arguments));
  }

  _createClass(Gallery, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'avatars-gallery' },
        _react2.default.createElement(
          'h3',
          null,
          this.props.name
        ),
        _react2.default.createElement(
          'div',
          { className: 'avatars-gallery-images' },
          (0, _batch2.default)(this.props.images, 4, null).map(function (row, i) {
            return _react2.default.createElement(
              'div',
              { className: 'row', key: i },
              row.map(function (item, i) {
                return _react2.default.createElement(
                  'div',
                  { className: 'col-xs-3', key: i },
                  item ? _react2.default.createElement(GalleryItem, _extends({
                    disabled: _this3.props.disabled,
                    select: _this3.props.select,
                    selection: _this3.props.selection
                  }, item)) : _react2.default.createElement('div', { className: 'blank-avatar' })
                );
              })
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Gallery;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.select = function (image) {
      _this4.setState({
        selection: image
      });
    };

    _this4.save = function () {
      if (_this4.state.isLoading) {
        return false;
      }

      _this4.setState({
        'isLoading': true
      });

      _ajax2.default.post(_this4.props.user.api_url.avatar, {
        avatar: 'galleries',
        image: _this4.state.selection
      }).then(function (response) {
        _this4.setState({
          'isLoading': false
        });

        _snackbar2.default.success(response.detail);
        _this4.props.onComplete(response);
        _this4.props.showIndex();
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this4.setState({
            'isLoading': false
          });
        } else {
          _this4.props.showError(rejection);
        }
      });
    };

    _this4.state = {
      'selection': null,
      'isLoading': false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      var _this5 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          { className: 'modal-body modal-avatar-gallery' },
          this.props.options.galleries.map(function (item, i) {
            return _react2.default.createElement(Gallery, { name: item.name,
              images: item.images,
              selection: _this5.state.selection,
              disabled: _this5.state.isLoading,
              select: _this5.select,
              key: i });
          })
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-6 col-md-offset-3' },
              _react2.default.createElement(
                _button2.default,
                { onClick: this.save,
                  loading: this.state.isLoading,
                  disabled: !this.state.selection,
                  className: 'btn-primary btn-block' },
                this.state.selection ? gettext("Save choice") : gettext("Select avatar")
              ),
              _react2.default.createElement(
                _button2.default,
                { onClick: this.props.showIndex,
                  disabled: this.state.isLoading,
                  className: 'btn-default btn-block' },
                gettext("Cancel")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":234,"../../services/ajax":293,"../../services/snackbar":304,"../../utils/batch":308,"../button":5,"react":"react"}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _loader = require('../loader');

var _loader2 = _interopRequireDefault(_loader);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setGravatar = function () {
      _this.callApi('gravatar');
    };

    _this.setGenerated = function () {
      _this.callApi('generated');
    };

    _this.state = {
      'isLoading': false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'callApi',
    value: function callApi(avatarType) {
      var _this2 = this;

      if (this.state.isLoading) {
        return false;
      }

      this.setState({
        'isLoading': true
      });

      _ajax2.default.post(this.props.user.api_url.avatar, {
        avatar: avatarType
      }).then(function (response) {
        _this2.setState({
          'isLoading': false
        });
        console.log(response);
        _snackbar2.default.success(response.detail);
        _this2.props.onComplete(response);
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
          _this2.setState({
            'isLoading': false
          });
        } else {
          _this2.props.showError(rejection);
        }
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getGravatarButton',

    /* jshint ignore:end */

    value: function getGravatarButton() {
      if (this.props.options.gravatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.setGravatar,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gravatar' },
          gettext("Download my Gravatar")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCropButton',
    value: function getCropButton() {
      if (this.props.options.crop_src) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showCrop,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-crop' },
          gettext("Re-crop uploaded image")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      if (this.props.options.upload) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showUpload,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-upload' },
          gettext("Upload new image")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getGalleryButton',
    value: function getGalleryButton() {
      if (this.props.options.galleries) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { onClick: this.props.showGallery,
            disabled: this.state.isLoading,
            className: 'btn-default btn-block btn-avatar-gallery' },
          gettext("Pick avatar from gallery")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getAvatarPreview',
    value: function getAvatarPreview() {
      /* jshint ignore:start */
      var userPeview = {
        id: this.props.user.id,
        avatars: this.props.options.avatars
      };
      /* jshint ignore:end */

      if (this.state.isLoading) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview preview-loading' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' }),
          _react2.default.createElement(_loader2.default, null)
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'avatar-preview' },
          _react2.default.createElement(_avatar2.default, { user: userPeview, size: '200' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-index' },
        _react2.default.createElement(
          'div',
          { className: 'row' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-5' },
            this.getAvatarPreview()
          ),
          _react2.default.createElement(
            'div',
            { className: 'col-md-7' },
            this.getGravatarButton(),
            _react2.default.createElement(
              _button2.default,
              { onClick: this.setGenerated,
                disabled: this.state.isLoading,
                className: 'btn-default btn-block btn-avatar-generate' },
              gettext("Generate my individual avatar")
            ),
            this.getCropButton(),
            this.getUploadButton(),
            this.getGalleryButton()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":293,"../../services/snackbar":304,"../avatar":3,"../button":5,"../loader":43,"react":"react"}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChangeAvatarError = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('./index');

var _index2 = _interopRequireDefault(_index);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _gallery = require('./gallery');

var _gallery2 = _interopRequireDefault(_gallery);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var ChangeAvatarError = exports.ChangeAvatarError = function (_React$Component) {
  _inherits(ChangeAvatarError, _React$Component);

  function ChangeAvatarError() {
    _classCallCheck(this, ChangeAvatarError);

    return _possibleConstructorReturn(this, (ChangeAvatarError.__proto__ || Object.getPrototypeOf(ChangeAvatarError)).apply(this, arguments));
  }

  _createClass(ChangeAvatarError, [{
    key: 'getErrorReason',
    value: function getErrorReason() {
      if (this.props.reason) {
        /* jshint ignore:start */
        return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: this.props.reason } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getErrorReason()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ChangeAvatarError;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this2, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this2), _this2.showError = function (error) {
      _this2.setState({
        error: error
      });
    }, _this2.showIndex = function () {
      _this2.setState({
        'component': _index2.default
      });
    }, _this2.showUpload = function () {
      _this2.setState({
        'component': _upload2.default
      });
    }, _this2.showCrop = function () {
      _this2.setState({
        'component': _crop2.default
      });
    }, _this2.showGallery = function () {
      _this2.setState({
        'component': _gallery2.default
      });
    }, _this2.completeFlow = function (options) {
      _store2.default.dispatch((0, _users.updateAvatar)(_this2.props.user, options.avatars));

      _this2.setState({
        'component': _index2.default,
        options: options
      });
    }, _temp), _possibleConstructorReturn(_this2, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      _ajax2.default.get(this.props.user.api_url.avatar).then(function (options) {
        _this3.setState({
          'component': _index2.default,
          'options': options,
          'error': null
        });
      }, function (rejection) {
        _this3.showError(rejection);
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getBody',

    /* jshint ignore:end */

    value: function getBody() {
      if (this.state) {
        if (this.state.error) {
          /* jshint ignore:start */
          return _react2.default.createElement(ChangeAvatarError, { message: this.state.error.detail,
            reason: this.state.error.reason });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(this.state.component, { options: this.state.options,
            user: this.props.user,
            onComplete: this.completeFlow,
            showError: this.showError,
            showIndex: this.showIndex,
            showCrop: this.showCrop,
            showUpload: this.showUpload,
            showGallery: this.showGallery });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state && this.state.error) {
        return "modal-dialog modal-message modal-change-avatar";
      } else {
        return "modal-dialog modal-change-avatar";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change your avatar")
            )
          ),
          this.getBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function select(state) {
  return {
    'user': state.auth.user
  };
}

},{"../../reducers/users":292,"../../services/ajax":293,"../../services/store":305,"../modal-loader":46,"./crop":14,"./gallery":15,"./index":16,"./upload":18,"react":"react"}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _crop = require('./crop');

var _crop2 = _interopRequireDefault(_crop);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _fileSize = require('../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.pickFile = function () {
      document.getElementById('avatar-hidden-upload').click();
    };

    _this.uploadFile = function () {
      var image = document.getElementById('avatar-hidden-upload').files[0];

      var validationError = _this.validateFile(image);
      if (validationError) {
        _snackbar2.default.error(validationError);
        return;
      }

      _this.setState({
        image: image,
        'preview': URL.createObjectURL(image),
        'progress': 0
      });

      var data = new FormData();
      data.append('avatar', 'upload');
      data.append('image', image);

      _ajax2.default.upload(_this.props.user.api_url.avatar, data, function (progress) {
        _this.setState({
          progress: progress
        });
      }).then(function (data) {
        _this.setState({
          'options': data,
          'uploaded': data.detail
        });
        _snackbar2.default.info(gettext("Your image has been uploaded and you may now crop it."));
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          _snackbar2.default.error(rejection.detail);
          _this.setState({
            'isLoading': false,
            'image': null,
            'progress': 0
          });
        } else {
          _this.props.showError(rejection);
        }
      });
    };

    _this.state = {
      'image': null,
      'preview': null,
      'progress': 0,
      'uploaded': null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'validateFile',
    value: function validateFile(image) {
      if (image.size > this.props.options.upload.limit) {
        return interpolate(gettext("Selected file is too big. (%(filesize)s)"), {
          'filesize': (0, _fileSize2.default)(image.size)
        }, true);
      }

      var invalidTypeMsg = gettext("Selected file type is not supported.");
      if (this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1) {
        return invalidTypeMsg;
      }

      var extensionFound = false;
      var loweredFilename = image.name.toLowerCase();
      this.props.options.upload.allowed_extensions.map(function (extension) {
        if (loweredFilename.substr(extension.length * -1) === extension) {
          extensionFound = true;
        }
      });

      if (!extensionFound) {
        return invalidTypeMsg;
      }

      return false;
    }

    /* jshint ignore:start */

  }, {
    key: 'getUploadRequirements',

    /* jshint ignore:end */

    value: function getUploadRequirements(options) {
      var extensions = options.allowed_extensions.map(function (extension) {
        return extension.substr(1);
      });

      return interpolate(gettext("%(files)s files smaller than %(limit)s"), {
        'files': extensions.join(', '),
        'limit': (0, _fileSize2.default)(options.limit)
      }, true);
    }
  }, {
    key: 'getUploadButton',
    value: function getUploadButton() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          _button2.default,
          { className: 'btn-pick-file',
            onClick: this.pickFile },
          _react2.default.createElement(
            'div',
            { className: 'material-icon' },
            'input'
          ),
          gettext("Select file")
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-muted' },
          this.getUploadRequirements(this.props.options.upload)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUploadProgressLabel',
    value: function getUploadProgressLabel() {
      return interpolate(gettext("%(progress)s % complete"), {
        'progress': this.state.progress
      }, true);
    }
  }, {
    key: 'getUploadProgress',
    value: function getUploadProgress() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-avatar-upload' },
        _react2.default.createElement(
          'div',
          { className: 'upload-progress' },
          _react2.default.createElement('img', { src: this.state.preview }),
          _react2.default.createElement(
            'div',
            { className: 'progress' },
            _react2.default.createElement(
              'div',
              { className: 'progress-bar', role: 'progressbar',
                'aria-valuenow': '{this.state.progress}',
                'aria-valuemin': '0', 'aria-valuemax': '100',
                style: { width: this.state.progress + '%' } },
              _react2.default.createElement(
                'span',
                { className: 'sr-only' },
                this.getUploadProgressLabel()
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderUpload',
    value: function renderUpload() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement('input', { type: 'file',
          id: 'avatar-hidden-upload',
          className: 'hidden-file-upload',
          onChange: this.uploadFile }),
        this.state.image ? this.getUploadProgress() : this.getUploadButton(),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'div',
            { className: 'col-md-6 col-md-offset-3' },
            _react2.default.createElement(
              _button2.default,
              { onClick: this.props.showIndex,
                disabled: !!this.state.image,
                className: 'btn-default btn-block' },
              gettext("Cancel")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCrop',
    value: function renderCrop() {
      /* jshint ignore:start */
      return _react2.default.createElement(_crop2.default, { options: this.state.options,
        user: this.props.user,
        upload: this.state.uploaded,
        onComplete: this.props.onComplete,
        showError: this.props.showError,
        showIndex: this.props.showIndex });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return this.state.uploaded ? this.renderCrop() : this.renderUpload();
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../services/ajax":293,"../../services/snackbar":304,"../../utils/file-size":312,"../button":5,"./crop":14,"react":"react"}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.dropdown) {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle open hidden-md hidden-lg";
      } else {
        return "btn btn-default btn-aligned btn-icon btn-dropdown-toggle hidden-md hidden-lg";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { className: this.getClassName(),
          type: "button",
          onClick: this.props.toggleNav,
          "aria-haspopup": "true",
          "aria-expanded": this.props.dropdown ? 'true' : 'false' },
        _react2.default.createElement(
          "i",
          { className: "material-icon" },
          "menu"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.replaceSelection(_this.props.execAction);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-icon ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: this.props.title,
          type: 'button'
        },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertCode,
      title: gettext("Insert code")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'functions'
    )
  );
};

exports.insertCode = insertCode;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertCode(selection, replace) {
  var syntax = $.trim(prompt(gettext("Enter name of syntax of your code (optional)") + ':'));
  replace("\n\n```" + syntax + '\n' + selection + "\n```\n\n");
}

},{"../../../utils/is-url":313,"./action":20,"react":"react"}],22:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeEmphasis,
      title: gettext("Emphase selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_italic'
    )
  );
};

exports.makeEmphasis = makeEmphasis;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeEmphasis(selection, replace) {
  if (selection.length) {
    replace('*' + selection + '*');
  }
}

},{"./action":20,"react":"react"}],23:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertHr,
      title: gettext("Insert horizontal ruler")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'remove'
    )
  );
};

exports.insertHr = insertHr;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertHr(selection, replace) {
  replace('\n\n- - - - -\n\n');
}

},{"./action":20,"react":"react"}],24:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertImage,
      title: gettext("Insert image")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_photo'
    )
  );
};

exports.insertImage = insertImage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertImage(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link to image") + ':', url));
  label = $.trim(prompt(gettext("Enter image label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('![' + label + '](' + url + ')');
    } else {
      replace('!(' + url + ')');
    }
  }
}

},{"../../../utils/is-url":313,"./action":20,"react":"react"}],25:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertLink,
      title: gettext("Insert link")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_link'
    )
  );
};

exports.insertLink = insertLink;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertLink(selection, replace) {
  var url = '';
  var label = '';

  if (selection.length) {
    if ((0, _isUrl2.default)(selection)) {
      url = selection;
    } else {
      label = selection;
    }
  }

  url = $.trim(prompt(gettext("Enter link address") + ':', url));
  label = $.trim(prompt(gettext("Enter link label (optional)") + ':', label));

  if (url.length) {
    if (label.length > 0) {
      replace('[' + label + '](' + url + ')');
    } else {
      replace(url);
    }
  }
}

},{"../../../utils/is-url":313,"./action":20,"react":"react"}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: insertQuote,
      title: gettext("Insert quote")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_quote'
    )
  );
};

exports.insertQuote = insertQuote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

var _isUrl = require('../../../utils/is-url');

var _isUrl2 = _interopRequireDefault(_isUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function insertQuote(selection, replace) {
  var title = $.trim(prompt(gettext("Enter quote autor, prefix usernames with @") + ':', title));

  if (title) {
    replace('\n\n[quote="' + title + '"]\n' + selection + '\n[/quote]\n\n');
  } else {
    replace('\n\n[quote]\n' + selection + '\n[/quote]\n\n');
  }
}

},{"../../../utils/is-url":313,"./action":20,"react":"react"}],27:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStriketrough,
      title: gettext("Striketrough selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_strikethrough'
    )
  );
};

exports.makeStriketrough = makeStriketrough;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStriketrough(selection, replace) {
  if (selection.length) {
    replace('~~' + selection + '~~');
  }
}

},{"./action":20,"react":"react"}],28:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _action2.default,
    _extends({
      execAction: makeStrong,
      title: gettext("Bolder selection")
    }, props),
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'format_bold'
    )
  );
};

exports.makeStrong = makeStrong;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _action = require('./action');

var _action2 = _interopRequireDefault(_action);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function makeStrong(selection, replace) {
  if (selection.length) {
    replace('**' + selection + '**');
  }
}

},{"./action":20,"react":"react"}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Preview = Preview;
exports.Image = Image;
exports.Icon = Icon;
exports.Filename = Filename;
exports.Details = Details;
exports.Actions = Actions;
exports.Insert = Insert;
exports.Remove = Remove;
exports.Undo = Undo;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onInsert = function () {
      _this.props.replaceSelection(_this.insertAttachment);
    }, _this.insertAttachment = function (selection, replace) {
      var item = _this.props.item;

      if (item.is_image) {
        if (item.url.thumb) {
          replace('[![' + item.filename + '](' + item.url.thumb + ')](' + item.url.index + ')');
        } else {
          replace('[![' + item.filename + '](' + item.url.index + ')](' + item.url.index + ')');
        }
      } else {
        replace('[' + item.filename + '](' + item.url.index + ')');
      }
    }, _this.onRemove = function () {
      _this.updateItem({
        isRemoved: true
      });
    }, _this.onUndo = function () {
      _this.updateItem({
        isRemoved: false
      });
    }, _this.updateItem = function (newState) {
      var updatedAttachments = _this.props.attachments.map(function (item) {
        if (item.id === _this.props.item.id) {
          return Object.assign({}, item, newState);
        } else {
          return item;
        }
      });
      _this.props.onAttachmentsChange(updatedAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-complete' },
        _react2.default.createElement(Preview, this.props),
        _react2.default.createElement(Actions, _extends({
          onInsert: this.onInsert,
          onRemove: this.onRemove,
          onUndo: this.onUndo
        }, this.props)),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-details' },
          _react2.default.createElement(Filename, this.props),
          _react2.default.createElement(Details, this.props)
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function Preview(props) {
  if (props.item.is_image) {
    return _react2.default.createElement(Image, props);
  } else {
    return _react2.default.createElement(Icon, props);
  }
}

function Image(props) {
  var thumbnailUrl = props.item.url.thumb || props.item.url.index;

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-image' },
    _react2.default.createElement('a', {
      href: props.item.url.index + '?shva=1',
      style: { backgroundImage: "url('" + thumbnailUrl + "?shva=1')" },
      target: '_blank'
    })
  );
};

function Icon(props) {
  return _react2.default.createElement(
    'div',
    { className: 'editor-attachment-icon' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'insert_drive_file'
    )
  );
}

function Filename(props) {
  return _react2.default.createElement(
    'h4',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'item-title',
        href: props.item.url.index + '?shva=1',
        target: '_blank'
      },
      props.item.filename
    )
  );
}

function Details(props) {
  var user = null;
  if (props.item.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.item.url.uploader),
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.item.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.item.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.item.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.item.filetype,
    size: (0, _fileSize2.default)(props.item.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', { dangerouslySetInnerHTML: { __html: message } });
}

function Actions(props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline editor-attachment-actions' },
    _react2.default.createElement(Insert, props),
    _react2.default.createElement(Remove, props),
    _react2.default.createElement(Undo, props)
  );
}

function Insert(props) {
  if (!!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm',
        onClick: props.onInsert,
        type: 'button'
      },
      gettext("Insert")
    )
  );
}

function Remove(props) {
  if (!!props.item.isRemoved && props.item.acl.can_delete) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm',
        onClick: props.onRemove,
        type: 'button'
      },
      gettext("Remove")
    )
  );
}

function Undo(props) {
  if (!props.item.isRemoved) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default btn-sm',
        onClick: props.onUndo,
        type: 'button'
      },
      gettext("Undo removal")
    )
  );
}

},{"../../../..":234,"../../../../utils/escape-html":311,"../../../../utils/file-size":312,"react":"react"}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var STRONG = '<strong>%(name)s</strong>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      var filteredAttachments = _this.props.attachments.filter(function (item) {
        return item.key !== _this.props.item.key;
      });
      _this.props.onAttachmentsChange(filteredAttachments);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var filename = interpolate(STRONG, {
        name: (0, _escapeHtml2.default)(this.props.item.filename)
      }, true);

      var title = interpolate(gettext("Error uploading %(filename)s"), {
        filename: filename,
        progress: this.props.item.progress + '%'
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'editor-attachment-error' },
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'editor-attachment-error-message' },
          _react2.default.createElement('h4', { dangerouslySetInnerHTML: { __html: title + ':' } }),
          _react2.default.createElement(
            'p',
            null,
            this.props.item.error
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm',
              onClick: this.onClick,
              type: 'button'
            },
            gettext("Dismiss")
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../../../utils/escape-html":311,"react":"react"}],31:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.item.id) {
    return _react2.default.createElement(_complete2.default, props);
  } else if (props.item.error) {
    return _react2.default.createElement(_error2.default, props);
  } else {
    return _react2.default.createElement(_upload2.default, props);
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _complete = require('./complete');

var _complete2 = _interopRequireDefault(_complete);

var _error = require('./error');

var _error2 = _interopRequireDefault(_error);

var _upload = require('./upload');

var _upload2 = _interopRequireDefault(_upload);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../..":234,"../../../../utils/escape-html":311,"./complete":29,"./error":30,"./upload":32,"react":"react"}],32:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var filename = interpolate(STRONG, {
    name: (0, _escapeHtml2.default)(props.item.filename)
  }, true);

  var message = interpolate(gettext("Uploading %(filename)s... %(progress)s"), {
    filename: filename,
    progress: props.item.progress + '%'
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'editor-attachment-upload' },
    _react2.default.createElement(
      'div',
      { className: 'editor-attachment-progress-bar' },
      _react2.default.createElement('div', {
        className: 'editor-attachment-progress',
        style: { width: props.item.progress + '%' }
      })
    ),
    _react2.default.createElement('p', {
      className: 'editor-attachment-upload-message',
      dangerouslySetInnerHTML: { __html: message }
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var STRONG = '<strong>%(name)s</strong>';

;

},{"../../../../utils/escape-html":311,"react":"react"}],33:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!_2.default.get('user').acl.max_attachment_size) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: 'editor-attachments' },
    _react2.default.createElement(_list2.default, props),
    _react2.default.createElement(_uploader2.default, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _uploader = require('./uploader');

var _uploader2 = _interopRequireDefault(_uploader);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

; // jshint ignore:start

},{"../../..":234,"./list":34,"./uploader":36,"react":"react"}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled editor-attachments-list' },
    props.attachments.map(function (item) {
      return _react2.default.createElement(_attachment2.default, _extends({ item: item, key: item.id || item.key }, props));
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

;

},{"./attachment":31,"react":"react"}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      document.getElementById('editor-upload-field').click();
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!_2.default.get('user').acl.max_attachment_size) {
        return null;
      }

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-icon ' + this.props.className,
          disabled: this.props.disabled,
          onClick: this.onClick,
          title: gettext('Upload file'),
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'file_upload'
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

},{"../../..":234,"react":"react"}],36:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getRandomKey = getRandomKey;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onChange = function (event) {
      var file = event.target.files[0];
      if (!file) {
        return;
      }

      var upload = {
        id: null,
        key: getRandomKey(),
        progress: 0,
        error: null,
        filename: file.name
      };

      _this.props.onAttachmentsChange([upload].concat(_this.props.attachments));

      var data = new FormData();
      data.append('upload', file);

      _ajax2.default.upload(_2.default.get('ATTACHMENTS_API'), data, function (progress) {
        upload.progress = progress;
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }).then(function (data) {
        data.uploaded_on = (0, _moment2.default)(data.uploaded_on);
        Object.assign(upload, data);
        _this.props.onAttachmentsChange(_this.props.attachments.concat());
      }, function (rejection) {
        if (rejection.status === 400 || rejection.status === 413) {
          upload.error = rejection.detail;
          _this.props.onAttachmentsChange(_this.props.attachments.concat());
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement('input', {
        id: 'editor-upload-field',
        onChange: this.onChange,
        type: 'file'
      });
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
;

function getRandomKey() {
  return 'upld-' + Math.round(new Date().getTime());
}

},{"../../..":234,"../../../services/ajax":293,"../../../services/snackbar":304,"moment":"moment","react":"react"}],37:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Protect = Protect;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _code = require('./actions/code');

var _code2 = _interopRequireDefault(_code);

var _emphasis = require('./actions/emphasis');

var _emphasis2 = _interopRequireDefault(_emphasis);

var _hr = require('./actions/hr');

var _hr2 = _interopRequireDefault(_hr);

var _image = require('./actions/image');

var _image2 = _interopRequireDefault(_image);

var _link = require('./actions/link');

var _link2 = _interopRequireDefault(_link);

var _striketrough = require('./actions/striketrough');

var _striketrough2 = _interopRequireDefault(_striketrough);

var _strong = require('./actions/strong');

var _strong2 = _interopRequireDefault(_strong);

var _quote = require('./actions/quote');

var _quote2 = _interopRequireDefault(_quote);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _uploadButton = require('./attachments/upload-button/');

var _uploadButton2 = _interopRequireDefault(_uploadButton);

var _markupPreview = require('./markup-preview');

var _markupPreview2 = _interopRequireDefault(_markupPreview);

var _textutils = require('./textutils');

var textUtils = _interopRequireWildcard(_textutils);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onPreviewClick = function () {
      if (_this.state.isPreviewLoading) {
        return;
      }

      _this.setState({
        isPreviewLoading: true
      });

      _ajax2.default.post(_2.default.get('PARSE_MARKUP_API'), { post: _this.props.value }).then(function (data) {
        _modal2.default.show(_react2.default.createElement(_markupPreview2.default, { markup: data.parsed }));

        _this.setState({
          isPreviewLoading: false
        });
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _this.setState({
          isPreviewLoading: false
        });
      });
    };

    _this.replaceSelection = function (operation) {
      operation(textUtils.getSelectionText(), _this._replaceSelection);
    };

    _this._replaceSelection = function (newValue) {
      _this.props.onChange({
        target: {
          value: textUtils.replace(newValue)
        }
      });
    };

    _this.state = {
      isPreviewLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'editor-border' },
        _react2.default.createElement('textarea', {
          className: 'form-control',
          value: this.props.value,
          disabled: this.props.loading,
          id: 'editor-textarea',
          onChange: this.props.onChange,
          rows: '9'
        }),
        _react2.default.createElement(
          'div',
          { className: 'editor-footer' },
          _react2.default.createElement(_strong2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_emphasis2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_striketrough2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_hr2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_link2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_image2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_quote2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_code2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading,
            replaceSelection: this.replaceSelection
          }),
          _react2.default.createElement(_uploadButton2.default, {
            className: 'btn-default btn-sm pull-left',
            disabled: this.props.loading || this.state.isPreviewLoading
          }),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-default btn-sm pull-left',
              disabled: this.props.loading || this.state.isPreviewLoading,
              onClick: this.onPreviewClick,
              type: 'button'
            },
            gettext("Preview")
          ),
          _react2.default.createElement(
            _button2.default,
            {
              className: 'btn-primary btn-sm pull-right',
              loading: this.props.loading
            },
            this.props.submitLabel || gettext("Post")
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-sm pull-right',
              disabled: this.props.loading,
              onClick: this.props.onCancel,
              type: 'button'
            },
            gettext("Cancel")
          ),
          _react2.default.createElement(Protect, {
            canProtect: this.props.canProtect,
            disabled: this.props.loading,
            onProtect: this.props.onProtect,
            onUnprotect: this.props.onUnprotect,
            protect: this.props.protect
          })
        ),
        _react2.default.createElement(_attachments2.default, {
          attachments: this.props.attachments,
          onAttachmentsChange: this.props.onAttachmentsChange,
          placeholder: this.props.placeholder,
          replaceSelection: this.replaceSelection
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Protect(props) {
  if (props.canProtect) {
    return _react2.default.createElement(
      'button',
      {
        className: 'btn btn-icon btn-default btn-sm pull-right',
        disabled: props.disabled,
        onClick: props.protect ? props.onUnprotect : props.onProtect,
        title: props.protect ? gettext('Protected') : gettext('Protect'),
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        props.protect ? 'lock' : 'lock_outline'
      )
    );
  } else {
    return null;
  }
}

},{"../..":234,"../../services/ajax":293,"../../services/modal":299,"../../services/snackbar":304,"../button":5,"./actions/code":21,"./actions/emphasis":22,"./actions/hr":23,"./actions/image":24,"./actions/link":25,"./actions/quote":26,"./actions/striketrough":27,"./actions/strong":28,"./attachments":33,"./attachments/upload-button/":35,"./markup-preview":38,"./textutils":39,"react":"react"}],38:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Preview message")
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'modal-body markup-preview' },
        _react2.default.createElement(_misagoMarkup2.default, { markup: props.markup })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../misago-markup":45,"react":"react"}],39:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTextarea = getTextarea;
exports.getValue = getValue;
exports.getSelectionRange = getSelectionRange;
exports.getSelection = getSelection;
exports.getSelectionText = getSelectionText;
exports.setSelection = setSelection;
exports._replace = _replace;
exports.replace = replace;
var textareaId = exports.textareaId = 'editor-textarea';

function getTextarea() {
  return document.getElementById(textareaId);
}

function getValue() {
  return document.getElementById(textareaId).value;
}

function getSelectionRange(start, end) {
  return {
    start: start,
    end: end
  };
}

function getSelection() {
  var ctrl = getTextarea();
  if (document.selection) {
    ctrl.focus();
    var range = document.selection.createRange();
    var length = range.text.length;
    range.moveStart('character', -ctrl.value.length);
    return getSelectionRange(range.text.length - length, range.text.length);
  } else if (ctrl.selectionStart || ctrl.selectionStart == '0') {
    return getSelectionRange(ctrl.selectionStart, ctrl.selectionEnd);
  }
}

function getSelectionText() {
  var range = getSelection();
  return $.trim(getValue().substring(range.start, range.end));
}

function setSelection(selectionRange) {
  var ctrl = getTextarea();
  if (ctrl.setSelectionRange) {
    ctrl.focus();
    ctrl.setSelectionRange(selectionRange.start, selectionRange.end);
  } else if (ctrl.createTextRange) {
    var range = ctrl.createTextRange();
    range.collapse(true);
    range.moveStart('character', selectionRange.start);
    range.moveEnd('character', selectionRange.end);
    range.select();
  }
}

function _replace(myRange, replacement) {
  var ctrl = getTextarea();
  var text = ctrl.value;
  var startText = text.substring(0, myRange.start);
  ctrl.value = text.substring(0, myRange.start) + replacement + text.substring(myRange.end);
  setSelection(getSelectionRange(startText.length + replacement.length, startText.length + replacement.length));
  return ctrl.value;
}

function replace(replacement) {
  return _replace(getSelection(), replacement);
}

},{}],40:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isValidated',
    value: function isValidated() {
      return typeof this.props.validation !== "undefined";
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'form-group';
      if (this.isValidated()) {
        className += ' has-feedback';
        if (this.props.validation === null) {
          className += ' has-success';
        } else {
          className += ' has-error';
        }
      }
      return className;
    }
  }, {
    key: 'getFeedback',
    value: function getFeedback() {
      var _this2 = this;

      if (this.props.validation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'help-block errors' },
          this.props.validation.map(function (error, i) {
            return _react2.default.createElement(
              'p',
              { key: _this2.props.for + 'FeedbackItem' + i },
              error
            );
          })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFeedbackIcon',
    value: function getFeedbackIcon() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'material-icon form-control-feedback',
            'aria-hidden': 'true', key: this.props.for + 'FeedbackIcon' },
          this.props.validation ? 'clear' : 'check'
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFeedbackDescription',
    value: function getFeedbackDescription() {
      if (this.isValidated()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { id: this.props.for + '_status', className: 'sr-only' },
          this.props.validation ? gettext('(error)') : gettext('(success)')
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'label',
          { className: 'control-label ' + (this.props.labelClass || ''),
            htmlFor: this.props.for || '' },
          this.props.label + ':'
        ),
        _react2.default.createElement(
          'div',
          { className: this.props.controlClass || '' },
          this.props.children,
          this.getFeedbackIcon(),
          this.getFeedbackDescription(),
          this.getFeedback(),
          this.getHelpText(),
          this.props.extra || null
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _validators = require('../utils/validators');

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var validateRequired = (0, _validators.required)();

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.bindInput = function (name) {
      return function (event) {
        _this.changeValue(name, event.target.value);
      };
    }, _this.changeValue = function (name, value) {
      var newState = _defineProperty({}, name, value);

      var formErrors = _this.state.errors || {};
      formErrors[name] = _this.validateField(name, newState[name]);
      newState.errors = formErrors;

      _this.setState(newState);
    }, _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();
      if (_this.state.isLoading) {
        return;
      }

      if (_this.clean()) {
        _this.setState({ isLoading: true });
        var promise = _this.send();

        if (promise) {
          promise.then(function (success) {
            _this.setState({ isLoading: false });
            _this.handleSuccess(success);
          }, function (rejection) {
            _this.setState({ isLoading: false });
            _this.handleError(rejection);
          });
        } else {
          _this.setState({ isLoading: false });
        }
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'validate',
    value: function validate() {
      var errors = {};
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: this.state.validators.required || this.state.validators,
        optional: this.state.validators.optional || {}
      };

      var validatedFields = [];

      // add required fields to validation
      for (var name in validators.required) {
        if (validators.required.hasOwnProperty(name) && validators.required[name]) {
          validatedFields.push(name);
        }
      }

      // add optional fields to validation
      for (var _name in validators.optional) {
        if (validators.optional.hasOwnProperty(_name) && validators.optional[_name]) {
          validatedFields.push(_name);
        }
      }

      // validate fields values
      for (var i in validatedFields) {
        var _name2 = validatedFields[i];
        var fieldErrors = this.validateField(_name2, this.state[_name2]);

        if (fieldErrors === null) {
          errors[_name2] = null;
        } else if (fieldErrors) {
          errors[_name2] = fieldErrors;
        }
      }

      return errors;
    }
  }, {
    key: 'isValid',
    value: function isValid() {
      var errors = this.validate();
      for (var field in errors) {
        if (errors.hasOwnProperty(field)) {
          if (errors[field] !== null) {
            return false;
          }
        }
      }

      return true;
    }
  }, {
    key: 'validateField',
    value: function validateField(name, value) {
      var errors = [];
      if (!this.state.validators) {
        return errors;
      }

      var validators = {
        required: (this.state.validators.required || this.state.validators)[name],
        optional: (this.state.validators.optional || {})[name]
      };

      var requiredError = validateRequired(value) || false;

      if (validators.required) {
        if (requiredError) {
          errors = [requiredError];
        } else {
          for (var i in validators.required) {
            var validationError = validators.required[i](value);
            if (validationError) {
              errors.push(validationError);
            }
          }
        }

        return errors.length ? errors : null;
      } else if (requiredError === false && validators.optional) {
        for (var _i in validators.optional) {
          var _validationError = validators.optional[_i](value);
          if (_validationError) {
            errors.push(_validationError);
          }
        }

        return errors.length ? errors : null;
      }

      return false; // false === field wasn't validated
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',
    value: function clean() {
      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return null;
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      return;
    }
  }, {
    key: 'handleError',

    /* jshint ignore:end */
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/snackbar":304,"../utils/validators":321,"react":"react"}],42:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'isActive',
    value: function isActive() {
      if (this.props.isControlled) {
        return this.props.isActive;
      } else {
        if (this.props.path) {
          return document.location.pathname.indexOf(this.props.path) === 0;
        } else {
          return false;
        }
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.isActive()) {
        return (this.props.className || '') + ' ' + (this.props.activeClassName || 'active');
      } else {
        return this.props.className || '';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        this.props.children
      );
      // jshint ignore:end
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.props.className || "loader" },
        _react2.default.createElement("div", { className: "loader-spinning-wheel" })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],44:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.props.onSuccess(success);
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      _this.props.onError(rejection);
    };

    _this.onPollChange = function (event) {
      _this.changeValue('poll', event.target.value);
    };

    _this.state = {
      isLoading: false,

      poll: 0
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var confirmation = confirm(gettext("Are you sure? This will delete other polls."));
      return confirmation;
    }
  }, {
    key: 'send',
    value: function send() {
      var data = Object.assign({}, this.props.data, {
        poll: this.state.poll
      });

      return _ajax2.default.post(this.props.api, data);
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                'aria-label': gettext("Close"),
                className: 'close',
                'data-dismiss': 'modal',
                type: 'button'
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge polls")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                'p',
                null,
                gettext("Select poll to use in merged thread. Other polls will be deleted.")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                {
                  label: gettext("Poll"),
                  'for': 'id_poll'
                },
                _react2.default.createElement(
                  'select',
                  {
                    className: 'form-control',
                    id: 'id_poll',
                    onChange: this.onPollChange,
                    value: this.state.poll
                  },
                  this.props.polls.map(function (poll) {
                    return _react2.default.createElement(
                      'option',
                      { value: poll[0], key: poll[0] },
                      poll[1]
                    );
                  })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Merge polls")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../services/ajax":293,"../services/modal":299,"./button":5,"./form":41,"./form-group":40,"react":"react"}],45:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement('article', {
    className: 'misago-markup',
    dangerouslySetInnerHTML: { __html: props.markup },
    ref: function ref(node) {
      return _oneBox2.default.render(node);
    }
  });
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _oneBox = require('../services/one-box');

var _oneBox2 = _interopRequireDefault(_oneBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/one-box":300,"react":"react"}],46:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body modal-loader' },
        _react2.default.createElement(_loader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":43,"react":"react"}],47:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('./panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_PanelMessage) {
  _inherits(_class, _PanelMessage);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'help-block' },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_panelMessage2.default);

exports.default = _class;

},{"./panel-message":60,"react":"react"}],48:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelLoader2.default, null)
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-loader":59,"react":"react"}],49:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelMessage = require('../../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      if (this.props.options.next_on) {
        return interpolate(gettext("You will be able to change your username %(next_change)s."), { 'next_change': this.props.options.next_on.fromNow() }, true);
      } else {
        return gettext("You have used up available name changes.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-form' },
        _react2.default.createElement(
          'div',
          { className: 'panel-heading' },
          _react2.default.createElement(
            'h3',
            { className: 'panel-title' },
            gettext("Change username")
          )
        ),
        _react2.default.createElement(_panelMessage2.default, { message: gettext("You can't change your username at the moment."),
          helpText: this.getHelpText() })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../panel-message":60,"react":"react"}],50:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      username: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(props.options.length_min), validators.usernameMaxLength(props.options.length_max)]
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getHelpText',
    value: function getHelpText() {
      var phrases = [];

      if (this.props.options.changes_left > 0) {
        var message = ngettext("You can change your username %(changes_left)s more time.", "You can change your username %(changes_left)s more times.", this.props.options.changes_left);

        phrases.push(interpolate(message, {
          'changes_left': this.props.options.changes_left
        }, true));
      }

      if (this.props.user.acl.name_changes_expire > 0) {
        var _message = ngettext("Used changes redeem after %(name_changes_expire)s day.", "Used changes redeem after %(name_changes_expire)s days.", this.props.user.acl.name_changes_expire);

        phrases.push(interpolate(_message, {
          'name_changes_expire': this.props.user.acl.name_changes_expire
        }, true));
      }

      return phrases.length ? phrases.join(' ') : null;
    }
  }, {
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      if (errors.username) {
        _snackbar2.default.error(errors.username[0]);
        return false;
      }if (this.state.username.trim() === this.props.user.username) {
        _snackbar2.default.info(gettext("Your new username is same as current one."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.username, {
        'username': this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.setState({
        'username': ''
      });

      this.props.complete(success.username, success.slug, success.options);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change username")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New username"), 'for': 'id_username',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                helpText: this.getHelpText() },
              _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('username'),
                value: this.state.username })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change username")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":293,"../../../services/snackbar":304,"../../../utils/validators":321,"../../button":5,"../../form":41,"../../form-group":40,"react":"react"}],51:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formLoading = require('./form-loading');

var _formLoading2 = _interopRequireDefault(_formLoading);

var _formLocked = require('./form-locked');

var _formLocked2 = _interopRequireDefault(_formLocked);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _root = require('../../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onComplete = function (username, slug, options) {
      _this.setState({
        options: options
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)({ username: username, slug: slug }, _this.props.user, _this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(_this.props.user, username, slug));

      _snackbar2.default.success(gettext("Your username has been changed successfully."));
    };

    _this.state = {
      isLoaded: false,
      options: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _pageTitle2.default.set({
        title: gettext("Change username"),
        parent: gettext("Change your options")
      });

      Promise.all([_ajax2.default.get(this.props.user.api_url.username), _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), { user: this.props.user.id })]).then(function (data) {
        _store2.default.dispatch((0, _usernameHistory.hydrate)(data[1].results));

        _this2.setState({
          isLoaded: true,
          options: {
            changes_left: data[0].changes_left,
            length_min: data[0].length_min,
            length_max: data[0].length_max,
            next_on: data[0].next_on ? (0, _moment2.default)(data[0].next_on) : null
          }
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getChangeForm',

    /* jshint ignore:end */

    value: function getChangeForm() {
      if (this.state.isLoaded) {
        if (this.state.options.changes_left > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_form2.default, { user: this.props.user,
            options: this.state.options,
            complete: this.onComplete });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_formLocked2.default, { options: this.state.options });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_formLoading2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        this.getChangeForm(),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          changes: this.props['username-history'] })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":234,"../../../reducers/username-history":291,"../../../reducers/users":292,"../../../services/ajax":293,"../../../services/page-title":301,"../../../services/snackbar":304,"../../../services/store":305,"../../username-history/root":216,"./form":50,"./form-loading":48,"./form-locked":49,"moment":"moment","react":"react"}],52:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _select = require('../select');

var _select2 = _interopRequireDefault(_select);

var _yesNoSwitch = require('../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _auth = require('../../reducers/auth');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,

      'is_hiding_presence': props.user.is_hiding_presence,
      'limits_private_thread_invites_to': props.user.limits_private_thread_invites_to,
      'subscribe_to_started_threads': props.user.subscribe_to_started_threads,
      'subscribe_to_replied_threads': props.user.subscribe_to_replied_threads,

      'errors': {}
    };

    _this.privateThreadInvitesChoices = [{
      'value': 0,
      'icon': 'help_outline',
      'label': gettext("Everybody")
    }, {
      'value': 1,
      'icon': 'done_all',
      'label': gettext("Users I follow")
    }, {
      'value': 2,
      'icon': 'highlight_off',
      'label': gettext("Nobody")
    }];

    _this.subscribeToChoices = [{
      'value': 0,
      'icon': 'star_border',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'star_half',
      'label': gettext("Notify")
    }, {
      'value': 2,
      'icon': 'star',
      'label': gettext("Notify with e-mail")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.options, {
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _store2.default.dispatch((0, _auth.patch)({
        is_hiding_presence: this.state.is_hiding_presence,
        limits_private_thread_invites_to: this.state.limits_private_thread_invites_to,
        subscribe_to_started_threads: this.state.subscribe_to_started_threads,
        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads
      }));
      _snackbar2.default.success(gettext("Your forum options have been changed."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(gettext("Please reload page and try again."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Forum options"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change forum options")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Privacy settings")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Hide my presence"),
                  helpText: gettext("If you hide your presence, only members with permission to see hidden users will see when you are online."),
                  'for': 'id_is_hiding_presence',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_hiding_presence',
                  disabled: this.state.isLoading,
                  iconOn: 'visibility_off',
                  iconOff: 'visibility',
                  labelOn: gettext("Hide my presence from other users"),
                  labelOff: gettext("Show my presence to other users"),
                  onChange: this.bindInput('is_hiding_presence'),
                  value: this.state.is_hiding_presence })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Private thread invitations"),
                  'for': 'id_limits_private_thread_invites_to',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_limits_private_thread_invites_to',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('limits_private_thread_invites_to'),
                  value: this.state.limits_private_thread_invites_to,
                  choices: this.privateThreadInvitesChoices })
              )
            ),
            _react2.default.createElement(
              'fieldset',
              null,
              _react2.default.createElement(
                'legend',
                null,
                gettext("Automatic subscriptions")
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Threads I start"),
                  'for': 'id_subscribe_to_started_threads',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_subscribe_to_started_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_started_threads'),
                  value: this.state.subscribe_to_started_threads,
                  choices: this.subscribeToChoices })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Threads I reply to"),
                  'for': 'id_subscribe_to_replied_threads',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
                _react2.default.createElement(_select2.default, { id: 'id_subscribe_to_replied_threads',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('subscribe_to_replied_threads'),
                  value: this.state.subscribe_to_replied_threads,
                  choices: this.subscribeToChoices })
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Save changes")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../reducers/auth":279,"../../services/ajax":293,"../../services/page-title":301,"../../services/snackbar":304,"../../services/store":305,"../button":5,"../form":41,"../form-group":40,"../select":152,"../yes-no-switch":233,"react":"react"}],53:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.options.map(function (option) {
          return _react2.default.createElement(
            _reactRouter.Link,
            { to: _this2.props.baseUrl + option.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: option.component },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              option.icon
            ),
            option.name
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      var _this4 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        this.props.options.map(function (option) {
          return _react2.default.createElement(
            _li2.default,
            { path: _this4.props.baseUrl + option.component + '/',
              key: option.component },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _this4.props.baseUrl + option.component + '/',
                onClick: _this4.props.hideNav },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                option.icon
              ),
              option.name
            )
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../../index":234,"../li":42,"react":"react","react-router":"react-router"}],54:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _forumOptions = require('./forum-options');

var _forumOptions2 = _interopRequireDefault(_forumOptions);

var _root = require('./change-username/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./sign-in-credentials/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-options' },
        _react2.default.createElement(
          'div',
          { className: 'page-header' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'h1',
              { className: 'pull-left' },
              gettext("Change your options")
            ),
            _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.toggleNav,
              dropdown: this.state.dropdown })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { options: _index2.default.get('USER_OPTIONS'),
            baseUrl: _index2.default.get('USERCP_URL'),
            hideNav: this.hideNav })
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(_navs.SideNav, { options: _index2.default.get('USER_OPTIONS'),
                baseUrl: _index2.default.get('USERCP_URL') })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'username-history': store['username-history']
  };
}

function paths() {
  return [{
    path: _index2.default.get('USERCP_URL') + 'forum-options/',
    component: (0, _reactRedux.connect)(select)(_forumOptions2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'change-username/',
    component: (0, _reactRedux.connect)(select)(_root2.default)
  }, {
    path: _index2.default.get('USERCP_URL') + 'sign-in-credentials/',
    component: (0, _reactRedux.connect)(select)(_root4.default)
  }];
}

},{"../../index":234,"../dropdown-toggle":19,"../with-dropdown":232,"./change-username/root":51,"./forum-options":52,"./navs":53,"./sign-in-credentials/root":57,"react":"react","react-redux":"react-redux"}],55:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_email: '',
      password: '',

      validators: {
        new_email: [validators.email()],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_email.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_email) {
        _snackbar2.default.error(errors.new_email[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_email, {
        new_email: this.state.new_email,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_email: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_email) {
          _snackbar2.default.error(rejection.new_email);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change e-mail address")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New e-mail"), 'for': 'id_new_email',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'text', id: 'id_new_email', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_email'),
                value: this.state.new_email })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change e-mail")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":293,"../../../services/snackbar":304,"../../../utils/validators":321,"../../button":5,"../../form":41,"../../form-group":40,"react":"react"}],56:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      new_password: '',
      repeat_password: '',
      password: '',

      validators: {
        new_password: [],
        repeat_password: [],
        password: []
      },

      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      var errors = this.validate();
      var lengths = [this.state.new_password.trim().length, this.state.repeat_password.trim().length, this.state.password.trim().length];

      if (lengths.indexOf(0) !== -1) {
        _snackbar2.default.error(gettext("Fill out all fields."));
        return false;
      }

      if (errors.new_password) {
        _snackbar2.default.error(errors.new_password[0]);
        return false;
      }

      if (this.state.new_password.trim() !== this.state.repeat_password.trim()) {
        _snackbar2.default.error(gettext("New passwords are different."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.user.api_url.change_password, {
        new_password: this.state.new_password,
        password: this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(response) {
      this.setState({
        new_password: '',
        repeat_password: '',
        password: ''
      });

      _snackbar2.default.success(response.detail);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.new_password) {
          _snackbar2.default.error(rejection.new_password);
        } else {
          _snackbar2.default.error(rejection.password);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
        _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-form' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Change password")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("New password"), 'for': 'id_new_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_new_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('new_password'),
                value: this.state.new_password })
            ),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Repeat password"), 'for': 'id_repeat_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_repeat_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('repeat_password'),
                value: this.state.repeat_password })
            ),
            _react2.default.createElement('hr', null),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Your current password"), 'for': 'id_password',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
              _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-sm-8 col-sm-offset-4' },
                _react2.default.createElement(
                  _button2.default,
                  { className: 'btn-primary', loading: this.state.isLoading },
                  gettext("Change password")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../services/ajax":293,"../../../services/snackbar":304,"../../button":5,"../../form":41,"../../form-group":40,"react":"react"}],57:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changeEmail = require('./change-email');

var _changeEmail2 = _interopRequireDefault(_changeEmail);

var _changePassword = require('./change-password');

var _changePassword2 = _interopRequireDefault(_changePassword);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Change email or password"),
        parent: gettext("Change your options")
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_changeEmail2.default, { user: this.props.user }),
        _react2.default.createElement(_changePassword2.default, { user: this.props.user }),
        _react2.default.createElement(
          'p',
          { className: 'message-line' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'warning'
          ),
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('FORGOTTEN_PASSWORD_URL') },
            gettext("Change forgotten password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":234,"../../../services/page-title":301,"./change-email":55,"./change-password":56,"react":"react"}],58:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _stringCount = require('../utils/string-count');

var _stringCount2 = _interopRequireDefault(_stringCount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.copy && this.props.copy.length) {
        if ((0, _stringCount2.default)(this.props.copy, '<p') === 1 && this.props.copy.indexOf('<br') === -1) {
          return 'page-lead lead';
        }
      }

      return 'page-lead';
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.props.copy && this.props.copy.length) {
        /* jshint ignore:start */
        return _react2.default.createElement('div', { className: this.getClassName(), dangerouslySetInnerHTML: {
            __html: this.props.copy
          } });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../utils/string-count":320,"react":"react"}],59:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'panel-body panel-body-loading' },
        _react2.default.createElement(_loader2.default, { className: 'loader loader-spaced' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./loader":43,"react":"react"}],60:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getHelpText",
    value: function getHelpText() {
      if (this.props.helpText) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "p",
          { className: "help-block" },
          this.props.helpText
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "panel-body panel-message-body" },
        _react2.default.createElement(
          "div",
          { className: "message-icon" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.icon || 'info_outline'
          )
        ),
        _react2.default.createElement(
          "div",
          { className: "message-body" },
          _react2.default.createElement(
            "p",
            { className: "lead" },
            this.props.message
          ),
          this.getHelpText()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],61:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.leave = leave;
exports.remove = remove;
exports.changeOwner = changeOwner;

var _participants = require('../../../reducers/participants');

var participants = _interopRequireWildcard(_participants);

var _thread = require('../../../reducers/thread');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function leave(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }]).then(function () {
    _snackbar2.default.success(gettext("You have left this thread."));
    window.setTimeout(function () {
      window.location = _2.default.get('PRIVATE_THREADS_URL');
    }, 3 * 1000);
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function remove(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'remove', path: 'participants', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been removed from this thread.");
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

function changeOwner(thread, participant) {
  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'owner', value: participant.id }, { op: 'add', path: 'acl', value: 1 }]).then(function (data) {
    _store2.default.dispatch((0, _thread.updateAcl)(data));
    _store2.default.dispatch(participants.replace(data.participants));

    var message = gettext("%(user)s has been made new thread owner.");
    _snackbar2.default.success(interpolate(message, {
      user: participant.username
    }, true));
  }, function (rejection) {
    _snackbar2.default.apiError(rejection);
  });
}

},{"../../..":234,"../../../reducers/participants":280,"../../../reducers/thread":288,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305}],62:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var participant = props.participant;

  return _react2.default.createElement(
    'div',
    { className: 'col-md-3 participant-card' },
    _react2.default.createElement(
      'a',
      { className: 'avatar-link', href: participant.url },
      _react2.default.createElement(_avatar2.default, { user: participant, size: '50' })
    ),
    _react2.default.createElement(
      'div',
      { className: 'participant-profile' },
      _react2.default.createElement(
        'a',
        { className: 'item-title', href: participant.url },
        participant.username
      ),
      _react2.default.createElement(
        'ul',
        { className: 'list-unstyled list-inline' },
        _react2.default.createElement(OwnerBadge, participant),
        _react2.default.createElement(_makeOwner2.default, props),
        _react2.default.createElement(_remove2.default, props)
      )
    )
  );
};

exports.OwnerBadge = OwnerBadge;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _makeOwner = require('./make-owner');

var _makeOwner2 = _interopRequireDefault(_makeOwner);

var _remove = require('./remove');

var _remove2 = _interopRequireDefault(_remove);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function OwnerBadge(props) {
  if (!props.is_owner) return null;

  return _react2.default.createElement(
    'li',
    { className: 'participant-owner' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'grade'
    ),
    gettext("Owner")
  );
} // jshint ignore:start

},{"../../avatar":3,"./make-owner":64,"./remove":65,"react":"react"}],63:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'participants-cards' },
    (0, _batch2.default)(props.participants, 4).map(function (row) {
      var key = row.map(function (i) {
        return i.id;
      }).join('_');
      return _react2.default.createElement(_row2.default, {
        key: key,
        participants: row,
        thread: props.thread,
        user: props.user,
        userIsOwner: props.userIsOwner
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _row = require('./row');

var _row2 = _interopRequireDefault(_row);

var _batch = require('../../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/batch":308,"./row":66,"react":"react"}],64:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to take over this thread?"));
      } else {
        var message = gettext("Are you sure you want to change thread owner to %(user)s?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      (0, _actions.changeOwner)(_this.props.thread, _this.props.participant);
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.participant.is_owner) return null;
      if (!this.props.thread.acl.can_change_owner) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', onClick: this.onClick, className: 'btn-link btn-sm' },
          gettext("Make owner")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":61,"react":"react"}],65:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onClick = function () {
      var confirmed = false;
      if (_this.isUser) {
        confirmed = confirm(gettext("Are you sure you want to leave this thread?"));
      } else {
        var message = gettext("Are you sure you want to remove %(user)s from this thread?");
        confirmed = confirm(interpolate(message, {
          user: _this.props.participant.username
        }, true));
      }

      if (!confirmed) return;

      if (_this.isUser) {
        (0, _actions.leave)(_this.props.thread, _this.props.participant);
      } else {
        (0, _actions.remove)(_this.props.thread, _this.props.participant);
      }
    };

    _this.isUser = props.participant.id === props.user.id;
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var isModerator = this.props.user.acl.can_moderate_private_threads;

      if (!(this.props.userIsOwner || this.isUser || isModerator)) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link btn-sm', onClick: this.onClick, type: 'button' },
          this.isUser ? gettext("Leave thread") : gettext("Remove")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./actions":61,"react":"react"}],66:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'row' },
    props.participants.map(function (participant) {
      return _react2.default.createElement(_card2.default, {
        key: participant.id,
        participant: participant,
        thread: props.thread,
        user: props.user,
        userIsOwner: props.userIsOwner
      });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _card = require('./card');

var _card2 = _interopRequireDefault(_card);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./card":62,"react":"react"}],67:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  if (!props.participants.length) return null;

  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-participants' },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(_cardsList2.default, _extends({
        userIsOwner: getUserIsOwner(props.user, props.participants)
      }, props)),
      _react2.default.createElement(
        'p',
        null,
        utils.getParticipantsCopy(props.participants)
      )
    )
  );
};

exports.getUserIsOwner = getUserIsOwner;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _cardsList = require('./cards-list');

var _cardsList2 = _interopRequireDefault(_cardsList);

var _utils = require('./utils');

var utils = _interopRequireWildcard(_utils);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getUserIsOwner(user, participants) {
  return participants[0].id === user.id;
}

},{"./cards-list":63,"./utils":68,"react":"react"}],68:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getParticipantsCopy = getParticipantsCopy;
function getParticipantsCopy(participants) {
  var count = participants.length;
  var message = ngettext("This thread has %(users)s participant.", "This thread has %(users)s participants.", count);

  return interpolate(message, {
    users: count
  }, true);
}

},{}],69:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LABELS = exports.STYLES = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var STYLES = exports.STYLES = ['progress-bar-danger', 'progress-bar-warning', 'progress-bar-warning', 'progress-bar-primary', 'progress-bar-success'];

var LABELS = exports.LABELS = [gettext("Entered password is very weak."), gettext("Entered password is weak."), gettext("Entered password is average."), gettext("Entered password is strong."), gettext("Entered password is very strong.")];

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this._score = 0;
    _this._password = null;
    _this._inputs = [];

    _this.state = {
      loaded: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _zxcvbn2.default.load().then(function () {
        _this2.setState({ loaded: true });
      });
    }
  }, {
    key: 'getScore',
    value: function getScore(password, inputs) {
      var _this3 = this;

      var cacheStale = false;

      if (password.trim() !== this._password) {
        cacheStale = true;
      }

      if (inputs.length !== this._inputs.length) {
        cacheStale = true;
      } else {
        inputs.map(function (value, i) {
          if (value.trim() !== _this3._inputs[i]) {
            cacheStale = true;
          }
        });
      }

      if (cacheStale) {
        this._score = _zxcvbn2.default.scorePassword(password, inputs);
        this._password = password.trim();
        this._inputs = inputs.map(function (value) {
          return value.trim();
        });
      }

      return this._score;
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.state.loaded) return null;

      /* jshint ignore:start */
      var score = this.getScore(this.props.password, this.props.inputs);

      return _react2.default.createElement(
        'div',
        { className: 'help-block password-strength' },
        _react2.default.createElement(
          'div',
          { className: 'progress' },
          _react2.default.createElement(
            'div',
            { className: "progress-bar " + STYLES[score],
              style: { width: 20 + 20 * score + '%' },
              role: 'progress-bar',
              'aria-valuenow': score,
              'aria-valuemin': '0',
              'aria-valuemax': '4' },
            _react2.default.createElement(
              'span',
              { className: 'sr-only' },
              LABELS[score]
            )
          )
        ),
        _react2.default.createElement(
          'p',
          { className: 'text-small' },
          LABELS[score]
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/zxcvbn":306,"react":"react"}],70:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollChoice = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.generateRandomHash = generateRandomHash;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onAdd = function () {
      var choices = _this.props.choices.slice();
      choices.push({
        hash: generateRandomHash(),
        label: ''
      });

      _this.props.setChoices(choices);
    }, _this.onChange = function (hash, label) {
      var choices = _this.props.choices.map(function (choice) {
        if (choice.hash === hash) {
          choice.label = label;
        }

        return choice;
      });
      _this.props.setChoices(choices);
    }, _this.onDelete = function (hash) {
      var choices = _this.props.choices.filter(function (choice) {
        return choice.hash !== hash;
      });
      _this.props.setChoices(choices);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return _react2.default.createElement(
        'div',
        { className: 'poll-choices-control' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.choices.map(function (choice) {
            return _react2.default.createElement(PollChoice, {
              canDelete: _this2.props.choices.length > 2,
              choice: choice,
              disabled: _this2.props.disabled,
              key: choice.hash,
              onChange: _this2.onChange,
              onDelete: _this2.onDelete
            });
          })
        ),
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-sm',
            disabled: this.props.disabled,
            onClick: this.onAdd,
            type: 'button'
          },
          gettext("Add choice")
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var PollChoice = exports.PollChoice = function (_React$Component2) {
  _inherits(PollChoice, _React$Component2);

  function PollChoice() {
    var _ref2;

    var _temp2, _this3, _ret2;

    _classCallCheck(this, PollChoice);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = PollChoice.__proto__ || Object.getPrototypeOf(PollChoice)).call.apply(_ref2, [this].concat(args))), _this3), _this3.onChange = function (event) {
      _this3.props.onChange(_this3.props.choice.hash, event.target.value);
    }, _this3.onDelete = function () {
      var deleteItem = confirm(gettext("Are you sure you want to delete this choice?"));
      if (deleteItem) {
        _this3.props.onDelete(_this3.props.choice.hash);
      }
    }, _temp2), _possibleConstructorReturn(_this3, _ret2);
  }

  _createClass(PollChoice, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn',
            disabled: !this.props.canDelete || this.props.disabled,
            onClick: this.onDelete,
            title: gettext("Delete this choice"),
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'close'
          )
        ),
        _react2.default.createElement('input', {
          disabled: this.props.disabled,
          maxlength: '255',
          placeholder: gettext("choice label"),
          type: 'text',
          onChange: this.onChange,
          value: this.props.choice.label
        })
      );
    }
  }]);

  return PollChoice;
}(_react2.default.Component);

function generateRandomHash() {
  var randomHash = '';
  while (randomHash.length != 12) {
    randomHash = Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g, '').substr(1, 12);
  }
  return randomHash;
}

},{"react":"react"}],71:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PollPublicSwitch = PollPublicSwitch;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _choicesControl = require('./choices-control');

var _choicesControl2 = _interopRequireDefault(_choicesControl);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setChoices = function (choices) {
      var errors = Object.assign({}, errors, { choices: null });

      _this.setState({
        choices: choices,
        errors: errors
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard poll?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    var poll = props.poll || {
      question: '',
      choices: [{
        hash: 'choice-10000',
        label: ''
      }, {
        hash: 'choice-20000',
        label: ''
      }],
      length: 0,
      allowed_choices: 1,
      allow_revotes: 0,
      is_public: 0
    };

    _this.state = {
      isLoading: false,
      isEdit: !!poll.question,

      question: poll.question,
      choices: poll.choices,
      length: poll.length,
      allowed_choices: poll.allowed_choices,
      allow_revotes: poll.allow_revotes,
      is_public: poll.is_public,

      validators: {
        question: [],
        choices: [],
        length: [],
        allowed_choices: []
      },

      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'send',
    value: function send() {
      var data = {
        question: this.state.question,
        choices: this.state.choices,
        length: this.state.length,
        allowed_choices: this.state.allowed_choices,
        allow_revotes: this.state.allow_revotes,
        is_public: this.state.is_public
      };

      if (this.state.isEdit) {
        return _ajax2.default.put(this.props.poll.api.index, data);
      } else {
        return _ajax2.default.post(this.props.thread.api.poll, data);
      }
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));

      if (this.state.isEdit) {
        _snackbar2.default.success(gettext("Poll has been edited."));
      } else {
        _snackbar2.default.success(gettext("Poll has been posted."));
      }

      _posting2.default.close();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.non_field_errors) {
          rejection.allowed_choices = rejection.non_field_errors;
        }

        this.setState({
          'errors': Object.assign({}, rejection)
        });

        _snackbar2.default.error(gettext("Form contains errors."));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'poll-form' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, className: 'form-horizontal' },
            _react2.default.createElement(
              'div',
              { className: 'panel panel-default panel-form' },
              _react2.default.createElement(
                'div',
                { className: 'panel-body' },
                _react2.default.createElement(
                  'fieldset',
                  null,
                  _react2.default.createElement(
                    'legend',
                    null,
                    gettext("Question and choices")
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Poll question"),
                      'for': 'id_questions',
                      labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                      validation: this.state.errors.question
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_questions',
                      onChange: this.bindInput('question'),
                      type: 'text',
                      maxlength: '255',
                      value: this.state.question
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Available choices"),
                      labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                      validation: this.state.errors.choices
                    },
                    _react2.default.createElement(_choicesControl2.default, {
                      choices: this.state.choices,
                      disabled: this.state.isLoading,
                      setChoices: this.setChoices
                    })
                  )
                ),
                _react2.default.createElement(
                  'fieldset',
                  null,
                  _react2.default.createElement(
                    'legend',
                    null,
                    gettext("Voting")
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Poll length"),
                      helpText: gettext("Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely."),
                      'for': 'id_length',
                      labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                      validation: this.state.errors.length
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_length',
                      onChange: this.bindInput('length'),
                      type: 'text',
                      value: this.state.length
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Allowed choices"),
                      'for': 'id_allowed_choices',
                      labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                      validation: this.state.errors.allowed_choices
                    },
                    _react2.default.createElement('input', {
                      className: 'form-control',
                      disabled: this.state.isLoading,
                      id: 'id_allowed_choices',
                      onChange: this.bindInput('allowed_choices'),
                      type: 'text',
                      maxlength: '255',
                      value: this.state.allowed_choices
                    })
                  ),
                  _react2.default.createElement(
                    _formGroup2.default,
                    {
                      label: gettext("Allow vote changes"),
                      'for': 'id_allow_revotes',
                      labelClass: 'col-sm-4', controlClass: 'col-sm-8'
                    },
                    _react2.default.createElement(_yesNoSwitch2.default, {
                      id: 'id_allow_revotes',
                      disabled: this.state.isLoading,
                      iconOn: 'check',
                      iconOff: 'close',
                      labelOn: gettext("Allow participants to change their vote"),
                      labelOff: gettext("Don't allow participants to change their vote"),
                      onChange: this.bindInput('allow_revotes'),
                      value: this.state.allow_revotes
                    })
                  ),
                  _react2.default.createElement(PollPublicSwitch, {
                    bindInput: this.bindInput,
                    disabled: this.state.isLoading,
                    isEdit: this.state.isEdit,
                    value: this.state.is_public
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'panel-footer' },
                _react2.default.createElement(
                  'div',
                  { className: 'row' },
                  _react2.default.createElement(
                    'div',
                    { className: 'col-sm-8 col-sm-offset-4' },
                    _react2.default.createElement(
                      _button2.default,
                      {
                        className: 'btn-primary',
                        loading: this.state.isLoading
                      },
                      this.state.isEdit ? gettext("Save changes") : gettext("Post poll")
                    ),
                    '\xA0',
                    _react2.default.createElement(
                      'button',
                      {
                        className: 'btn btn-default',
                        disabled: this.state.isLoading,
                        onClick: this.onCancel,
                        type: 'button'
                      },
                      gettext("Cancel")
                    )
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function PollPublicSwitch(props) {
  if (props.isEdit) return null;

  return _react2.default.createElement(
    _formGroup2.default,
    {
      label: gettext("Make voting public"),
      helpText: gettext("Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls."),
      'for': 'id_is_public',
      labelClass: 'col-sm-4', controlClass: 'col-sm-8'
    },
    _react2.default.createElement(_yesNoSwitch2.default, {
      id: 'id_is_public',
      disabled: props.disabled,
      iconOn: 'visibility',
      iconOff: 'visibility_off',
      labelOn: gettext("Votes are public"),
      labelOff: gettext("Votes are hidden"),
      onChange: props.bindInput('is_public'),
      value: props.value
    })
  );
}

},{"../../../reducers/poll":281,"../../../services/ajax":293,"../../../services/posting":303,"../../../services/snackbar":304,"../../../services/store":305,"../../button":5,"../../form":41,"../../form-group":40,"../../yes-no-switch":233,"./choices-control":70,"react":"react"}],72:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PollForm = exports.Poll = undefined;

var _poll = require('./poll');

var _poll2 = _interopRequireDefault(_poll);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Poll = _poll2.default;
exports.PollForm = _form2.default;

},{"./form":71,"./poll":74}],73:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-details' },
    _react2.default.createElement(PollCreation, { poll: props.poll }),
    _react2.default.createElement(PollLength, { poll: props.poll }),
    _react2.default.createElement(PollVotes, { votes: props.poll.votes }),
    _react2.default.createElement(PollIsPublic, { poll: props.poll })
  );
};

exports.PollCreation = PollCreation;
exports.getPoster = getPoster;
exports.getPostedOn = getPostedOn;
exports.PollLength = PollLength;
exports.getEndsOn = getEndsOn;
exports.PollVotes = PollVotes;
exports.PollIsPublic = PollIsPublic;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollCreation(props) {
  var message = interpolate((0, _escapeHtml2.default)(gettext("Posted by %(poster)s %(posted_on)s.")), {
    poster: getPoster(props.poll),
    posted_on: getPostedOn(props.poll)
  }, true);

  return _react2.default.createElement('li', {
    className: 'poll-info-creation',
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getPoster(poll) {
  if (poll.url.poster) {
    return interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(poll.url.poster),
      user: (0, _escapeHtml2.default)(poll.poster_name)
    }, true);
  }

  return interpolate(USER_SPAN, {
    user: (0, _escapeHtml2.default)(poll.poster_name)
  }, true);
}

function getPostedOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(poll.posted_on.fromNow())
  }, true);
}

function PollLength(props) {
  if (!props.poll.length) {
    return null;
  }

  var message = interpolate((0, _escapeHtml2.default)(gettext("Voting ends %(ends_on)s.")), {
    ends_on: getEndsOn(props.poll)
  }, true);

  return _react2.default.createElement('li', {
    className: 'poll-info-ends-on',
    dangerouslySetInnerHTML: { __html: message }
  });
}

function getEndsOn(poll) {
  return interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(poll.endsOn.format('LLL')),
    relative: (0, _escapeHtml2.default)(poll.endsOn.fromNow())
  }, true);
}

function PollVotes(props) {
  var message = ngettext("%(votes)s vote", "%(votes)s votes", props.votes);
  var label = interpolate(message, {
    'votes': props.votes
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'poll-info-votes' },
    label
  );
}

function PollIsPublic(props) {
  if (!props.poll.is_public) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'poll-info-public' },
    gettext("Votes are public.")
  );
}

},{"../../utils/escape-html":311,"react":"react"}],74:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getIsPollOver = getIsPollOver;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _results = require('./results');

var _results2 = _interopRequireDefault(_results);

var _voting = require('./voting');

var _voting2 = _interopRequireDefault(_voting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showResults = function () {
      _this.setState({
        showResults: true
      });
    };

    _this.showVoting = function () {
      _this.setState({
        showResults: false
      });
    };

    var showResults = true;
    if (props.user.id && !props.poll.hasSelectedChoices) {
      showResults = false;
    }

    _this.state = {
      showResults: showResults
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.poll) return null;

      var isPollOver = getIsPollOver(this.props.poll);

      if (!isPollOver && this.props.poll.acl.can_vote && !this.state.showResults) {
        return _react2.default.createElement(_voting2.default, _extends({ showResults: this.showResults }, this.props));
      } else {
        return _react2.default.createElement(_results2.default, _extends({
          isPollOver: isPollOver,
          showVoting: this.showVoting
        }, this.props));
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function getIsPollOver(poll) {
  if (poll.length) {
    return (0, _moment2.default)().isAfter(poll.endsOn);
  }
  return false;
}

},{"./results":76,"./voting":80,"moment":"moment","react":"react"}],75:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled poll-choices-bars" },
    props.poll.choices.map(function (choice) {
      return _react2.default.createElement(PollChoice, {
        choice: choice,
        key: choice.hash,
        poll: props.poll
      });
    })
  );
};

exports.PollChoice = PollChoice;
exports.ChoiceVotes = ChoiceVotes;
exports.getVotesLabel = getVotesLabel;
exports.UserChoice = UserChoice;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function PollChoice(props) {
  var proc = 0;
  if (props.choice.votes && props.poll.votes) {
    proc = Math.ceil(props.choice.votes * 100 / props.poll.votes);
  }

  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled list-inline poll-chart" },
      _react2.default.createElement(
        "li",
        { className: "poll-char-label" },
        _react2.default.createElement(
          "strong",
          null,
          props.choice.label
        )
      ),
      _react2.default.createElement(ChoiceVotes, {
        proc: proc,
        votes: props.choice.votes
      }),
      _react2.default.createElement(UserChoice, { selected: props.choice.selected })
    ),
    _react2.default.createElement(
      "div",
      { className: "progress" },
      _react2.default.createElement(
        "div",
        {
          className: "progress-bar",
          role: "progressbar",
          "aria-valuenow": proc,
          "aria-valuemin": "0",
          "aria-valuemax": "100",
          style: { width: proc + '%' }
        },
        _react2.default.createElement(
          "span",
          { className: "sr-only" },
          getVotesLabel(props.votes, props.proc)
        )
      )
    )
  );
}

function ChoiceVotes(props) {
  return _react2.default.createElement(
    "li",
    { className: "poll-chart-votes" },
    getVotesLabel(props.votes, props.proc)
  );
}

function getVotesLabel(votes, proc) {
  var message = ngettext("%(votes)s vote, %(proc)s% of total.", "%(votes)s votes, %(proc)s% of total.", votes);

  return interpolate(message, {
    'votes': votes,
    'proc': proc
  }, true);
}

function UserChoice(props) {
  if (!props.selected) return null;

  return _react2.default.createElement(
    "li",
    { className: "poll-chart-selected" },
    _react2.default.createElement(
      "span",
      { className: "material-icon" },
      "check_circle"
    ),
    gettext("Your choice.")
  );
}

},{"react":"react"}],76:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel panel-default panel-poll' },
    _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(
        'h2',
        null,
        props.poll.question
      ),
      _react2.default.createElement(_info2.default, { poll: props.poll }),
      _react2.default.createElement(_chart2.default, { poll: props.poll }),
      _react2.default.createElement(_options2.default, {
        isPollOver: props.isPollOver,
        poll: props.poll,
        showVoting: props.showVoting,
        thread: props.thread
      })
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _chart = require('./chart');

var _chart2 = _interopRequireDefault(_chart);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

var _info = require('../info');

var _info2 = _interopRequireDefault(_info);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../info":73,"./chart":75,"./options":78,"react":"react"}],77:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalBody = ModalBody;
exports.ChoicesList = ChoicesList;
exports.ChoiceDetails = ChoiceDetails;
exports.VotesCount = VotesCount;
exports.VotesList = VotesList;
exports.Voter = Voter;
exports.VoteDate = VoteDate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoading: true,
      error: null,
      data: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.poll.api.votes).then(function (data) {
        var hydratedData = data.map(function (choice) {
          return Object.assign({}, choice, {
            voters: choice.voters.map(function (voter) {
              return Object.assign({}, voter, {
                voted_on: (0, _moment2.default)(voter.voted_on)
              });
            })
          });
        });

        _this2.setState({
          isLoading: false,
          data: hydratedData
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          className: 'modal-dialog' + (this.state.error ? ' modal-message' : ' modal-sm'),
          role: 'document'
        },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              {
                type: 'button',
                className: 'close',
                'data-dismiss': 'modal',
                'aria-label': gettext("Close")
              },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Poll votes")
            )
          ),
          _react2.default.createElement(ModalBody, {
            data: this.state.data,
            error: this.state.error,
            isLoading: this.state.isLoading
          })
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalBody(props) {
  if (props.isLoading) {
    return _react2.default.createElement(_modalLoader2.default, null);
  } else if (props.error) {
    return _react2.default.createElement(_modalMessage2.default, {
      icon: 'error_outline',
      message: props.error
    });
  } else {
    return _react2.default.createElement(ChoicesList, {
      data: props.data
    });
  }
}

function ChoicesList(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-body' },
    _react2.default.createElement(
      'ul',
      { className: 'list-unstyled votes-details' },
      props.data.map(function (choice) {
        return _react2.default.createElement(ChoiceDetails, _extends({
          key: choice.hash
        }, choice));
      })
    )
  );
}

function ChoiceDetails(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'h4',
      null,
      props.label
    ),
    _react2.default.createElement(VotesCount, { votes: props.votes }),
    _react2.default.createElement(VotesList, { voters: props.voters }),
    _react2.default.createElement('hr', null)
  );
}

function VotesCount(props) {
  var message = ngettext("%(votes)s user has voted for this choice.", "%(votes)s users have voted for this choice.", props.votes);

  var label = interpolate(message, {
    'votes': props.votes
  }, true);

  return _react2.default.createElement(
    'p',
    null,
    label
  );
}

function VotesList(props) {
  if (!props.voters.length) return null;

  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled' },
    props.voters.map(function (user) {
      return _react2.default.createElement(Voter, _extends({
        key: user.slug
      }, user));
    })
  );
}

function Voter(props) {
  if (props.url) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        {
          className: 'item-title',
          href: props.url
        },
        props.username
      ),
      '\xA0',
      _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
    );
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'strong',
      null,
      props.username
    ),
    '\xA0',
    _react2.default.createElement(VoteDate, { voted_on: props.voted_on })
  );
}

function VoteDate(props) {
  return _react2.default.createElement(
    'abbr',
    {
      className: 'text-muted',
      title: props.voted_on.format('LLL')
    },
    props.voted_on.fromNow()
  );
}

},{"../../../services/ajax":293,"../../modal-loader":46,"../../modal-message":47,"moment":"moment","react":"react"}],78:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Edit = exports.SeeVotes = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!isVisible(props.isPollOver, props.poll.acl, props.poll)) return null;

  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-options' },
    _react2.default.createElement(ChangeVote, {
      isPollOver: props.isPollOver,
      poll: props.poll,
      showVoting: props.showVoting
    }),
    _react2.default.createElement(SeeVotes, { poll: props.poll }),
    _react2.default.createElement(Edit, {
      poll: props.poll,
      thread: props.thread
    }),
    _react2.default.createElement(Delete, { poll: props.poll })
  );
};

exports.isVisible = isVisible;
exports.ChangeVote = ChangeVote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _thread = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal3 = require('../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


function isVisible(isPollOver, acl, poll) {
  return poll.is_public || acl.can_delete || acl.can_edit || acl.can_see_votes || acl.can_vote && !isPollOver && (!poll.hasSelectedChoices || poll.allow_revotes);
}

function ChangeVote(props) {
  var canVote = props.poll.acl.can_vote;
  var canChangeVote = !props.poll.hasSelectedChoices || props.poll.allow_revotes;

  if (!(canVote && canChangeVote)) return null;

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'button',
      {
        className: 'btn btn-default',
        disabled: props.poll.isBusy,
        onClick: props.showVoting
      },
      gettext("Vote")
    )
  );
}

var SeeVotes = exports.SeeVotes = function (_React$Component) {
  _inherits(SeeVotes, _React$Component);

  function SeeVotes() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, SeeVotes);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SeeVotes.__proto__ || Object.getPrototypeOf(SeeVotes)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { poll: _this.props.poll }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(SeeVotes, [{
    key: 'render',
    value: function render() {
      var seeVotes = this.props.poll.is_public || this.props.poll.acl.can_see_votes;
      if (!seeVotes) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick
          },
          gettext("See votes")
        )
      );
    }
  }]);

  return SeeVotes;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component2) {
  _inherits(Edit, _React$Component2);

  function Edit() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Edit);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _posting2.default.open({
        thread: _this2.props.thread,
        poll: _this2.props.poll,
        config: {
          mode: 'POLL'
        }
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (!this.props.poll.acl.can_edit) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick
          },
          gettext("Edit")
        )
      );
    }
  }]);

  return Edit;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var deletePoll = confirm(gettext("Are you sure you want to delete this poll? This action is not reversible."));
      if (deletePoll) {
        _store2.default.dispatch(poll.busy());

        _ajax2.default.delete(_this3.props.poll.api.index).then(_this3.handleSuccess, _this3.handleError);
      }
    }, _this3.handleSuccess = function (newThreadAcl) {
      _snackbar2.default.success("Poll has been deleted");
      _store2.default.dispatch(poll.remove());
      _store2.default.dispatch(thread.updateAcl(newThreadAcl));
    }, _this3.handleError = function (rejection) {
      _snackbar2.default.apiError(rejection);
      _store2.default.dispatch(poll.release());
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (!this.props.poll.acl.can_delete) return null;

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            disabled: this.props.poll.isBusy,
            onClick: this.onClick
          },
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/poll":281,"../../../reducers/thread":288,"../../../services/ajax":293,"../../../services/modal":299,"../../../services/posting":303,"../../../services/snackbar":304,"../../../services/store":305,"./modal":77,"react":"react"}],79:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-unstyled list-inline poll-help' },
    _react2.default.createElement(PollChoicesLeft, { choicesLeft: props.choicesLeft }),
    _react2.default.createElement(PollAllowRevote, { poll: props.poll })
  );
};

exports.PollChoicesLeft = PollChoicesLeft;
exports.PollAllowRevote = PollAllowRevote;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function PollChoicesLeft(props) {
  var message = ngettext("You can select %(choices)s choice.", "You can select %(choices)s choices.", props.choicesLeft);

  var label = interpolate(message, {
    'choices': props.choicesLeft
  }, true);

  return _react2.default.createElement(
    'li',
    { className: 'poll-help-choices-left' },
    label
  );
}

function PollAllowRevote(props) {
  if (props.poll.allow_revotes) {
    return _react2.default.createElement(
      'li',
      { className: 'poll-help-allow-revotes' },
      gettext("You can change your vote later.")
    );
  }

  return _react2.default.createElement(
    'li',
    { className: 'poll-help-no-revotes' },
    gettext("Votes are final.")
  );
}

},{"../../../utils/escape-html":311,"react":"react"}],80:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _help = require('./help');

var _help2 = _interopRequireDefault(_help);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _utils = require('./utils');

var _info = require('../info');

var _info2 = _interopRequireDefault(_info);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _poll = require('../../../reducers/poll');

var poll = _interopRequireWildcard(_poll);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleChoice = function (hash) {
      var choice = (0, _utils.getChoiceFromHash)(_this.state.choices, hash);

      var choices = null;
      if (!choice.selected) {
        choices = _this.selectChoice(choice, hash);
      } else {
        choices = _this.deselectChoice(choice, hash);
      }

      _this.setState({
        choices: choices,
        choicesLeft: (0, _utils.getChoicesLeft)(_this.props.poll, choices)
      });
    };

    _this.selectChoice = function (choice, hash) {
      var choicesLeft = (0, _utils.getChoicesLeft)(_this.props.poll, _this.state.choices);

      if (!choicesLeft) {
        for (var i in _this.state.choices.slice()) {
          var item = _this.state.choices[i];
          if (item.selected && item.hash != hash) {
            item.selected = false;
            break;
          }
        }
      }

      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? true : choice.selected
        });
      });
    };

    _this.deselectChoice = function (choice, hash) {
      return _this.state.choices.map(function (choice) {
        return Object.assign({}, choice, {
          selected: choice.hash == hash ? false : choice.selected
        });
      });
    };

    _this.state = {
      isLoading: false,

      choices: props.poll.choices,
      choicesLeft: (0, _utils.getChoicesLeft)(props.poll, props.poll.choices)
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.state.choicesLeft === this.props.poll.allowed_choices) {
        _snackbar2.default.error(gettext("You need to select at least one choice"));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      var data = [];
      for (var i in this.state.choices.slice()) {
        var item = this.state.choices[i];
        if (item.selected) {
          data.push(item.hash);
        }
      }

      return _ajax2.default.post(this.props.poll.api.votes, data);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(poll.replace(data));
      _snackbar2.default.success(gettext("Your vote has been saved."));

      this.props.showResults();
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'panel panel-default panel-poll' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'h2',
              null,
              this.props.poll.question
            ),
            _react2.default.createElement(_info2.default, { poll: this.props.poll }),
            _react2.default.createElement(_select2.default, {
              choices: this.state.choices,
              toggleChoice: this.toggleChoice
            }),
            _react2.default.createElement(_help2.default, {
              choicesLeft: this.state.choicesLeft,
              poll: this.props.poll
            })
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-footer' },
            _react2.default.createElement(
              _button2.default,
              {
                className: 'btn-primary',
                loading: this.state.isLoading
              },
              gettext("Save your vote")
            ),
            '\xA0',
            _react2.default.createElement(
              'button',
              {
                className: 'btn btn-default',
                disabled: this.state.isLoading,
                onClick: this.props.showResults,
                type: 'button'
              },
              gettext("See results")
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/poll":281,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305,"../../button":5,"../../form":41,"../info":73,"./help":79,"./select":81,"./utils":82,"react":"react"}],81:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChoiceSelect = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    "ul",
    { className: "list-unstyled poll-select-choices" },
    props.choices.map(function (choice) {
      return _react2.default.createElement(ChoiceSelect, {
        choice: choice,
        key: choice.hash,
        toggleChoice: props.toggleChoice
      });
    })
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var ChoiceSelect = exports.ChoiceSelect = function (_React$Component) {
  _inherits(ChoiceSelect, _React$Component);

  function ChoiceSelect() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, ChoiceSelect);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ChoiceSelect.__proto__ || Object.getPrototypeOf(ChoiceSelect)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _this.props.toggleChoice(_this.props.choice.hash);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(ChoiceSelect, [{
    key: "render",
    value: function render() {
      return _react2.default.createElement(
        "li",
        { className: "poll-select-choice" },
        _react2.default.createElement(
          "button",
          {
            className: this.props.choice.selected ? 'btn btn-selected' : 'btn',
            onClick: this.onClick,
            type: "button"
          },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.props.choice.selected ? 'check_circle' : 'check'
          ),
          _react2.default.createElement(
            "strong",
            null,
            this.props.choice.label
          )
        )
      );
    }
  }]);

  return ChoiceSelect;
}(_react2.default.Component);

},{"react":"react"}],82:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getChoiceFromHash = getChoiceFromHash;
exports.getChoicesLeft = getChoicesLeft;
function getChoiceFromHash(choices, hash) {
  for (var i in choices) {
    var choice = choices[i];
    if (choice.hash === hash) {
      return choice;
    }
  }

  return null;
}

function getChoicesLeft(poll, choices) {
  var selection = [];
  for (var i in choices) {
    var choice = choices[i];
    if (choice.selected) {
      selection.push(choice);
    }
  }

  return poll.allowed_choices - selection.length;
}

},{}],83:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "modal-body post-changelog-diff" },
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled" },
      props.diff.map(function (item, i) {
        return _react2.default.createElement(DiffItem, { item: item, key: i });
      })
    )
  );
};

exports.DiffItem = DiffItem;
exports.getItemClassName = getItemClassName;
exports.cleanItem = cleanItem;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function DiffItem(props) {
  if (props.item[0] === '?') return null;

  return _react2.default.createElement(
    "li",
    { className: getItemClassName(props.item) },
    cleanItem(props.item)
  );
}

function getItemClassName(item) {
  var className = 'diff-item';
  if (item[0] === '-') {
    className += ' diff-item-sub';
  } else if (item[0] === '+') {
    className += ' diff-item-add';
  }
  return className;
}

function cleanItem(item) {
  return item.substr(2);
}

},{"react":"react"}],84:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalDialog = ModalDialog;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diff = require('./diff');

var _diff2 = _interopRequireDefault(_diff);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

var _utils = require('./utils');

var _modalMessage = require('../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.goToEdit = function () {
      var edit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits;
      if (edit !== null) {
        url += '?edit=' + edit;
      }

      _ajax2.default.get(url).then(function (data) {
        _this.setState({
          isReady: true,
          isBusy: false,
          edit: (0, _utils.hydrateEdit)(data)
        });
      }, function (rejection) {
        _this.setState({
          isReady: true,
          isBusy: false,
          error: rejection.detail
        });
      });
    };

    _this.revertEdit = function (edit) {
      if (_this.state.isBusy) return;

      var confirmation = confirm(gettext("Are you sure you with to revert this post to the state from before this edit?"));
      if (!confirmation) return;

      _this.setState({
        isBusy: true
      });

      var url = _this.props.post.api.edits + '?edit=' + edit;
      _ajax2.default.post(url).then(function (data) {
        var hydratedPost = post.hydrate(data);
        _store2.default.dispatch(post.patch(data, hydratedPost));

        _snackbar2.default.success(gettext("Post has been reverted to previous state."));
        _modal2.default.hide();
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _this.setState({
          isBusy: false
        });
      });
    };

    _this.state = {
      isReady: false,
      isBusy: true,

      canRevert: props.post.acl.can_edit,

      error: null,
      edit: null
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.goToEdit();
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-dialog modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: this.state.error
          })
        );
      } else if (this.state.isReady) {
        return _react2.default.createElement(
          ModalDialog,
          null,
          _react2.default.createElement(_toolbar2.default, {
            canRevert: this.state.canRevert,
            disabled: this.state.isBusy,
            edit: this.state.edit,
            goToEdit: this.goToEdit,
            revertEdit: this.revertEdit
          }),
          _react2.default.createElement(_diff2.default, { diff: this.state.edit.diff })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        null,
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function ModalDialog(props) {
  return _react2.default.createElement(
    'div',
    {
      className: props.className || "modal-dialog",
      role: 'document'
    },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Post edits history")
        )
      ),
      props.children
    )
  );
}

},{"../../reducers/post":282,"../../services/ajax":293,"../../services/modal":299,"../../services/snackbar":304,"../../services/store":305,"../modal-loader":46,"../modal-message":47,"./diff":83,"./toolbar":85,"./utils":86,"react":"react"}],85:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.GoBackBtn = GoBackBtn;
exports.GoForwardBtn = GoForwardBtn;
exports.GoLastBtn = GoLastBtn;
exports.RevertBtn = RevertBtn;
exports.Label = Label;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _escapeHtml = require('../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.goLast = function () {
      _this.props.goToEdit();
    }, _this.goForward = function () {
      _this.props.goToEdit(_this.props.edit.next);
    }, _this.goBack = function () {
      _this.props.goToEdit(_this.props.edit.previous);
    }, _this.revertEdit = function () {
      _this.props.revertEdit(_this.props.edit.id);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-toolbar' },
        _react2.default.createElement(GoBackBtn, {
          disabled: this.props.disabled,
          edit: this.props.edit,
          onClick: this.goBack
        }),
        _react2.default.createElement(GoForwardBtn, {
          disabled: this.props.disabled,
          edit: this.props.edit,
          onClick: this.goForward
        }),
        _react2.default.createElement(GoLastBtn, {
          disabled: this.props.disabled,
          edit: this.props.edit,
          onClick: this.goLast
        }),
        _react2.default.createElement(Label, { edit: this.props.edit }),
        _react2.default.createElement(RevertBtn, {
          canRevert: this.props.canRevert,
          disabled: this.props.disabled,
          onClick: this.revertEdit
        })
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function GoBackBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-icon btn-sm pull-left',
      disabled: props.disabled || !props.edit.previous,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_left'
    )
  );
}

function GoForwardBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-icon btn-sm pull-left',
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chevron_right'
    )
  );
}

function GoLastBtn(props) {
  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-icon btn-sm pull-left',
      disabled: props.disabled || !props.edit.next,
      onClick: props.onClick,
      title: gettext("See previous change")
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'last_page'
    )
  );
}

function RevertBtn(props) {
  if (!props.canRevert) return null;

  return _react2.default.createElement(
    _button2.default,
    {
      className: 'btn-default btn-sm pull-right',
      disabled: props.disabled,
      onClick: props.onClick,
      title: gettext("Revert post to state from before this edit.")
    },
    gettext("Revert")
  );
}

function Label(props) {
  var user = null;
  if (props.edit.url.editor) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.edit.url.editor),
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.edit.editor_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.edit.edited_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.edit.edited_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(edited_by)s %(edited_on)s.")), {
    edited_by: user,
    edited_on: date
  }, true);

  return _react2.default.createElement('p', {
    className: 'pull-left',
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../utils/escape-html":311,"../button":5,"react":"react"}],86:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hydrateEdit = hydrateEdit;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hydrateEdit(json) {
  return Object.assign({}, json, {
    edited_on: (0, _moment2.default)(json.edited_on)
  });
}

},{"moment":"moment"}],87:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.hydrateLike = hydrateLike;
exports.ModalDialog = ModalDialog;
exports.LikesList = LikesList;
exports.LikeDetails = LikeDetails;
exports.LikeDate = LikeDate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _modalMessage = require('./modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _modalLoader = require('./modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isReady: false,

      error: null,
      likes: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.post.api.likes).then(function (data) {
        _this2.setState({
          isReady: true,
          likes: data.map(hydrateLike)
        });
      }, function (rejection) {
        _this2.setState({
          isReady: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.error) {
        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: this.state.error
          })
        );
      } else if (this.state.isReady) {
        if (this.state.likes.length) {
          return _react2.default.createElement(
            ModalDialog,
            null,
            _react2.default.createElement(LikesList, {
              likes: this.state.likes
            })
          );
        }

        return _react2.default.createElement(
          ModalDialog,
          { className: 'modal-message' },
          _react2.default.createElement(_modalMessage2.default, {
            message: gettext("No users have liked this post.")
          })
        );
      }

      return _react2.default.createElement(
        ModalDialog,
        null,
        _react2.default.createElement(_modalLoader2.default, null)
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function hydrateLike(data) {
  return Object.assign({}, data, {
    liked_on: (0, _moment2.default)(data.liked_on)
  });
}

function ModalDialog(props) {
  return _react2.default.createElement(
    'div',
    {
      className: "modal-dialog modal-sm " + (props.className || ''),
      role: 'document'
    },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Post Likes")
        )
      ),
      props.children
    )
  );
}

function LikesList(props) {
  return _react2.default.createElement(
    'table',
    { className: 'table' },
    _react2.default.createElement(
      'tbody',
      null,
      props.likes.map(function (like) {
        return _react2.default.createElement(LikeDetails, _extends({
          key: like.id
        }, like));
      })
    )
  );
}

function LikeDetails(props) {
  if (props.url) {
    return _react2.default.createElement(
      'tr',
      null,
      _react2.default.createElement(
        'td',
        { className: 'col-md-6' },
        _react2.default.createElement(
          'a',
          {
            className: 'item-title',
            href: props.url
          },
          props.username
        )
      ),
      _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
    );
  }

  return _react2.default.createElement(
    'tr',
    null,
    _react2.default.createElement(
      'td',
      { className: 'col-md-6' },
      _react2.default.createElement(
        'strong',
        null,
        props.username
      )
    ),
    _react2.default.createElement(LikeDate, { likedOn: props.liked_on })
  );
}

function LikeDate(props) {
  return _react2.default.createElement(
    'td',
    { className: 'col-md-6' },
    _react2.default.createElement(
      'abbr',
      {
        className: 'text-muted',
        title: props.likedOn.format('LLL')
      },
      props.likedOn.fromNow()
    )
  );
}

},{"../services/ajax":293,"./modal-loader":46,"./modal-message":47,"moment":"moment","react":"react"}],88:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post,
        attachments: attachments.hydrate(data.attachments),
        protect: data.is_protected,

        canProtect: data.can_protect
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard changes?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onProtect = function () {
      _this.setState({
        protect: true
      });
    };

    _this.onUnprotect = function () {
      _this.setState({
        protect: false
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],
      protect: false,

      canProtect: false,

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.put(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        protect: this.state.protect
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Reply has been edited."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  canProtect: this.state.canProtect,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  onProtect: this.onProtect,
                  onUnprotect: this.onUnprotect,
                  protect: this.state.protect,
                  submitLabel: gettext("Edit reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":293,"../../services/posting":303,"../../services/snackbar":304,"../editor":37,"../form":41,"./utils/attachments":93,"./utils/container":94,"./utils/loader":95,"./utils/message":96,"./utils/validators":99,"react":"react"}],89:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.mode === 'START') {
    return _react2.default.createElement(_start2.default, props);
  } else if (props.mode === 'START_PRIVATE') {
    return _react2.default.createElement(_startPrivate2.default, props);
  } else if (props.mode === 'REPLY') {
    return _react2.default.createElement(_reply2.default, props);
  } else if (props.mode === 'EDIT') {
    return _react2.default.createElement(_edit2.default, props);
  } else {
    return null;
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _start = require('./start');

var _start2 = _interopRequireDefault(_start);

var _startPrivate = require('./start-private');

var _startPrivate2 = _interopRequireDefault(_startPrivate);

var _reply = require('./reply');

var _reply2 = _interopRequireDefault(_reply);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./edit":88,"./reply":90,"./start":92,"./start-private":91,"react":"react"}],90:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      _this.setState({
        isReady: true,

        post: data.post ? '[quote="@' + data.poster + '"]\n' + data.post + '\n[/quote]' : ''
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.appendData = function (data) {
      var newPost = data.post ? '[quote="@' + data.poster + '"]\n' + data.post + '\n[/quote]\n\n' : '';

      _this.setState(function (prevState, props) {
        if (prevState.post.length > 0) {
          return {
            post: prevState.post + '\n\n' + newPost
          };
        }

        return {
          post: newPost
        };
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard your reply?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      post: '',
      attachments: [],

      validators: {
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config, this.props.context || null).then(this.loadSuccess, this.loadError);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var context = this.props.context;
      var newContext = nextProps.context;

      if (context && newContext && context.reply === newContext.reply) return;

      _ajax2.default.get(nextProps.config, nextProps.context || null).then(this.appendData, _snackbar2.default.apiError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your reply has been posted."));
      window.location = success.url.index;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, method: 'POST' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post reply"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":293,"../../services/posting":303,"../../services/snackbar":304,"../editor":37,"../form":41,"./utils/attachments":93,"./utils/container":94,"./utils/loader":95,"./utils/message":96,"./utils/validators":99,"react":"react"}],91:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _usernames = require('./utils/usernames');

var _usernames2 = _interopRequireDefault(_usernames);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard private thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onToChange = function (event) {
      _this.changeValue('to', event.target.value);
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    var to = (props.to || []).map(function (user) {
      return user.username;
    }).join(', ');

    _this.state = {
      isLoading: false,

      to: to,
      title: '',
      post: '',
      attachments: [],

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!(0, _usernames2.default)(this.state.to).length) {
        _snackbar2.default.error(gettext("You have to enter at least one recipient."));
        return false;
      }

      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        to: (0, _usernames2.default)(this.state.to),
        title: this.state.title,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments)
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.to) {
          _snackbar2.default.error(rejection.to[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _container2.default,
        { className: 'posting-form', withFirstRow: true },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onToChange,
                placeholder: gettext("Comma separated list of user names, eg.: Danny, Lisa"),
                type: 'text',
                value: this.state.to
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'row first-row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement('input', {
                className: 'form-control',
                disabled: this.state.isLoading,
                onChange: this.onTitleChange,
                placeholder: gettext("Thread title"),
                type: 'text',
                value: this.state.title
              })
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement(_editor2.default, {
                attachments: this.state.attachments,
                loading: this.state.isLoading,
                onAttachmentsChange: this.onAttachmentsChange,
                onCancel: this.onCancel,
                onChange: this.onPostChange,
                submitLabel: gettext("Post thread"),
                value: this.state.post
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":293,"../../services/posting":303,"../../services/snackbar":304,"../editor":37,"../form":41,"./utils/attachments":93,"./utils/container":94,"./utils/message":96,"./utils/usernames":98,"./utils/validators":99,"react":"react"}],92:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categorySelect = require('../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _editor = require('../editor');

var _editor2 = _interopRequireDefault(_editor);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _container = require('./utils/container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('./utils/loader');

var _loader2 = _interopRequireDefault(_loader);

var _message = require('./utils/message');

var _message2 = _interopRequireDefault(_message);

var _options = require('./utils/options');

var _options2 = _interopRequireDefault(_options);

var _attachments = require('./utils/attachments');

var attachments = _interopRequireWildcard(_attachments);

var _validators = require('./utils/validators');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line
//jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadSuccess = function (data) {
      var category = null;
      var showOptions = false;
      var categoryOptions = null;

      // hydrate categories, extract posting options
      var categories = data.map(function (item) {
        // pick first category that allows posting and if it may, override it with initial one
        if (item.post !== false && (!category || item.id == _this.state.category)) {
          category = item.id;
          categoryOptions = item.post;
        }

        if (item.post && (item.post.close || item.post.hide || item.post.pin)) {
          showOptions = true;
        }

        return Object.assign(item, {
          disabled: item.post === false,
          label: item.name,
          value: item.id
        });
      });

      _this.setState({
        isReady: true,
        showOptions: showOptions,

        categories: categories,
        category: category,
        categoryOptions: categoryOptions
      });
    };

    _this.loadError = function (rejection) {
      _this.setState({
        isErrored: rejection.detail
      });
    };

    _this.onCancel = function () {
      var cancel = confirm(gettext("Are you sure you want to discard thread?"));
      if (cancel) {
        _posting2.default.close();
      }
    };

    _this.onTitleChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onCategoryChange = function (event) {
      var category = _this.state.categories.find(function (item) {
        return event.target.value == item.value;
      });

      // if selected pin is greater than allowed, reduce it
      var pin = _this.state.pin;
      if (category.post.pin && category.post.pin < pin) {
        pin = category.post.pin;
      }

      _this.setState({
        category: category.id,
        categoryOptions: category.post,

        pin: pin
      });
    };

    _this.onPostChange = function (event) {
      _this.changeValue('post', event.target.value);
    };

    _this.onAttachmentsChange = function (attachments) {
      _this.setState({
        attachments: attachments
      });
    };

    _this.onClose = function () {
      _this.changeValue('close', true);
    };

    _this.onOpen = function () {
      _this.changeValue('close', false);
    };

    _this.onPinGlobally = function () {
      _this.changeValue('pin', 2);
    };

    _this.onPinLocally = function () {
      _this.changeValue('pin', 1);
    };

    _this.onUnpin = function () {
      _this.changeValue('pin', 0);
    };

    _this.onHide = function () {
      _this.changeValue('hide', true);
    };

    _this.onUnhide = function () {
      _this.changeValue('hide', false);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isErrored: false,

      showOptions: false,
      categoryOptions: null,

      title: '',
      category: props.category || null,
      categories: [],
      post: '',
      attachments: [],
      close: false,
      hide: false,
      pin: 0,

      validators: {
        title: (0, _validators.getTitleValidators)(),
        post: (0, _validators.getPostValidators)()
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _ajax2.default.get(this.props.config).then(this.loadSuccess, this.loadError);
    }

    /* jshint ignore:start */

  }, {
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      if (!this.state.post.trim().length) {
        _snackbar2.default.error(gettext("You have to enter a message."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      if (errors.post) {
        _snackbar2.default.error(errors.post[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.submit, {
        title: this.state.title,
        category: this.state.category,
        post: this.state.post,
        attachments: attachments.clean(this.state.attachments),
        close: this.state.close,
        hide: this.state.hide,
        pin: this.state.pin
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _snackbar2.default.success(gettext("Your thread has been posted."));
      window.location = success.url;

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.category) {
          _snackbar2.default.error(rejection.category[0]);
        } else if (rejection.title) {
          _snackbar2.default.error(rejection.title[0]);
        } else if (rejection.post) {
          _snackbar2.default.error(rejection.post[0]);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          _container2.default,
          { className: 'posting-form', withFirstRow: true },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'row first-row' },
              _react2.default.createElement(
                'div',
                { className: this.state.showOptions ? 'col-md-6' : 'col-md-8' },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  onChange: this.onTitleChange,
                  placeholder: gettext("Thread title"),
                  type: 'text',
                  value: this.state.title
                })
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-md-4' },
                _react2.default.createElement(_categorySelect2.default, {
                  choices: this.state.categories,
                  disabled: this.state.isLoading,
                  onChange: this.onCategoryChange,
                  value: this.state.category
                })
              ),
              _react2.default.createElement(_options2.default, {
                close: this.state.close,
                disabled: this.state.isLoading,
                hide: this.state.hide,
                onClose: this.onClose,
                onHide: this.onHide,
                onOpen: this.onOpen,
                onPinGlobally: this.onPinGlobally,
                onPinLocally: this.onPinLocally,
                onUnhide: this.onUnhide,
                onUnpin: this.onUnpin,
                options: this.state.categoryOptions,
                pin: this.state.pin,
                showOptions: this.state.showOptions
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-12' },
                _react2.default.createElement(_editor2.default, {
                  attachments: this.state.attachments,
                  loading: this.state.isLoading,
                  onAttachmentsChange: this.onAttachmentsChange,
                  onCancel: this.onCancel,
                  onChange: this.onPostChange,
                  submitLabel: gettext("Post thread"),
                  value: this.state.post
                })
              )
            )
          )
        );
      } else if (this.state.isErrored) {
        return _react2.default.createElement(_message2.default, { message: this.state.isErrored });
      } else {
        return _react2.default.createElement(_loader2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../services/ajax":293,"../../services/posting":303,"../../services/snackbar":304,"../category-select":13,"../editor":37,"../form":41,"./utils/attachments":93,"./utils/container":94,"./utils/loader":95,"./utils/message":96,"./utils/options":97,"./utils/validators":99,"react":"react"}],93:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clean = clean;
exports.hydrate = hydrate;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function clean(attachments) {
  var completedAttachments = attachments.filter(function (attachment) {
    return attachment.id && !attachment.isRemoved;
  });

  return completedAttachments.map(function (a) {
    return a.id;
  });
}

function hydrate(attachments) {
  return attachments.map(function (attachment) {
    return Object.assign({}, attachment, {
      uploaded_on: (0, _moment2.default)(attachment.uploaded_on)
    });
  });
}

},{"moment":"moment"}],94:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: props.className },
    _react2.default.createElement(
      "div",
      { className: "container" },
      props.children
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],95:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-loader' },
    _react2.default.createElement(_loader2.default, null)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../loader":43,"./container":94,"react":"react"}],96:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _container2.default,
    { className: 'posting-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        null,
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'error_outline'
        ),
        props.message
      ),
      _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-default', onClick: _posting2.default.close },
        gettext("Dismiss")
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../services/posting":303,"./container":94,"react":"react"}],97:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.showOptions) {
    return _react2.default.createElement(
      "div",
      { className: "col-md-2 posting-options" },
      _react2.default.createElement(PinOptions, {
        disabled: props.disabled,
        onPinGlobally: props.onPinGlobally,
        onPinLocally: props.onPinLocally,
        onUnpin: props.onUnpin,
        pin: props.pin,
        show: props.options.pin
      }),
      _react2.default.createElement(HideOptions, {
        disabled: props.disabled,
        hide: props.hide,
        onHide: props.onHide,
        onUnhide: props.onUnhide,
        show: props.options.hide
      }),
      _react2.default.createElement(CloseOptions, {
        close: props.close,
        disabled: props.disabled,
        onClose: props.onClose,
        onOpen: props.onOpen,
        show: props.options.close
      })
    );
  } else {
    return null;
  }
};

exports.CloseOptions = CloseOptions;
exports.HideOptions = HideOptions;
exports.PinOptions = PinOptions;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function CloseOptions(props) {
  if (props.show) {
    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: props.close ? props.onOpen : props.onClose,
        title: props.close ? gettext('Closed') : gettext('Open'),
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.close ? 'lock' : 'lock_outline'
      )
    );
  } else {
    return null;
  }
}

function HideOptions(props) {
  if (props.show) {
    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: props.hide ? props.onUnhide : props.onHide,
        title: props.hide ? gettext('Hidden') : gettext('Not hidden'),
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        props.hide ? 'visibility_off' : 'visibility'
      )
    );
  } else {
    return null;
  }
}

function PinOptions(props) {
  if (props.show) {
    var icon = null;
    var onClick = null;
    var tooltip = null;

    switch (props.pin) {
      case 0:
        icon = 'radio_button_unchecked';
        onClick = props.onPinLocally;
        tooltip = gettext("Unpinned");
        break;

      case 1:
        icon = 'info_outline';
        onClick = props.onPinGlobally;
        tooltip = gettext("Pinned locally");

        if (props.show == 2) {
          onClick = props.onPinGlobally;
        } else {
          onClick = props.onUnpin;
        }

        break;

      case 2:
        icon = 'info';
        onClick = props.onUnpin;
        tooltip = gettext("Pinned globally");
        break;
    }

    return _react2.default.createElement(
      "button",
      {
        className: "btn btn-default",
        disabled: props.disabled,
        onClick: onClick,
        title: tooltip,
        type: "button"
      },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        icon
      )
    );
  } else {
    return null;
  }
}

},{"react":"react"}],98:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (usernames) {
  var normalisedNames = usernames.split(',').map(function (i) {
    return i.trim().toLowerCase();
  });
  var removedBlanks = normalisedNames.filter(function (i) {
    return i.length > 0;
  });
  var removedDuplicates = removedBlanks.filter(function (name, pos) {
    return removedBlanks.indexOf(name) == pos;
  });

  return removedDuplicates;
};

},{}],99:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTitleValidators = getTitleValidators;
exports.getPostValidators = getPostValidators;
exports.getTitleLengthMin = getTitleLengthMin;
exports.getTitleLengthMax = getTitleLengthMax;
exports.validatePostLengthMin = validatePostLengthMin;
exports.validatePostLengthMax = validatePostLengthMax;

var _validators = require('../../../utils/validators');

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getTitleValidators() {
  return [getTitleLengthMin(), getTitleLengthMax()];
}

function getPostValidators() {
  if (_2.default.get('SETTINGS').post_length_max) {
    return [validatePostLengthMin(), validatePostLengthMax()];
  } else {
    return [validatePostLengthMin()];
  }
}

function getTitleLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').thread_title_length_min, function (limitValue, length) {
    var message = ngettext("Thread title should be at least %(limit_value)s character long (it has %(show_value)s).", "Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function getTitleLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').thread_title_length_max, function (limitValue, length) {
    var message = ngettext("Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMin() {
  return (0, _validators.minLength)(_2.default.get('SETTINGS').post_length_min, function (limitValue, length) {
    var message = ngettext("Posted message should be at least %(limit_value)s character long (it has %(show_value)s).", "Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

function validatePostLengthMax() {
  return (0, _validators.maxLength)(_2.default.get('SETTINGS').post_length_max || 1000000, function (limitValue, length) {
    var message = ngettext("Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).", "Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).", limitValue);

    return interpolate(message, {
      limit_value: limitValue,
      show_value: length
    }, true);
  });
}

},{"../../..":234,"../../../utils/validators":321}],100:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'li',
      { className: 'event-controls' },
      _react2.default.createElement(Hide, props),
      _react2.default.createElement(Unhide, props),
      _react2.default.createElement(Delete, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function isVisible(acl) {
  return acl.can_hide;
}

var Hide = exports.Hide = function (_React$Component) {
  _inherits(Hide, _React$Component);

  function Hide() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Hide);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch(post.patch(_this.props.post, {
        is_hidden: true,
        hidden_on: (0, _moment2.default)(),
        hidden_by_name: _this.props.user.username,
        url: Object.assign(_this.props.post.url, {
          hidden_by: _this.props.user.absolute_url
        })
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': true };

      _ajax2.default.patch(_this.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this.props.post, {
          is_hidden: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component2) {
  _inherits(Unhide, _React$Component2);

  function Unhide() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Unhide);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _store2.default.dispatch(post.patch(_this2.props.post, {
        is_hidden: false
      }));

      var op = { 'op': 'replace', 'path': 'is-hidden', 'value': false };

      _ajax2.default.patch(_this2.props.post.api.index, [op]).then(function (patch) {
        _store2.default.dispatch(post.patch(_this2.props.post, patch));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this2.props.post, {
          is_hidden: true
        }));
      });
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.is_hidden) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component3) {
  _inherits(Delete, _React$Component3);

  function Delete() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Delete);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      var decision = confirm(gettext("Are you sure you wish to delete this event? This action is not reversible!"));
      if (decision) {
        _this3.delete();
      }
    }, _this3.delete = function () {
      _store2.default.dispatch(post.patch(_this3.props.post, {
        isDeleted: true
      }));

      _ajax2.default.delete(_this3.props.post.api.index).then(function () {
        _snackbar2.default.success(gettext("Event has been deleted."));
      }, function (rejection) {
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }

        _store2.default.dispatch(post.patch(_this3.props.post, {
          isDeleted: false
        }));
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'button',
        { type: 'button', className: 'btn btn-link', onClick: this.onClick },
        gettext("Delete")
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../reducers/post":282,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305,"moment":"moment","react":"react"}],101:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'post-avatar' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      ICON[props.post.event_type]
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ICON = {
  changed_title: 'edit',

  pinned_globally: 'bookmark',
  pinned_locally: 'bookmark_border',
  unpinned: 'panorama_fish_eye',

  moved: 'arrow_forward',
  merged: 'call_merge',

  approved: 'done',

  opened: 'lock_open',
  closed: 'lock_outline',

  unhid: 'visibility',
  hid: 'visibility_off',

  changed_owner: 'grade',
  tookover: 'grade',

  added_participant: 'person_add',

  owner_left: 'person_outline',
  participant_left: 'person_outline',
  removed_participant: 'remove_circle_outline'
}; /* jshint ignore:start */

},{"react":"react"}],102:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'event';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'event post-hidden';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(_icon2.default, props),
      _react2.default.createElement(
        _waypoint2.default,
        { className: 'post-body', post: props.post },
        _react2.default.createElement(_message2.default, props),
        _react2.default.createElement(_info2.default, props)
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _info = require('./info');

var _info2 = _interopRequireDefault(_info);

var _message = require('./message');

var _message2 = _interopRequireDefault(_message);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../waypoint":120,"./icon":101,"./info":103,"./message":104,"react":"react"}],103:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'list-inline event-info' },
    _react2.default.createElement(Hidden, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(Ip, props),
    _react2.default.createElement(_controls2.default, props)
  );
};

exports.Hidden = Hidden;
exports.Poster = Poster;
exports.Ip = Ip;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>'; /* jshint ignore:start */

var DATE_URL = '<a href="%(url)s" title="%(absolute)s">%(relative)s</a>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function Hidden(props) {
  if (props.post.is_hidden) {
    var user = null;
    if (props.post.url.hidden_by) {
      user = interpolate(USER_URL, {
        url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    } else {
      user = interpolate(USER_SPAN, {
        user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
      }, true);
    }

    var date = interpolate(DATE_ABBR, {
      absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
      relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
    }, true);

    var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(event_by)s %(event_on)s.")), {
      event_by: user,
      event_on: date
    }, true);

    return _react2.default.createElement('li', {
      className: 'event-hidden-message',
      dangerouslySetInnerHTML: { __html: message }
    });
  } else {
    return null;
  }
}

function Poster(props) {
  var user = null;
  if (props.post.poster) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.post.poster.absolute_url),
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.poster_name)
    }, true);
  }

  var date = interpolate(DATE_URL, {
    url: (0, _escapeHtml2.default)(props.post.url.index),
    absolute: (0, _escapeHtml2.default)(props.post.posted_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.posted_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("By %(event_by)s %(event_on)s.")), {
    event_by: user,
    event_on: date
  }, true);

  return _react2.default.createElement('li', { className: 'event-posters', dangerouslySetInnerHTML: { __html: message } });
}

function Ip(props) {
  if (props.user.acl.can_see_users_ips) {
    return _react2.default.createElement(
      'li',
      { className: 'event-ip' },
      _react2.default.createElement(
        'abbr',
        { title: props.post.poster_ip },
        gettext("IP recorded")
      )
    );
  } else {
    return null;
  }
}

},{"../../../utils/escape-html":311,"./controls":100,"react":"react"}],104:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (MESSAGE[props.post.event_type]) {
    return _react2.default.createElement(
      'p',
      { className: 'event-message' },
      MESSAGE[props.post.event_type]
    );
  } else if (props.post.event_type === 'changed_title') {
    return _react2.default.createElement(ChangedTitle, props);
  } else if (props.post.event_type === 'moved') {
    return _react2.default.createElement(Moved, props);
  } else if (props.post.event_type === 'merged') {
    return _react2.default.createElement(Merged, props);
  } else if (props.post.event_type === 'changed_owner') {
    return _react2.default.createElement(ChangedOwner, props);
  } else if (props.post.event_type === 'added_participant') {
    return _react2.default.createElement(AddedParticipant, props);
  } else if (props.post.event_type === 'removed_participant') {
    return _react2.default.createElement(RemovedParticipant, props);
  } else {
    return null;
  }
};

exports.ChangedTitle = ChangedTitle;
exports.Moved = Moved;
exports.Merged = Merged;
exports.ChangedOwner = ChangedOwner;
exports.AddedParticipant = AddedParticipant;
exports.RemovedParticipant = RemovedParticipant;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var MESSAGE = {
  pinned_globally: gettext("Thread has been pinned globally."),
  pinned_locally: gettext("Thread has been pinned locally."),
  unpinned: gettext("Thread has been unpinned."),

  approved: gettext("Thread has been approved."),

  opened: gettext("Thread has been opened."),
  closed: gettext("Thread has been closed."),

  unhid: gettext("Thread has been revealed."),
  hid: gettext("Thread has been made hidden."),

  tookover: gettext("Took thread over."),

  owner_left: gettext("Owner has left thread. This thread is now closed."),
  participant_left: gettext("Participant has left thread.")
};

var ITEM_LINK = '<a href="%(url)s" class="item-title">%(name)s</a>';
var ITEM_SPAN = '<span class="item-title">%(name)s</span>';

function ChangedTitle(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread title has been changed from %(old_title)s."));
  var oldTitle = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.old_title)
  }, true);
  var message = interpolate(msgstring, {
    old_title: oldTitle
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Moved(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Thread has been moved from %(from_category)s."));
  var fromCategory = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.from_category.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.from_category.name)
  }, true);

  var message = interpolate(msgstring, {
    from_category: fromCategory
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function Merged(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("The %(merged_thread)s thread has been merged into this thread."));
  var mergedThread = interpolate(ITEM_SPAN, {
    name: (0, _escapeHtml2.default)(props.post.event_context.merged_thread)
  }, true);

  var message = interpolate(msgstring, {
    merged_thread: mergedThread
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function ChangedOwner(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Changed thread owner to %(user)s."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function AddedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Added %(user)s to thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

function RemovedParticipant(props) {
  var msgstring = (0, _escapeHtml2.default)(gettext("Removed %(user)s from thread."));
  var newOwner = interpolate(ITEM_LINK, {
    url: (0, _escapeHtml2.default)(props.post.event_context.user.url),
    name: (0, _escapeHtml2.default)(props.post.event_context.user.username)
  }, true);

  var message = interpolate(msgstring, {
    user: newOwner
  }, true);

  return _react2.default.createElement('p', { className: 'event-message', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":311,"react":"react"}],105:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (props.posts.isLoaded) {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-ready' },
      props.posts.results.map(function (post) {
        return _react2.default.createElement(ListItem, _extends({ key: post.id, post: post }, props));
      })
    );
  } else {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-preview' },
      _react2.default.createElement(_preview2.default, null)
    );
  }
};

exports.ListItem = ListItem;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _event = require('./event');

var _event2 = _interopRequireDefault(_event);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _preview = require('./post/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ListItem(props) {
  if (props.post.is_event) {
    return _react2.default.createElement(_event2.default, props);
  } else {
    return _react2.default.createElement(_post2.default, props);
  }
}

},{"./event":102,"./post":117,"./post/preview":118,"react":"react"}],106:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.attachment === null) {
    return _react2.default.createElement(
      'td',
      { className: 'col-md-6' },
      '\xA0'
    );
  }

  return _react2.default.createElement(
    'td',
    { className: 'col-md-6' },
    _react2.default.createElement(AttachmentPreview, props),
    _react2.default.createElement(
      'div',
      { className: 'post-attachment' },
      _react2.default.createElement(
        'a',
        { href: props.attachment.url.index, className: 'item-title' },
        props.attachment.filename
      ),
      _react2.default.createElement(AttachmentDetails, props)
    )
  );
};

exports.AttachmentPreview = AttachmentPreview;
exports.AttachmentIcon = AttachmentIcon;
exports.AttachmentThumbnail = AttachmentThumbnail;
exports.AttachmentDetails = AttachmentDetails;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

var _fileSize = require('../../../../utils/file-size');

var _fileSize2 = _interopRequireDefault(_fileSize);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var DATE_ABBR = '<abbr title="%(absolute)s">%(relative)s</abbr>';
var USER_SPAN = '<span class="item-title">%(user)s</span>';
var USER_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';

function AttachmentPreview(props) {
  if (props.attachment.is_image) {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentThumbnail, props)
    );
  } else {
    return _react2.default.createElement(
      'div',
      { className: 'post-attachment-preview' },
      _react2.default.createElement(AttachmentIcon, props)
    );
  }
}

function AttachmentIcon(props) {
  return _react2.default.createElement(
    'a',
    { href: props.attachment.url.index, className: 'material-icon' },
    'insert_drive_file'
  );
}

function AttachmentThumbnail(props) {
  var url = props.attachment.url.thumb || props.attachment.url.index;
  return _react2.default.createElement('a', {
    className: 'post-thumbnail',
    href: props.attachment.url.index,
    style: { backgroundImage: 'url("' + (0, _escapeHtml2.default)(url) + '")' }
  });
}

function AttachmentDetails(props) {
  var user = null;
  if (props.attachment.url.uploader) {
    user = interpolate(USER_URL, {
      url: (0, _escapeHtml2.default)(props.attachment.url.uploader),
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  } else {
    user = interpolate(USER_SPAN, {
      user: (0, _escapeHtml2.default)(props.attachment.uploader_name)
    }, true);
  }

  var date = interpolate(DATE_ABBR, {
    absolute: (0, _escapeHtml2.default)(props.attachment.uploaded_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.attachment.uploaded_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.")), {
    filetype: props.attachment.filetype,
    size: (0, _fileSize2.default)(props.attachment.size),
    uploader: user,
    uploaded_on: date
  }, true);

  return _react2.default.createElement('p', {
    className: 'post-attachment-description',
    dangerouslySetInnerHTML: { __html: message }
  });
}

},{"../../../..":234,"../../../../utils/escape-html":311,"../../../../utils/file-size":312,"react":"react"}],107:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!isVisible(props.post)) {
    return null;
  }

  return _react2.default.createElement(
    'table',
    { className: 'table post-attachments' },
    _react2.default.createElement(
      'tbody',
      null,
      (0, _batch2.default)(props.post.attachments, 2, null).map(function (row) {
        var key = row.map(function (a) {
          return a ? a.id : 0;
        }).join('_');
        return _react2.default.createElement(Row, { key: key, row: row });
      })
    )
  );
};

exports.isVisible = isVisible;
exports.Row = Row;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _batch = require('../../../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

var _attachment = require('./attachment');

var _attachment2 = _interopRequireDefault(_attachment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments;
}

function Row(props) {
  return _react2.default.createElement(
    'tr',
    { className: 'row' },
    props.row.map(function (attachment) {
      return _react2.default.createElement(_attachment2.default, {
        attachment: attachment,
        key: attachment ? attachment.id : 0
      });
    })
  );
}

},{"../../../../utils/batch":308,"./attachment":106,"react":"react"}],108:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    return _react2.default.createElement(Hidden, props);
  } else if (props.post.content) {
    return _react2.default.createElement(Default, props);
  } else {
    return _react2.default.createElement(Invalid, props);
  }
};

exports.Default = Default;
exports.Hidden = Hidden;
exports.Invalid = Invalid;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _waypoint = require('../waypoint');

var _waypoint2 = _interopRequireDefault(_waypoint);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var HIDDEN_BY_URL = '<a href="%(url)s" class="item-title">%(user)s</a>';
var HIDDEN_BY_SPAN = '<span class="item-title">%(user)s</span>';
var HIDDEN_ON = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Default(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body', post: props.post },
    _react2.default.createElement(_misagoMarkup2.default, { markup: props.post.content })
  );
}

function Hidden(props) {
  var user = null;
  if (props.post.hidden_by) {
    user = interpolate(HIDDEN_BY_URL, {
      url: (0, _escapeHtml2.default)(props.post.url.hidden_by),
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  } else {
    user = interpolate(HIDDEN_BY_SPAN, {
      user: (0, _escapeHtml2.default)(props.post.hidden_by_name)
    }, true);
  }

  var date = interpolate(HIDDEN_ON, {
    absolute: (0, _escapeHtml2.default)(props.post.hidden_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.post.hidden_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("Hidden by %(hidden_by)s %(hidden_on)s.")), {
    hidden_by: user,
    hidden_on: date
  }, true);

  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body panel-body-hidden', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post is hidden. You cannot not see its contents.")
    ),
    _react2.default.createElement('p', { className: 'text-muted', dangerouslySetInnerHTML: { __html: message } })
  );
}

function Invalid(props) {
  return _react2.default.createElement(
    _waypoint2.default,
    { className: 'panel-body panel-body-invalid', post: props.post },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../utils/escape-html":311,"../../misago-markup":45,"../waypoint":120,"react":"react"}],109:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.like = like;
exports.unlike = unlike;
exports.patch = patch;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_unapproved: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

  var previousState = {
    is_unapproved: props.post.is_unapproved
  };

  patch(props, ops, previousState);
}

function protect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: true
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function unprotect(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_protected: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

  var previousState = {
    is_protected: props.post.is_protected
  };

  patch(props, ops, previousState);
}

function hide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: true,
    hidden_on: (0, _moment2.default)(),
    hidden_by_name: props.user.username,
    url: Object.assign(props.post.url, {
      hidden_by: props.user.absolute_url
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

  var previousState = {
    is_hidden: props.post.is_hidden,
    hidden_on: props.post.hidden_on,
    hidden_by_name: props.post.hidden_by_name,
    url: props.post.url
  };

  patch(props, ops, previousState);
}

function unhide(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_hidden: false
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

  var previousState = {
    is_hidden: props.post.is_hidden
  };

  patch(props, ops, previousState);
}

function like(props) {
  var lastLikes = props.post.last_likes || [];
  var concatedLikes = [props.user].concat(lastLikes);
  var finalLikes = concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes;

  _store2.default.dispatch(post.patch(props.post, {
    is_liked: true,
    likes: props.post.likes + 1,
    last_likes: finalLikes
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': true }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function unlike(props) {
  _store2.default.dispatch(post.patch(props.post, {
    is_liked: false,
    likes: props.post.likes - 1,
    last_likes: props.post.last_likes.filter(function (user) {
      return !user.id || user.id !== props.user.id;
    })
  }));

  var ops = [{ 'op': 'replace', 'path': 'is-liked', 'value': false }];

  var previousState = {
    is_liked: props.post.is_liked,
    likes: props.post.likes,
    last_likes: props.post.last_likes
  };

  patch(props, ops, previousState);
}

function patch(props, ops, previousState) {
  _ajax2.default.patch(props.post.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(props.post, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, previousState));
  });
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete this post? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  _store2.default.dispatch(post.patch(props.post, {
    isDeleted: true
  }));

  _ajax2.default.delete(props.post.api.index).then(function () {
    _snackbar2.default.success(gettext("Post has been deleted."));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(props.post, {
      isDeleted: false
    }));
  });
}

},{"../../../../reducers/post":282,"../../../../services/ajax":293,"../../../../services/snackbar":304,"../../../../services/store":305,"moment":"moment"}],110:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_approve && this.props.post.is_unapproved) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Approve")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component2) {
  _inherits(Move, _React$Component2);

  function Move() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Move);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this2.props));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Move")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component3) {
  _inherits(Split, _React$Component3);

  function Split() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Split);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Split")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component4) {
  _inherits(Protect, _React$Component4);

  function Protect() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Protect);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      moderation.protect(_this4.props);
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_protect && !this.props.post.is_protected) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Protect")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component5) {
  _inherits(Unprotect, _React$Component5);

  function Unprotect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Unprotect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.unprotect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_protect && this.props.post.is_protected) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Remove protection")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component6) {
  _inherits(Hide, _React$Component6);

  function Hide() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Hide);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.hide(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_hide && !this.props.post.is_hidden) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Hide")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component7) {
  _inherits(Unhide, _React$Component7);

  function Unhide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Unhide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.unhide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_unhide && this.props.post.is_hidden) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Unhide")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component8) {
  _inherits(Delete, _React$Component8);

  function Delete() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Delete);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.remove(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_delete) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-link', onClick: this.onClick },
            gettext("Delete")
          )
        );
      } else {
        return null;
      }
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":299,"./actions":109,"./move":112,"./split":113,"react":"react"}],111:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (isVisible(props.post.acl)) {
    return _react2.default.createElement(
      'div',
      { className: 'pull-right dropdown' },
      _react2.default.createElement(
        'button',
        {
          'aria-expanded': 'true',
          'aria-haspopup': 'true',
          className: 'btn btn-default btn-icon dropdown-toggle',
          'data-toggle': 'dropdown',
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'expand_more'
        )
      ),
      _react2.default.createElement(_dropdown2.default, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(acl) {
  return acl.can_approve || acl.can_hide || acl.can_protect || acl.can_unhide || acl.can_delete || acl.can_move;
} /* jshint ignore:start */

},{"./dropdown":110,"react":"react"}],112:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move post to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move post")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move post")
    )
  );
}

},{"../../../../reducers/post":282,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../button":5,"../../../form":41,"../../../form-group":40,"react":"react"}],113:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: [this.props.post.id]
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch(post.patch(this.props.post, {
        isDeleted: true
      }));

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected post was split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split post")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move this post at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split post into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":282,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../../utils/validators":321,"../../../button":5,"../../../category-select":13,"../../../form":41,"../../../form-group":40,"../../../modal-loader":46,"../../../select":152,"react":"react"}],114:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FlagHidden = FlagHidden;
exports.FlagUnapproved = FlagUnapproved;
exports.isVisible = isVisible;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FlagHidden(props) {
  if (isVisible(props.post) && props.post.is_hidden) {
    return _react2.default.createElement(
      "div",
      { className: "post-status-message post-status-hidden" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "visibility_off"
      ),
      _react2.default.createElement(
        "p",
        null,
        gettext("This post is hidden. Only users with permission may see its contents.")
      )
    );
  } else {
    return null;
  }
} /* jshint ignore:start */
function FlagUnapproved(props) {
  if (isVisible(props.post) && props.post.is_unapproved) {
    return _react2.default.createElement(
      "div",
      { className: "post-status-message post-status-unapproved" },
      _react2.default.createElement(
        "span",
        { className: "material-icon" },
        "remove_circle_outline"
      ),
      _react2.default.createElement(
        "p",
        null,
        gettext("This post is unapproved. Only users with permission to approve posts and its author may see its contents.")
      )
    );
  } else {
    return null;
  }
}

function isVisible(post) {
  return !post.is_hidden || post.acl.can_see_hidden;
}

},{"react":"react"}],115:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Edit = exports.Reply = exports.Likes = exports.Like = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (isVisible(props.post)) {
    return _react2.default.createElement(
      'div',
      { className: 'panel-footer post-footer' },
      _react2.default.createElement(Like, props),
      _react2.default.createElement(Likes, _extends({
        lastLikes: props.post.last_likes,
        likes: props.post.likes
      }, props)),
      _react2.default.createElement(Reply, props),
      _react2.default.createElement(Edit, props)
    );
  } else {
    return null;
  }
};

exports.isVisible = isVisible;
exports.getLikesMessage = getLikesMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _actions = require('./controls/actions');

var actions = _interopRequireWildcard(_actions);

var _postLikes = require('../../post-likes');

var _postLikes2 = _interopRequireDefault(_postLikes);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _posting = require('../../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function isVisible(post) {
  return (!post.is_hidden || post.acl.can_see_hidden) && (post.acl.can_reply || post.acl.can_edit || post.acl.can_see_likes || post.acl.can_like);
}

var Like = exports.Like = function (_React$Component) {
  _inherits(Like, _React$Component);

  function Like() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Like);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Like.__proto__ || Object.getPrototypeOf(Like)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.is_liked) {
        actions.unlike(_this.props);
      } else {
        actions.like(_this.props);
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Like, [{
    key: 'render',
    value: function render() {
      if (!this.props.post.acl.can_like) return null;

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-default pull-left',
          disabled: this.props.post.isBusy,
          onClick: this.onClick,
          type: 'button'
        },
        this.props.post.is_liked ? gettext("Unlike") : gettext("Like")
      );
    }
  }]);

  return Like;
}(_react2.default.Component);

var Likes = exports.Likes = function (_React$Component2) {
  _inherits(Likes, _React$Component2);

  function Likes() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Likes);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Likes.__proto__ || Object.getPrototypeOf(Likes)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postLikes2.default, {
        post: _this2.props.post
      }));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Likes, [{
    key: 'render',
    value: function render() {
      var hasLikes = (this.props.post.last_likes || []).length > 0;
      if (!this.props.post.acl.can_see_likes || !hasLikes) return null;

      if (this.props.post.acl.can_see_likes === 2) {
        return _react2.default.createElement(
          'button',
          {
            className: 'btn btn-link pull-left',
            onClick: this.onClick,
            type: 'button'
          },
          getLikesMessage(this.props.likes, this.props.lastLikes)
        );
      }

      return _react2.default.createElement(
        'p',
        { className: 'pull-left' },
        getLikesMessage(this.props.likes, this.props.lastLikes)
      );
    }
  }]);

  return Likes;
}(_react2.default.Component);

function getLikesMessage(likes, users) {
  var usernames = users.slice(0, 3).map(function (u) {
    return u.username;
  });

  if (usernames.length == 1) {
    return interpolate(gettext("%(user)s likes this."), {
      user: usernames[0]
    }, true);
  }

  var hiddenLikes = likes - usernames.length;

  var otherUsers = usernames.slice(0, -1).join(', ');
  var lastUser = usernames.slice(-1)[0];

  var usernamesList = interpolate(gettext("%(users)s and %(last_user)s"), {
    users: otherUsers,
    last_user: lastUser
  }, true);

  if (hiddenLikes === 0) {
    return interpolate(gettext("%(users)s like this."), {
      users: usernamesList
    }, true);
  }

  var message = ngettext("%(users)s and %(likes)s other user like this.", "%(users)s and %(likes)s other users like this.", hiddenLikes);

  return interpolate(message, {
    users: usernames.join(', '),
    likes: hiddenLikes
  }, true);
}

var Reply = exports.Reply = function (_React$Component3) {
  _inherits(Reply, _React$Component3);

  function Reply() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Reply);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Reply.__proto__ || Object.getPrototypeOf(Reply)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this3.props.thread.api.editor,
        submit: _this3.props.thread.api.posts.index,

        context: {
          reply: _this3.props.post.id
        }
      });
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Reply, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_reply) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-primary pull-right', onClick: this.onClick },
          gettext("Reply")
        );
      } else {
        return null;
      }
    }
  }]);

  return Reply;
}(_react2.default.Component);

var Edit = exports.Edit = function (_React$Component4) {
  _inherits(Edit, _React$Component4);

  function Edit() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Edit);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Edit.__proto__ || Object.getPrototypeOf(Edit)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _posting2.default.open({
        mode: 'EDIT',

        config: _this4.props.post.api.editor,
        submit: _this4.props.post.api.index
      });
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Edit, [{
    key: 'render',
    value: function render() {
      if (this.props.post.acl.can_edit) {
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-default pull-right', onClick: this.onClick },
          gettext("Edit")
        );
      } else {
        return null;
      }
    }
  }]);

  return Edit;
}(_react2.default.Component);

},{"../../../services/modal":299,"../../../services/posting":303,"../../post-likes":87,"./controls/actions":109,"react":"react"}],116:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PostEdits = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel-heading post-heading' },
    _react2.default.createElement(PosterStatus, props),
    _react2.default.createElement(Poster, props),
    _react2.default.createElement(PosterRank, props),
    _react2.default.createElement(PostedOn, props),
    _react2.default.createElement(_select2.default, props),
    _react2.default.createElement(_controls2.default, props),
    _react2.default.createElement(PostEdits, props),
    _react2.default.createElement(ProtectedLabel, props),
    _react2.default.createElement(UnreadLabel, props)
  );
};

exports.PosterStatus = PosterStatus;
exports.Poster = Poster;
exports.PosterRank = PosterRank;
exports.PostedOn = PostedOn;
exports.UnreadLabel = UnreadLabel;
exports.ProtectedLabel = ProtectedLabel;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _select = require('./select');

var _select2 = _interopRequireDefault(_select);

var _userStatus = require('../../user-status');

var _postChangelog = require('../../post-changelog');

var _postChangelog2 = _interopRequireDefault(_postChangelog);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function PosterStatus(props) {
  if (!props.post.poster) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    {
      className: (0, _userStatus.getStatusClassName)(props.post.poster.status),
      title: (0, _userStatus.getStatusDescription)(props.post.poster, props.post.poster.status)
    },
    _react2.default.createElement(_userStatus.StatusIcon, {
      status: props.post.poster.status,
      user: props.post.poster
    })
  );
}

function Poster(props) {
  if (props.post.poster) {
    return _react2.default.createElement(
      'a',
      { className: 'item-title', href: props.post.poster.absolute_url },
      props.post.poster.username
    );
  } else {
    return _react2.default.createElement(
      'strong',
      { className: 'item-title' },
      props.post.poster_name
    );
  }
}

function PosterRank(props) {
  if (props.post.poster) {
    if (!props.post.poster.rank.is_default) {
      var rankClass = 'label-' + (props.post.poster.rank.css_class || 'default');

      if (props.post.poster.rank.is_tab) {
        return _react2.default.createElement(
          'a',
          { href: props.post.poster.rank.absolute_url, className: 'label ' + rankClass },
          props.post.poster.short_title
        );
      } else {
        return _react2.default.createElement(
          'span',
          { className: 'label ' + rankClass },
          props.post.poster.short_title
        );
      }
    } else {
      return null; // we don't display default ranks
    }
  } else {
    return _react2.default.createElement(
      'span',
      { className: 'rank-name item-title' },
      gettext("Unregistered")
    );
  }
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.format('LL, LT')
  }, true);

  var message = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.fromNow()
  }, true);

  return _react2.default.createElement(
    'a',
    { href: props.post.url.index, className: 'posted-on', title: tooltip },
    message
  );
}

var PostEdits = exports.PostEdits = function (_React$Component) {
  _inherits(PostEdits, _React$Component);

  function PostEdits() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, PostEdits);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PostEdits.__proto__ || Object.getPrototypeOf(PostEdits)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_postChangelog2.default, { post: _this.props.post }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(PostEdits, [{
    key: 'render',
    value: function render() {
      var isHidden = this.props.post.is_hidden && !this.props.post.acl.can_see_hidden;
      var isUnedited = this.props.post.edits === 0;
      if (isHidden || isUnedited) return null;

      var message = ngettext("This post was edited %(edits)s time.", "This post was edited %(edits)s times.", this.props.post.edits);

      var title = interpolate(message, {
        'edits': this.props.post.edits
      }, true);

      return _react2.default.createElement(
        'button',
        {
          className: 'btn btn-default btn-sm pull-right',
          onClick: this.onClick,
          title: title,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'edit'
        ),
        this.props.post.edits
      );
    }
  }]);

  return PostEdits;
}(_react2.default.Component);

function UnreadLabel(props) {
  if (!props.post.is_read) {
    return _react2.default.createElement(
      'span',
      { className: 'label label-warning pull-right' },
      gettext("New")
    );
  } else {
    return null;
  }
}

function ProtectedLabel(props) {
  var postAuthor = props.post.poster && props.post.poster.id === props.user.id;
  var hasAcl = props.post.acl.can_protect;
  var isVisible = props.user.id && props.post.is_protected && (postAuthor || hasAcl);

  if (!isVisible) {
    return null;
  }

  return _react2.default.createElement(
    'span',
    {
      className: 'label label-default pull-right',
      title: gettext("This post is protected and may not be edited.")
    },
    gettext("Protected")
  );
}

},{"../../../services/modal":299,"../../post-changelog":84,"../../user-status":210,"./controls":111,"./select":119,"react":"react"}],117:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'post';
  if (props.post.isDeleted) {
    className = 'hide';
  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {
    className = 'post post-hidden';
  }

  if (!props.post.is_read) {
    className += ' post-new';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(PosterAvatar, { post: props.post })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(_header2.default, props),
          _react2.default.createElement(_flags.FlagHidden, props),
          _react2.default.createElement(_flags.FlagUnapproved, props),
          _react2.default.createElement(_body2.default, props),
          _react2.default.createElement(_attachments2.default, props),
          _react2.default.createElement(_footer2.default, props)
        )
      )
    )
  );
};

exports.PosterAvatar = PosterAvatar;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _attachments = require('./attachments');

var _attachments2 = _interopRequireDefault(_attachments);

var _body = require('./body');

var _body2 = _interopRequireDefault(_body);

var _flags = require('./flags');

var _footer = require('./footer');

var _footer2 = _interopRequireDefault(_footer);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function PosterAvatar(props) {
  if (props.post.poster) {
    return _react2.default.createElement(
      'a',
      { href: props.post.poster.absolute_url },
      _react2.default.createElement(_avatar2.default, { size: 100, size2x: 150, user: props.post.poster })
    );
  } else {
    return _react2.default.createElement(_avatar2.default, { size: 100 });
  }
}

},{"../../avatar":3,"./attachments":107,"./body":108,"./flags":114,"./footer":115,"./header":116,"react":"react"}],118:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'li',
    { className: 'post' },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-avatar' },
        _react2.default.createElement(_avatar2.default, { size: '100' })
      ),
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading post-heading' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(50, 100) + "%" } },
                '\xA0'
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../utils/random":316,"../../avatar":3,"react":"react"}],119:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _controls = require('./controls');

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.post.isSelected) {
        _store2.default.dispatch(posts.deselect(_this.props.post));
      } else {
        _store2.default.dispatch(posts.select(_this.props.post));
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (!(this.props.thread.acl.can_merge_posts || (0, _controls.isVisible)(this.props.post.acl))) {
        return null;
      }

      return _react2.default.createElement(
        'div',
        { className: 'pull-right' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default btn-icon',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.props.post.isSelected ? 'check_box' : 'check_box_outline_blank'
          )
        )
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/posts":283,"../../../services/store":305,"./controls":111,"react":"react"}],120:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'componentDidMount',

    /*
    Super naive and de-facto placeholder implementation for reading posts on scroll
    */
    value: function componentDidMount() {
      var _this2 = this;

      if (this.props.post.is_read) {
        return; // don't register read tracker
      }

      $('#post-' + this.props.post.id).waypoint({
        handler: function handler(direction) {
          if (direction !== 'down' || _this2.props.post.is_read) {
            return;
          }

          // after 1500ms flag post as read
          window.setTimeout(function () {
            _store2.default.dispatch(post.patch(_this2.props.post, {
              is_read: true
            }));

            _ajax2.default.post(_this2.props.post.api.read);
          }, 1000);
        },
        offset: 'bottom-in-view'
      });
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: this.props.className },
        this.props.children
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/post":282,"../../services/ajax":293,"../../services/store":305,"react":"react"}],121:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _panelLoader = require('../panel-loader');

var _panelLoader2 = _interopRequireDefault(_panelLoader);

var _panelMessage = require('../panel-message');

var _panelMessage2 = _interopRequireDefault(_panelMessage);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      _this.setState({
        isLoaded: true,
        error: null,

        ban: ban
      });
    };

    _this.error = function (error) {
      _this.setState({
        isLoaded: true,
        error: error.detail,
        ban: null
      });
    };

    if (_index2.default.has('PROFILE_BAN')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_BAN'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.profile.api_url.ban);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(ban) {
      if (ban.expires_on) {
        ban.expires_on = (0, _moment2.default)(ban.expires_on);
      }

      this.state = {
        isLoaded: true,
        ban: ban
      };
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'ban-details',
        url: api,
        frequency: 90 * 1000,
        update: this.update,
        error: this.error
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Ban details"),
        parent: this.props.profile.username
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('ban-details');
    }
  }, {
    key: 'getUserMessage',
    value: function getUserMessage() {
      if (this.state.ban.user_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-user-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("User-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.user_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getStaffMessage',
    value: function getStaffMessage() {
      if (this.state.ban.staff_message) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'panel-body ban-message ban-staff-message' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("Team-shown ban message")
          ),
          _react2.default.createElement('div', { className: 'lead', dangerouslySetInnerHTML: {
              __html: this.state.ban.staff_message.html
            } })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getExpirationMessage',
    value: function getExpirationMessage() {
      if (this.state.ban.expires_on) {
        if (this.state.ban.expires_on.isAfter((0, _moment2.default)())) {
          /* jshint ignore:start */
          var _title = interpolate(gettext("This ban expires on %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.format('LL, LT')
          }, true);

          var message = interpolate(gettext("This ban expires %(expires_on)s."), {
            'expires_on': this.state.ban.expires_on.fromNow()
          }, true);

          return _react2.default.createElement(
            'abbr',
            { title: _title },
            message
          );
          /* jshint ignore:end */
        } else {
          return gettext("This ban has expired.");
        }
      } else {
        return interpolate(gettext("%(username)s's ban is permanent."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getPanelBody',
    value: function getPanelBody() {
      if (this.state.ban) {
        if (Object.keys(this.state.ban).length) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            this.getUserMessage(),
            this.getStaffMessage(),
            _react2.default.createElement(
              'div',
              { className: 'panel-body ban-expires' },
              _react2.default.createElement(
                'h4',
                null,
                gettext("Ban expiration")
              ),
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getExpirationMessage()
              )
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'div',
            null,
            _react2.default.createElement(_panelMessage2.default, { message: gettext("No ban is active at the moment.") })
          );
          /* jshint ignore:end */
        }
      } else if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelMessage2.default, { icon: 'error_outline',
            message: this.state.error })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_panelLoader2.default, null)
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-ban-details' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading' },
            _react2.default.createElement(
              'h3',
              { className: 'panel-title' },
              gettext("Ban details")
            )
          ),
          this.getPanelBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":234,"../../services/page-title":301,"../../services/polls":302,"../panel-loader":59,"../panel-message":60,"moment":"moment","react":"react"}],122:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.Threads = Threads;
exports.Posts = Posts;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Threads(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have no started threads.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s started no threads."), {
      'username': props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext('Loading...');
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have started %(threads)s thread.", "You have started %(threads)s threads.", props.posts.count);

    header = interpolate(message, {
      'threads': props.posts.count
    }, true);
  } else {
    var _message = ngettext("%(username)s has started %(threads)s thread.", "%(username)s has started %(threads)s threads.", props.posts.count);

    header = interpolate(_message, {
      'username': props.profile.username,
      'threads': props.posts.count
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api_url.threads,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Threads")
  }, props));
}

function Posts(props) {
  var emptyMessage = null;
  if (props.user.id === props.profile.id) {
    emptyMessage = gettext("You have posted no messages.");
  } else {
    emptyMessage = interpolate(gettext("%(username)s posted no messages."), {
      'username': props.profile.username
    }, true);
  }

  var header = null;
  if (!props.posts.isLoaded) {
    header = gettext('Loading...');
  } else if (props.profile.id === props.user.id) {
    var message = ngettext("You have posted %(posts)s message.", "You have posted %(posts)s messages.", props.posts.count);

    header = interpolate(message, {
      'posts': props.posts.count
    }, true);
  } else {
    var _message2 = ngettext("%(username)s has posted %(posts)s message.", "%(username)s has posted %(posts)s messages.", props.posts.count);

    header = interpolate(_message2, {
      'username': props.profile.username,
      'posts': props.posts.count
    }, true);
  }

  return _react2.default.createElement(_route2.default, _extends({
    api: props.profile.api_url.posts,
    emptyMessage: emptyMessage,
    header: header,
    title: gettext("Posts")
  }, props));
}

},{"./route":126,"react":"react"}],123:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  if (!props.isReady) {
    return _react2.default.createElement(
      'ul',
      { className: 'posts-list ui-preview' },
      _react2.default.createElement(_postPreview2.default, null)
    );
  }

  return _react2.default.createElement(
    'ul',
    { className: 'posts-list ui-ready' },
    props.posts.map(function (post) {
      return _react2.default.createElement(_post2.default, { key: post.id, post: post });
    })
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

var _postPreview = require('./post-preview');

var _postPreview2 = _interopRequireDefault(_postPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"./post":125,"./post-preview":124,"react":"react"}],124:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'li',
    { className: 'post post-infeed' },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(
            'div',
            { className: 'panel-heading post-heading' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(20, 50) + "%" } },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'panel-body' },
            _react2.default.createElement(
              'article',
              { className: 'misago-markup' },
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(30, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(30, 100) + "%" } },
                '\xA0'
              ),
              _react2.default.createElement(
                'p',
                { className: 'ui-preview-text', style: { width: random.int(30, 100) + "%" } },
                '\xA0'
              )
            )
          )
        )
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _random = require('../../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../../../../utils/random":316,"react":"react"}],125:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  var className = 'post post-infeed';
  if (!props.post.is_read) {
    className += ' post-new';
  }

  return _react2.default.createElement(
    'li',
    { id: 'post-' + props.post.id, className: className },
    _react2.default.createElement(
      'div',
      { className: 'post-border' },
      _react2.default.createElement(
        'div',
        { className: 'post-body' },
        _react2.default.createElement(
          'div',
          { className: 'panel panel-default panel-post' },
          _react2.default.createElement(PostHeader, { post: props.post, thread: props.post.thread }),
          _react2.default.createElement(PostBody, { content: props.post.content })
        )
      )
    )
  );
};

exports.PostHeader = PostHeader;
exports.Thread = Thread;
exports.PostedOn = PostedOn;
exports.GoTo = GoTo;
exports.PostBody = PostBody;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _misagoMarkup = require('../../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function PostHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'panel-heading post-heading' },
    _react2.default.createElement(Thread, props.thread),
    _react2.default.createElement(PostedOn, { post: props.post }),
    _react2.default.createElement(GoTo, { url: props.post.url.index })
  );
} // jshint ignore:start
function Thread(props) {
  return _react2.default.createElement(
    'a',
    {
      className: 'item-title',
      href: props.url
    },
    props.title
  );
}

function PostedOn(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.format('LL, LT')
  }, true);

  var message = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.post.posted_on.fromNow()
  }, true);

  return _react2.default.createElement(
    'a',
    { href: props.post.url.index, className: 'posted-on', title: tooltip },
    message
  );
}

function GoTo(props) {
  return _react2.default.createElement(
    'div',
    { className: 'pull-right' },
    _react2.default.createElement(
      'a',
      {
        className: 'btn btn-default btn-sm',
        href: props.url
      },
      gettext("Go to post")
    )
  );
}

function PostBody(props) {
  if (props.content) {
    return _react2.default.createElement(
      'div',
      { className: 'panel-body' },
      _react2.default.createElement(_misagoMarkup2.default, { markup: props.content })
    );
  }

  return _react2.default.createElement(
    'div',
    { className: 'panel-body panel-body-invalid' },
    _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("This post's contents cannot be displayed.")
    ),
    _react2.default.createElement(
      'p',
      { className: 'text-muted' },
      gettext("This error is caused by invalid post content manipulation.")
    )
  );
}

},{"../../../misago-markup":45,"react":"react"}],126:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Feed = Feed;
exports.LoadMoreButton = LoadMoreButton;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _postsList = require('./posts-list');

var _postsList2 = _interopRequireDefault(_postsList);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _posts = require('../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isLoading: true
      });

      _this.loadItems(_this.props.posts.page + 1);
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'loadItems',
    value: function loadItems() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

      _ajax2.default.get(this.props.api, {
        page: page || 1
      }).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch(posts.load(data));
        } else {
          _store2.default.dispatch(posts.append(data));
        }

        _this2.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this2.setState({
          isLoading: false
        });

        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.title,
        parent: this.props.profile.username
      });

      this.loadItems();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'profile-feed' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.props.header
          )
        ),
        _react2.default.createElement(Feed, _extends({
          isLoading: this.state.isLoading,
          loadMore: this.loadMore
        }, this.props))
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Feed(props) {
  if (!props.posts.count) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      props.emptyMessage
    );
  }

  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(_postsList2.default, {
      isReady: props.posts.isLoaded,
      posts: props.posts.results
    }),
    _react2.default.createElement(LoadMoreButton, {
      isLoading: props.isLoading,
      loadMore: props.loadMore,
      more: props.posts.more
    })
  );
}

function LoadMoreButton(props) {
  if (!props.more) return null;

  return _react2.default.createElement(
    'div',
    { className: 'pager-more' },
    _react2.default.createElement(
      _button2.default,
      {
        loading: props.isLoading,
        onClick: props.loadMore
      },
      interpolate(gettext("Show more (%(more)s)"), {
        'more': props.more
      }, true)
    )
  );
}

},{"../../../reducers/posts":283,"../../../services/ajax":293,"../../../services/page-title":301,"../../../services/snackbar":304,"../../../services/store":305,"../../button":5,"./posts-list":123,"react":"react"}],127:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _profile = require('../../reducers/profile');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.action = function () {
      _this.setState({
        isLoading: true
      });

      if (_this.props.profile.is_followed) {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: false,
          followers: _this.props.profile.followers - 1
        }));
      } else {
        _store2.default.dispatch((0, _profile.patch)({
          is_followed: true,
          followers: _this.props.profile.followers + 1
        }));
      }

      _ajax2.default.post(_this.props.profile.api_url.follow).then(function (data) {
        _this.setState({
          isLoading: false
        });

        _store2.default.dispatch((0, _profile.patch)(data));
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.profile.is_followed) {
        return this.props.className + ' btn-default btn-following';
      } else {
        return this.props.className + ' btn-default btn-follow';
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.profile.is_followed) {
        return 'favorite';
      } else {
        return 'favorite_border';
      }
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.profile.is_followed) {
        return gettext("Following");
      } else {
        return gettext("Follow");
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _button2.default,
        { className: this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.action },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../reducers/profile":284,"../../services/ajax":293,"../../services/snackbar":304,"../../services/store":305,"../button":5,"react":"react"}],128:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require('../quick-search');

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _root = require('../users-list/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadUsers(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadUsers(1, ev.target.value);
    };

    _this.setSpecialProps();

    if (_index2.default.has(_this.PRELOADED_DATA_KEY)) {
      _this.initWithPreloadedData(_index2.default.pop(_this.PRELOADED_DATA_KEY));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWERS';
      this.TITLE = gettext('Followers');
      this.API_FILTER = 'followers';
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadUsers();
    }
  }, {
    key: 'loadUsers',
    value: function loadUsers() {
      var _ajax$get,
          _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get('USERS_API'), (_ajax$get = {}, _defineProperty(_ajax$get, this.API_FILTER, this.props.profile.id), _defineProperty(_ajax$get, 'name', search), _defineProperty(_ajax$get, 'page', page || 1), _ajax$get), 'user-' + this.API_FILTER).then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _users.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _users.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.TITLE,
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You have %(users)s follower.", "You have %(users)s followers.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s has %(users)s follower.", "%(username)s has %(users)s followers.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You have no followers.");
      } else {
        return interpolate(gettext("%(username)s has no followers."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy,
              onClick: this.loadMore },
            interpolate(gettext("Show more (%(more)s)"), {
              'more': this.state.more
            }, true)
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getListBody',
    value: function getListBody() {
      if (this.state.isLoaded && this.state.count === 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          { className: 'lead' },
          this.getEmptyMessage()
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          null,
          _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
            users: this.props.users,
            showRank: true,
            cols: 2 }),
          this.getMoreButton()
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      return 'profile-' + this.API_FILTER;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        this.getListBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":234,"../../reducers/users":292,"../../services/ajax":293,"../../services/page-title":301,"../../services/snackbar":304,"../../services/store":305,"../button":5,"../quick-search":139,"../users-list/root":217,"react":"react"}],129:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var _class = function (_Followers) {
  _inherits(_class, _Followers);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'setSpecialProps',
    value: function setSpecialProps() {
      this.PRELOADED_DATA_KEY = 'PROFILE_FOLLOWS';
      this.TITLE = gettext('Follows');
      this.API_FILTER = 'follows';
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(users)s user.", "Found %(users)s users.", this.state.count);

        return interpolate(message, {
          'users': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("You are following %(users)s user.", "You are following %(users)s users.", this.state.count);

        return interpolate(_message, {
          'users': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s is following %(users)s user.", "%(username)s is following %(users)s users.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'users': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no users matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("You are not following any users.");
      } else {
        return interpolate(gettext("%(username)s is not following any users."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }]);

  return _class;
}(_followers2.default);

exports.default = _class;

},{"./followers":128,"react":"react"}],130:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.IsDisabledMessage = IsDisabledMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _messageButton = require('./message-button');

var _messageButton2 = _interopRequireDefault(_messageButton);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'user-status-display' },
        _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.profile, status: this.props.profile.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.profile,
            status: this.props.profile.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.profile,
            status: this.props.profile.status,
            className: 'status-label' })
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getUserRank',
    value: function getUserRank() {
      if (this.props.profile.rank.is_tab) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'a',
            { href: this.props.profile.rank.absolute_url, className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-rank' },
          _react2.default.createElement(
            'span',
            { className: 'item-title' },
            this.props.profile.rank.name
          )
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.profile.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.title
        );
        /* jshint ignore:end */
      } else if (this.props.profile.rank.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-title' },
          this.props.profile.rank.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getJoinedOn',
    value: function getJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.profile.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'li',
        { className: 'user-joined-on' },
        _react2.default.createElement(
          'abbr',
          { title: title },
          age
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getEmail',
    value: function getEmail() {
      if (this.props.profile.email) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'user-email' },
          _react2.default.createElement(
            'a',
            { href: 'mailto:' + this.props.profile.email, className: 'item-title' },
            this.props.profile.email
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, { className: 'btn btn-aligned hidden-xs hidden-sm',
          profile: this.props.profile });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'btn-group btn-aligned hidden-xs hidden-sm' },
          _react2.default.createElement(
            'button',
            { className: 'btn btn-default btn-moderate dropdown-toggle',
              type: 'button',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'tonality'
            ),
            gettext("Moderation")
          ),
          _react2.default.createElement(_nav2.default, { profile: this.props.profile })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page-header' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(IsDisabledMessage, {
            isActive: this.props.profile.is_active
          }),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-9 col-md-offset-3' },
              _react2.default.createElement(
                'h1',
                { className: 'pull-left' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '100' }),
                _react2.default.createElement(
                  'span',
                  { className: 'user-name' },
                  this.props.profile.username
                )
              ),
              _react2.default.createElement(_messageButton2.default, {
                className: 'btn btn-default btn-aligned hidden-xs hidden-sm',
                profile: this.props.profile,
                user: this.props.user
              }),
              this.getFollowButton(),
              this.getModerationButton(),
              _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.props.toggleNav,
                dropdown: this.props.dropdown })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'header-stats' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-9 col-md-offset-3' },
                _react2.default.createElement(
                  'ul',
                  { className: 'list-inline' },
                  this.getUserStatus(),
                  this.getUserRank(),
                  this.getUserTitle(),
                  this.getJoinedOn(),
                  this.getEmail()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

/* jshint ignore:start */


exports.default = _class;
function IsDisabledMessage(props) {
  if (props.isActive !== false) return null;

  return _react2.default.createElement(
    'div',
    { className: 'alert alert-danger' },
    _react2.default.createElement(
      'p',
      null,
      gettext("This user's account has been disabled by administrator.")
    )
  );
}
/* jshint ignore:end */

},{"../avatar":3,"../dropdown-toggle":19,"../user-status":210,"./follow-button":127,"./message-button":131,"./moderation/nav":135,"react":"react"}],131:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'START_PRIVATE',
        submit: _2.default.get('PRIVATE_THREADS_API'),

        to: [_this.props.profile]
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var canMessage = this.props.user.acl.can_start_private_threads;
      var isProfileOwner = this.props.user.id === this.props.profile.id;

      if (!canMessage || isProfileOwner) return null;

      return _react2.default.createElement(
        'button',
        {
          className: this.props.className,
          onClick: this.onClick,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'comment'
        ),
        gettext("Message")
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":234,"../../services/posting":303,"react":"react"}],132:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      is_avatar_locked: '',
      avatar_lock_user_message: '',
      avatar_lock_staff_message: ''
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_avatar).then(function (options) {
        _this2.setState({
          isLoaded: true,

          is_avatar_locked: options.is_avatar_locked,
          avatar_lock_user_message: options.avatar_lock_user_message || '',
          avatar_lock_staff_message: options.avatar_lock_staff_message || ''
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_avatar, {
        is_avatar_locked: this.state.is_avatar_locked,
        avatar_lock_user_message: this.state.avatar_lock_user_message,
        avatar_lock_staff_message: this.state.avatar_lock_staff_message
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      _store2.default.dispatch((0, _users.updateAvatar)(this.props.profile, apiResponse.avatar_hash));
      _snackbar2.default.success(gettext("Avatar controls have been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Lock avatar"),
              helpText: gettext("Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one."),
              'for': 'id_is_avatar_locked' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_is_avatar_locked',
              disabled: this.state.isLoading,
              iconOn: 'lock_outline',
              iconOff: 'lock_open',
              labelOn: gettext("Disallow user from changing avatar"),
              labelOff: gettext("Allow user to change avatar"),
              onChange: this.bindInput('is_avatar_locked'),
              value: this.state.is_avatar_locked })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User message"),
              helpText: gettext("Optional message for user explaining why he/she is prohibited form changing avatar."),
              'for': 'id_avatar_lock_user_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_user_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_user_message'),
              value: this.state.avatar_lock_user_message })
          ),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Staff message"),
              helpText: gettext("Optional message for forum team members explaining why user is prohibited form changing avatar."),
              'for': 'id_avatar_lock_staff_message' },
            _react2.default.createElement('textarea', { id: 'id_avatar_lock_staff_message',
              className: 'form-control',
              rows: '4',
              disabled: this.state.isLoading,
              onChange: this.bindInput('avatar_lock_staff_message'),
              value: this.state.avatar_lock_staff_message })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Save changes")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-avatar-controls";
      } else {
        return "modal-dialog modal-avatar-controls";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Avatar controls")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/users":292,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305,"../../button":5,"../../form":41,"../../form-group":40,"../../modal-loader":46,"../../modal-message":47,"../../yes-no-switch":233,"react":"react"}],133:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _usernameHistory = require('../../../reducers/username-history');

var _users = require('../../../reducers/users');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      isLoaded: false,
      isLoading: false,
      error: null,

      username: '',
      validators: {
        username: [validators.usernameContent()]
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.moderate_username).then(function () {
        _this2.setState({
          isLoaded: true
        });
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }
  }, {
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(this.validate().username[0]);
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.moderate_username, {
        username: this.state.username
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.setState({
        username: ''
      });

      _store2.default.dispatch((0, _usernameHistory.addNameChange)(apiResponse, this.props.profile, this.props.user));
      _store2.default.dispatch((0, _users.updateUsername)(this.props.profile, apiResponse.username, apiResponse.slug));

      _snackbar2.default.success(gettext("Username has been changed."));
    }
  }, {
    key: 'getFormBody',
    value: function getFormBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New username"), 'for': 'id_username' },
            _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
              disabled: this.state.isLoading,
              onChange: this.bindInput('username'),
              value: this.state.username })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default', 'data-dismiss': 'modal' },
            gettext("Close")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Change username")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        return this.getFormBody();
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error) {
        return "modal-dialog modal-message modal-rename-user";
      } else {
        return "modal-dialog modal-rename-user";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change username")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/username-history":291,"../../../reducers/users":292,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305,"../../../utils/validators":321,"../../button":5,"../../form":41,"../../form-group":40,"../../modal-loader":46,"../../modal-message":47,"react":"react"}],134:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _modalLoader = require('../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _modalMessage = require('../../modal-message');

var _modalMessage2 = _interopRequireDefault(_modalMessage);

var _yesNoSwitch = require('../../yes-no-switch');

var _yesNoSwitch2 = _interopRequireDefault(_yesNoSwitch);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.countdown = function () {
      window.setTimeout(function () {
        if (_this.state.countdown > 1) {
          _this.setState({
            countdown: _this.state.countdown - 1
          });
          _this.countdown();
        } else if (!_this.state.confirm) {
          _this.setState({
            confirm: true
          });
        }
      }, 1000);
    };

    _this.state = {
      isLoaded: false,
      isLoading: false,
      isDeleted: false,
      error: null,

      countdown: 5,
      confirm: false,

      with_content: false
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(this.props.profile.api_url.delete).then(function () {
        _this2.setState({
          isLoaded: true
        });

        _this2.countdown();
      }, function (rejection) {
        _this2.setState({
          isLoaded: true,
          error: rejection.detail
        });
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'send',

    /* jshint ignore:end */

    value: function send() {
      return _ajax2.default.post(this.props.profile.api_url.delete, {
        with_content: this.state.with_content
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      _polls2.default.stop('user-profile');

      if (this.state.with_content) {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account, threads, posts and other content has been deleted."), {
            'username': this.props.profile.username
          }, true)
        });
      } else {
        this.setState({
          isDeleted: interpolate(gettext("%(username)s's account has been deleted and other content has been hidden."), {
            'username': this.props.profile.username
          }, true)
        });
      }
    }
  }, {
    key: 'getButtonLabel',
    value: function getButtonLabel() {
      if (this.state.confirm) {
        return interpolate(gettext("Delete %(username)s"), {
          'username': this.props.profile.username
        }, true);
      } else {
        return interpolate(gettext("Please wait... (%(countdown)ss)"), {
          'countdown': this.state.countdown
        }, true);
      }
    }
  }, {
    key: 'getForm',
    value: function getForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit, className: 'form-horizontal' },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("User content"),
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              'for': 'id_with_content' },
            _react2.default.createElement(_yesNoSwitch2.default, { id: 'id_with_content',
              disabled: this.state.isLoading,
              labelOn: gettext("Delete together with user's account"),
              labelOff: gettext("Hide after deleting user's account"),
              onChange: this.bindInput('with_content'),
              value: this.state.with_content })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default',
              'data-dismiss': 'modal' },
            gettext("Cancel")
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-danger',
              loading: this.state.isLoading,
              disabled: !this.state.confirm },
            this.getButtonLabel()
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getDeletedBody',
    value: function getDeletedBody() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.state.isDeleted
          ),
          _react2.default.createElement(
            'p',
            null,
            _react2.default.createElement(
              'a',
              { href: _index2.default.get('USERS_LIST_URL') },
              gettext("Return to users list")
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getModalBody',
    value: function getModalBody() {
      if (this.state.error) {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalMessage2.default, { icon: 'remove_circle_outline',
          message: this.state.error });
        /* jshint ignore:end */
      } else if (this.state.isLoaded) {
        if (this.state.isDeleted) {
          return this.getDeletedBody();
        } else {
          return this.getForm();
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_modalLoader2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.state.error || this.state.isDeleted) {
        return "modal-dialog modal-message modal-delete-account";
      } else {
        return "modal-dialog modal-delete-account";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(),
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Delete user account")
            )
          ),
          this.getModalBody()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":234,"../../../services/ajax":293,"../../../services/polls":302,"../../button":5,"../../form":41,"../../form-group":40,"../../modal-loader":46,"../../modal-message":47,"../../yes-no-switch":233,"react":"react"}],135:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatarControls = require('./avatar-controls');

var _avatarControls2 = _interopRequireDefault(_avatarControls);

var _changeUsername = require('./change-username');

var _changeUsername2 = _interopRequireDefault(_changeUsername);

var _deleteAccount = require('./delete-account');

var _deleteAccount2 = _interopRequireDefault(_deleteAccount);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var select = function select(store) {
  return {
    tick: store.tick,
    user: store.auth,
    profile: store.profile
  };
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showAvatarDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_avatarControls2.default));
    }, _this.showRenameDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_changeUsername2.default));
    }, _this.showDeleteDialog = function () {
      _modal2.default.show((0, _reactRedux.connect)(select)(_deleteAccount2.default));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getAvatarButton',

    /* jshint ignore:end */

    value: function getAvatarButton() {
      if (this.props.profile.acl.can_moderate_avatar) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showAvatarDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Avatar controls")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getRenameButton',

    /* jshint ignore:end */

    value: function getRenameButton() {
      if (this.props.profile.acl.can_rename) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showRenameDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'credit_card'
            ),
            gettext("Change username")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'getDeleteButton',

    /* jshint ignore:end */

    value: function getDeleteButton() {
      if (this.props.profile.acl.can_delete) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn-link',
              onClick: this.showDeleteDialog },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'clear'
            ),
            gettext("Delete account")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu dropdown-menu-right', role: 'menu' },
        this.getAvatarButton(),
        this.getRenameButton(),
        this.getDeleteButton(),
        _react2.default.createElement('li', { className: 'divider hidden-md hidden-lg' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons hidden-md hidden-lg' },
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-default btn-block',
              onClick: this.props.toggleNav },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'menu'
            ),
            gettext("Menu")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../services/modal":299,"./avatar-controls":132,"./change-username":133,"./delete-account":134,"react":"react","react-redux":"react-redux"}],136:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.SideNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _followButton = require('./follow-button');

var _followButton2 = _interopRequireDefault(_followButton);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line
// jshint ignore:line


//jshint ignore:line

var SideNav = exports.SideNav = function (_React$Component) {
  _inherits(SideNav, _React$Component);

  function SideNav() {
    _classCallCheck(this, SideNav);

    return _possibleConstructorReturn(this, (SideNav.__proto__ || Object.getPrototypeOf(SideNav)).apply(this, arguments));
  }

  _createClass(SideNav, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'list-group nav-side' },
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _reactRouter.Link,
            { to: _this2.props.baseUrl + page.component + '/',
              className: 'list-group-item',
              activeClassName: 'active',
              key: page.component },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              page.icon
            ),
            page.name
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return SideNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_SideNav) {
  _inherits(CompactNav, _SideNav);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'showSpecialOptions',
    value: function showSpecialOptions() {
      return this.props.profile.acl.can_follow || this.props.profile.acl.can_moderate;
    }
  }, {
    key: 'getFollowButton',
    value: function getFollowButton() {
      if (this.props.profile.acl.can_follow) {
        /* jshint ignore:start */
        return _react2.default.createElement(_followButton2.default, { className: 'btn btn-block',
          profile: this.props.profile });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.props.profile.acl.can_moderate) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-default btn-block',
            onClick: this.props.toggleModeration },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'tonality'
          ),
          gettext("Moderation")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSpecialOptions',
    value: function getSpecialOptions() {
      if (this.showSpecialOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          this.getFollowButton(),
          this.getModerationButton()
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        this.getSpecialOptions(),
        this.showSpecialOptions() ? _react2.default.createElement('li', { className: 'divider' }) : null,
        this.props.pages.map(function (page) {
          return _react2.default.createElement(
            _li2.default,
            { path: _this4.props.baseUrl + page.component + '/',
              key: page.component },
            _react2.default.createElement(
              _reactRouter.Link,
              { to: _this4.props.baseUrl + page.component + '/',
                onClick: _this4.props.hideNav },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                page.icon
              ),
              page.name
            )
          );
        })
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(SideNav);

},{"../../index":234,"../li":42,"./follow-button":127,"react":"react","react-router":"react-router"}],137:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _banDetails = require('./ban-details');

var _banDetails2 = _interopRequireDefault(_banDetails);

var _feed = require('./feed');

var _followers = require('./followers');

var _followers2 = _interopRequireDefault(_followers);

var _follows = require('./follows');

var _follows2 = _interopRequireDefault(_follows);

var _usernameHistory = require('./username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _nav = require('./moderation/nav');

var _nav2 = _interopRequireDefault(_nav);

var _navs = require('./navs');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _profile = require('../../reducers/profile');

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _profile.hydrate)(data));
    };

    _this.toggleNav = function () {
      if (_this.state.dropdown === 'pages') {
        _this.setState({
          dropdown: false
        });
      } else {
        _this.setState({
          dropdown: 'pages'
        });
      }
    };

    _this.toggleModeration = function () {
      if (_this.state.dropdown === 'moderation') {
        _this.setState({
          dropdown: false
        });
      } else {
        _this.setState({
          dropdown: 'moderation'
        });
      }
    };

    _this.startPolling(props.profile.api_url.root);
    return _this;
  }

  _createClass(_class, [{
    key: 'startPolling',
    value: function startPolling(api) {
      _polls2.default.start({
        poll: 'user-profile',
        url: api,
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getNavDropdown',

    /* jshint ignore:end */

    value: function getNavDropdown() {
      if (this.state.dropdown === 'pages') {
        /* jshint ignore:start */
        return _react2.default.createElement(_navs.CompactNav, { pages: _2.default.get('PROFILE_PAGES'),
          baseUrl: _2.default.get('PROFILE').absolute_url,
          profile: this.props.profile,
          toggleModeration: this.toggleModeration,
          hideNav: this.hideNav });
        /* jshint ignore:end */
      } else if (this.state.dropdown === 'moderation') {
        /* jshint ignore:start */
        return _react2.default.createElement(_nav2.default, { profile: this.props.profile,
          toggleNav: this.toggleNav,
          hideNav: this.hideNav });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var baseClass = 'page page-user-profile';
      if (false && this.props.profile.rank.css_class) {
        return baseClass + ' page-user-profile-' + this.props.profile.rank.css_class;
      } else {
        return baseClass;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, { user: this.props.user,
          profile: this.props.profile,
          toggleNav: this.toggleNav,
          toggleModeration: this.toggleModeration }),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          this.getNavDropdown()
        ),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-md-3 hidden-xs hidden-sm' },
              _react2.default.createElement(
                'div',
                { className: 'profile-side-avatar' },
                _react2.default.createElement(_avatar2.default, { user: this.props.profile, size: '400' })
              ),
              _react2.default.createElement(_navs.SideNav, { pages: _2.default.get('PROFILE_PAGES'),
                baseUrl: _2.default.get('PROFILE').absolute_url,
                profile: this.props.profile })
            ),
            _react2.default.createElement(
              'div',
              { className: 'col-md-9' },
              this.props.children
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users,
    'posts': store.posts,
    'profile': store.profile,
    'username-history': store['username-history']
  };
}

var COMPONENTS = {
  'posts': _feed.Posts,
  'threads': _feed.Threads,
  'followers': _followers2.default,
  'follows': _follows2.default,
  'username-history': _usernameHistory2.default,
  'ban-details': _banDetails2.default
};

function paths() {
  var paths = [];

  _2.default.get('PROFILE_PAGES').forEach(function (item) {
    paths.push(Object.assign({}, item, {
      path: _2.default.get('PROFILE').absolute_url + item.component + '/',
      component: (0, _reactRedux.connect)(select)(COMPONENTS[item.component])
    }));
  });

  return paths;
}

},{"../..":234,"../../reducers/profile":284,"../../services/polls":302,"../../services/store":305,"../avatar":3,"../with-dropdown":232,"./ban-details":121,"./feed":122,"./followers":128,"./follows":129,"./header":130,"./moderation/nav":135,"./navs":136,"./username-history":138,"react":"react","react-redux":"react-redux"}],138:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _quickSearch = require('../quick-search');

var _quickSearch2 = _interopRequireDefault(_quickSearch);

var _root = require('../username-history/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadChanges(_this.state.page + 1, _this.state.search);
    };

    _this.search = function (ev) {
      _this.setState({
        isLoaded: false,
        isBusy: true,

        search: ev.target.value,

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      });

      _this.loadChanges(1, ev.target.value);
    };

    if (_index2.default.has('PROFILE_NAME_HISTORY')) {
      _this.initWithPreloadedData(_index2.default.pop('PROFILE_NAME_HISTORY'));
    } else {
      _this.initWithoutPreloadedData();
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,
        isBusy: false,

        search: '',

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      };

      _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false,
        isBusy: false,

        search: '',

        count: 0,
        more: 0,

        page: 1,
        pages: 1
      };

      this.loadChanges();
    }
  }, {
    key: 'loadChanges',
    value: function loadChanges() {
      var _this2 = this;

      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var search = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      _ajax2.default.get(_index2.default.get('USERNAME_CHANGES_API'), {
        user: this.props.profile.id,
        search: search,
        page: page || 1
      }, 'search-username-history').then(function (data) {
        if (page === 1) {
          _store2.default.dispatch((0, _usernameHistory.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _usernameHistory.append)(data.results));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: gettext("Username history"),
        parent: this.props.profile.username
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'getLabel',

    /* jshint ignore:end */

    value: function getLabel() {
      if (!this.state.isLoaded) {
        return gettext('Loading...');
      } else if (this.state.search) {
        var message = ngettext("Found %(changes)s username change.", "Found %(changes)s username changes.", this.state.count);

        return interpolate(message, {
          'changes': this.state.count
        }, true);
      } else if (this.props.profile.id === this.props.user.id) {
        var _message = ngettext("Your username was changed %(changes)s time.", "Your username was changed %(changes)s times.", this.state.count);

        return interpolate(_message, {
          'changes': this.state.count
        }, true);
      } else {
        var _message2 = ngettext("%(username)s's username was changed %(changes)s time.", "%(username)s's username was changed %(changes)s times.", this.state.count);

        return interpolate(_message2, {
          'username': this.props.profile.username,
          'changes': this.state.count
        }, true);
      }
    }
  }, {
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      if (this.state.search) {
        return gettext("Search returned no username changes matching specified criteria.");
      } else if (this.props.user.id === this.props.profile.id) {
        return gettext("No name changes have been recorded for your account.");
      } else {
        return interpolate(gettext("%(username)s's username was never changed."), {
          'username': this.props.profile.username
        }, true);
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy,
              onClick: this.loadMore },
            interpolate(gettext("Show older (%(more)s)"), {
              'more': this.state.more
            }, true)
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'profile-username-history' },
        _react2.default.createElement(
          'nav',
          { className: 'toolbar' },
          _react2.default.createElement(
            'h3',
            { className: 'toolbar-left' },
            this.getLabel()
          ),
          _react2.default.createElement(_quickSearch2.default, { className: 'toolbar-right',
            value: this.state.search,
            onChange: this.search,
            placeholder: gettext("Search history...") })
        ),
        _react2.default.createElement(_root2.default, { isLoaded: this.state.isLoaded,
          emptyMessage: this.getEmptyMessage(),
          changes: this.props['username-history'] }),
        this.getMoreButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../index":234,"../../reducers/username-history":291,"../../services/ajax":293,"../../services/page-title":301,"../../services/snackbar":304,"../../services/store":305,"../button":5,"../quick-search":139,"../username-history/root":216,"react":"react"}],139:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.className) {
        return "form-search " + this.props.className;
      } else {
        return "form-search";
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: this.getClassName() },
        _react2.default.createElement("input", { type: "text",
          className: "form-control",
          value: this.props.value,
          onChange: this.props.onChange,
          placeholder: this.props.placeholder || gettext("Search...") }),
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          "search"
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],140:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('./loader');

var _loader2 = _interopRequireDefault(_loader);

var _register = require('./register.js');

var _register2 = _interopRequireDefault(_register);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.showRegisterForm = function () {
      if (misago.get('SETTINGS').account_activation === 'closed') {
        _snackbar2.default.info(gettext("New registrations are currently disabled."));
      } else if (_this.state.isLoaded) {
        _modal2.default.show(_react2.default.createElement(_register2.default, {
          criteria: _this.state.criteria
        }));
      } else {
        _this.setState({ isLoading: true });

        Promise.all([_captcha2.default.load(), _ajax2.default.get(misago.get('AUTH_CRITERIA_API'))]).then(function (result) {
          _this.setState({
            isLoading: false,
            isLoaded: true,
            criteria: result[1]
          });

          _modal2.default.show(_react2.default.createElement(_register2.default, {
            criteria: result[1]
          }));
        }, function () {
          _this.setState({ isLoading: false });

          _snackbar2.default.error(gettext("Registration is currently unavailable due to an error."));
        });
      }
    };

    _this.state = {
      isLoading: false,
      isLoaded: false,

      criteria: null
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      return this.props.className + (this.state.isLoading ? ' btn-loading' : '');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        {
          className: 'btn ' + this.getClassName(),
          disabled: this.state.isLoading,
          onClick: this.showRegisterForm,
          type: 'button'
        },
        gettext("Register"),
        this.state.isLoading ? _react2.default.createElement(_loader2.default, null) : null
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../services/ajax":293,"../services/captcha":295,"../services/modal":299,"../services/snackbar":304,"./loader":43,"./register.js":141,"react":"react"}],141:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RegisterComplete = exports.RegisterForm = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('./form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _passwordStrength = require('./password-strength');

var _passwordStrength2 = _interopRequireDefault(_passwordStrength);

var _ = require('..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RegisterForm = exports.RegisterForm = function (_Form) {
  _inherits(RegisterForm, _Form);

  function RegisterForm(props) {
    _classCallCheck(this, RegisterForm);

    var _this = _possibleConstructorReturn(this, (RegisterForm.__proto__ || Object.getPrototypeOf(RegisterForm)).call(this, props));

    var _this$props$criteria = _this.props.criteria,
        username = _this$props$criteria.username,
        password = _this$props$criteria.password;


    var passwordMinLength = 0;
    password.forEach(function (item) {
      if (item.name === 'MinimumLengthValidator') {
        passwordMinLength = item.min_length;
      }
    });

    _this.state = {
      isLoading: false,

      username: '',
      email: '',
      password: '',
      captcha: '',

      validators: {
        username: [validators.usernameContent(), validators.usernameMinLength(username.min_length), validators.usernameMaxLength(username.max_length)],
        email: [validators.email()],
        password: [validators.passwordMinLength(passwordMinLength)],
        captcha: _captcha2.default.validator()
      },

      errors: {}
    };
    return _this;
  }

  _createClass(RegisterForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_2.default.get('USERS_API'), {
        username: this.state.username,
        email: this.state.email,
        password: this.state.password,
        captcha: this.state.captcha
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });

        if (rejection.__all__ && rejection.__all__.length > 0) {
          _snackbar2.default.error(rejection.__all__[0]);
        } else {
          _snackbar2.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getLegalFootNote',
    value: function getLegalFootNote() {
      if (_2.default.get('TERMS_OF_SERVICE_URL')) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: _2.default.get('TERMS_OF_SERVICE_URL'),
            target: '_blank' },
          gettext("By registering you agree to site's terms and conditions.")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-register', role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Register")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit, className: 'form-horizontal' },
            _react2.default.createElement('input', { type: 'type', style: { display: 'none' } }),
            _react2.default.createElement('input', { type: 'password', style: { display: 'none' } }),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Username"), 'for': 'id_username',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.username },
                _react2.default.createElement('input', { type: 'text', id: 'id_username', className: 'form-control',
                  'aria-describedby': 'id_username_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('username'),
                  value: this.state.username })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("E-mail"), 'for': 'id_email',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.email },
                _react2.default.createElement('input', { type: 'text', id: 'id_email', className: 'form-control',
                  'aria-describedby': 'id_email_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('email'),
                  value: this.state.email })
              ),
              _react2.default.createElement(
                _formGroup2.default,
                { label: gettext("Password"), 'for': 'id_password',
                  labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                  validation: this.state.errors.password,
                  extra: _react2.default.createElement(_passwordStrength2.default, { password: this.state.password,
                    inputs: [this.state.username, this.state.email] }) },
                _react2.default.createElement('input', { type: 'password', id: 'id_password', className: 'form-control',
                  'aria-describedby': 'id_password_status',
                  disabled: this.state.isLoading,
                  onChange: this.bindInput('password'),
                  value: this.state.password })
              ),
              _captcha2.default.component({
                form: this,
                labelClass: "col-sm-4",
                controlClass: "col-sm-8"
              })
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getLegalFootNote(),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-primary', loading: this.state.isLoading },
                gettext("Register account")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterForm;
}(_form2.default);

var RegisterComplete = exports.RegisterComplete = function (_React$Component) {
  _inherits(RegisterComplete, _React$Component);

  function RegisterComplete() {
    _classCallCheck(this, RegisterComplete);

    return _possibleConstructorReturn(this, (RegisterComplete.__proto__ || Object.getPrototypeOf(RegisterComplete)).apply(this, arguments));
  }

  _createClass(RegisterComplete, [{
    key: 'getLead',
    value: function getLead() {
      if (this.props.activation === 'user') {
        return gettext("%(username)s, your account has been created but you need to activate it before you will be able to sign in.");
      } else if (this.props.activation === 'admin') {
        return gettext("%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.");
      }
    }
  }, {
    key: 'getSubscript',
    value: function getSubscript() {
      if (this.props.activation === 'user') {
        return gettext("We have sent an e-mail to %(email)s with link that you have to click to activate your account.");
      } else if (this.props.activation === 'admin') {
        return gettext("We will send an e-mail to %(email)s when this takes place.");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-message modal-register',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Registration complete")
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                interpolate(this.getLead(), { 'username': this.props.username }, true)
              ),
              _react2.default.createElement(
                'p',
                null,
                interpolate(this.getSubscript(), { 'email': this.props.email }, true)
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RegisterComplete;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.completeRegistration = function (apiResponse) {
      if (apiResponse.activation === 'active') {
        _modal2.default.hide();
        _auth2.default.signIn(apiResponse);
      } else {
        _this3.setState({
          complete: apiResponse
        });
      }
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(RegisterComplete, { activation: this.state.complete.activation,
          username: this.state.complete.username,
          email: this.state.complete.email });
      } else {
        return _react2.default.createElement(RegisterForm, _extends({
          callback: this.completeRegistration
        }, this.props));
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"..":234,"../services/ajax":293,"../services/auth":294,"../services/captcha":295,"../services/modal":299,"../services/snackbar":304,"../utils/banned-page":307,"../utils/validators":321,"./button":5,"./form":41,"./form-group":40,"./password-strength":69,"react":"react"}],142:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinkSent = exports.RequestLinkForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var RequestLinkForm = exports.RequestLinkForm = function (_Form) {
  _inherits(RequestLinkForm, _Form);

  function RequestLinkForm(props) {
    _classCallCheck(this, RequestLinkForm);

    var _this = _possibleConstructorReturn(this, (RequestLinkForm.__proto__ || Object.getPrototypeOf(RequestLinkForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestLinkForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_ACTIVATION_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['already_active', 'inactive_admin'].indexOf(rejection.code) > -1) {
        _snackbar2.default.info(rejection.detail);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestLinkForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Activation link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-activation-link well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this3 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this3.complete = function (apiResponse) {
      _this3.setState({
        complete: apiResponse
      });
    };

    _this3.reset = function () {
      _this3.setState({
        complete: false
      });
    };

    _this3.state = {
      complete: false
    };
    return _this3;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestLinkForm, { callback: this.complete });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":234,"../services/ajax":293,"../services/snackbar":304,"../utils/banned-page":307,"../utils/validators":321,"./button":5,"./form":41,"react":"react"}],143:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AccountInactivePage = exports.LinkSent = exports.RequestResetForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _validators = require('../utils/validators');

var validators = _interopRequireWildcard(_validators);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var RequestResetForm = exports.RequestResetForm = function (_Form) {
  _inherits(RequestResetForm, _Form);

  function RequestResetForm(props) {
    _classCallCheck(this, RequestResetForm);

    var _this = _possibleConstructorReturn(this, (RequestResetForm.__proto__ || Object.getPrototypeOf(RequestResetForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'email': '',

      'validators': {
        'email': [validators.email()]
      }
    };
    return _this;
  }

  _createClass(RequestResetForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter a valid email address."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('SEND_PASSWORD_RESET_API'), {
        'email': this.state.email
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (['inactive_user', 'inactive_admin'].indexOf(rejection.code) > -1) {
        this.props.showInactivePage(rejection);
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'text', className: 'form-control',
                placeholder: gettext("Your e-mail address"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('email'),
                value: this.state.email })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Send link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return RequestResetForm;
}(_form2.default);

var LinkSent = exports.LinkSent = function (_React$Component) {
  _inherits(LinkSent, _React$Component);

  function LinkSent() {
    _classCallCheck(this, LinkSent);

    return _possibleConstructorReturn(this, (LinkSent.__proto__ || Object.getPrototypeOf(LinkSent)).apply(this, arguments));
  }

  _createClass(LinkSent, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("Reset password link was sent to %(email)s"), {
        email: this.props.user.email
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-request-password-reset well-done' },
        _react2.default.createElement(
          'div',
          { className: 'done-message' },
          _react2.default.createElement(
            'div',
            { className: 'message-icon' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'message-body' },
            _react2.default.createElement(
              'p',
              null,
              this.getMessage()
            )
          ),
          _react2.default.createElement(
            'button',
            { type: 'button', className: 'btn btn-primary btn-block',
              onClick: this.props.callback },
            gettext("Request another link")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return LinkSent;
}(_react2.default.Component);

var AccountInactivePage = exports.AccountInactivePage = function (_React$Component2) {
  _inherits(AccountInactivePage, _React$Component2);

  function AccountInactivePage() {
    _classCallCheck(this, AccountInactivePage);

    return _possibleConstructorReturn(this, (AccountInactivePage.__proto__ || Object.getPrototypeOf(AccountInactivePage)).apply(this, arguments));
  }

  _createClass(AccountInactivePage, [{
    key: 'getActivateButton',
    value: function getActivateButton() {
      if (this.props.activation === 'inactive_user') {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'p',
          null,
          _react2.default.createElement(
            'a',
            { href: _index2.default.get('REQUEST_ACTIVATION_URL') },
            gettext("Activate your account.")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-info page-forgotten-password-inactive' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'info_outline'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                gettext("Your account is inactive.")
              ),
              _react2.default.createElement(
                'p',
                null,
                this.props.message
              ),
              this.getActivateButton()
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return AccountInactivePage;
}(_react2.default.Component);

var _class = function (_React$Component3) {
  _inherits(_class, _React$Component3);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this4 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this4.complete = function (apiResponse) {
      _this4.setState({
        complete: apiResponse
      });
    };

    _this4.reset = function () {
      _this4.setState({
        complete: false
      });
    };

    _this4.state = {
      complete: false
    };
    return _this4;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'showInactivePage',
    value: function showInactivePage(apiResponse) {
      _reactDom2.default.render(_react2.default.createElement(AccountInactivePage, { activation: apiResponse.code,
        message: apiResponse.detail }), document.getElementById('page-mount'));
    }
    /* jshint ignore:end */

  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.complete) {
        return _react2.default.createElement(LinkSent, { user: this.state.complete, callback: this.reset });
      } else {
        return _react2.default.createElement(RequestResetForm, { callback: this.complete,
          showInactivePage: this.showInactivePage });
      };
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":234,"../services/ajax":293,"../services/snackbar":304,"../utils/banned-page":307,"../utils/validators":321,"./button":5,"./form":41,"react":"react","react-dom":"react-dom"}],144:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PasswordChangedPage = exports.ResetPasswordForm = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _signIn = require('./sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var ResetPasswordForm = exports.ResetPasswordForm = function (_Form) {
  _inherits(ResetPasswordForm, _Form);

  function ResetPasswordForm(props) {
    _classCallCheck(this, ResetPasswordForm);

    var _this = _possibleConstructorReturn(this, (ResetPasswordForm.__proto__ || Object.getPrototypeOf(ResetPasswordForm)).call(this, props));

    _this.state = {
      'isLoading': false,

      'password': ''
    };
    return _this;
  }

  _createClass(ResetPasswordForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Enter new password."));
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('CHANGE_PASSWORD_API'), {
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.callback(apiResponse);
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'well well-form well-form-reset-password' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'form-group' },
            _react2.default.createElement(
              'div',
              { className: 'control-input' },
              _react2.default.createElement('input', { type: 'password', className: 'form-control',
                placeholder: gettext("Enter new password"),
                disabled: this.state.isLoading,
                onChange: this.bindInput('password'),
                value: this.state.password })
            )
          ),
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary btn-block',
              loading: this.state.isLoading },
            gettext("Change password")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return ResetPasswordForm;
}(_form2.default);

var PasswordChangedPage = exports.PasswordChangedPage = function (_React$Component) {
  _inherits(PasswordChangedPage, _React$Component);

  function PasswordChangedPage() {
    _classCallCheck(this, PasswordChangedPage);

    return _possibleConstructorReturn(this, (PasswordChangedPage.__proto__ || Object.getPrototypeOf(PasswordChangedPage)).apply(this, arguments));
  }

  _createClass(PasswordChangedPage, [{
    key: 'getMessage',
    value: function getMessage() {
      return interpolate(gettext("%(username)s, your password has been changed successfully."), {
        username: this.props.user.username
      }, true);
    }
  }, {
    key: 'showSignIn',
    value: function showSignIn() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-message page-message-success page-forgotten-password-changed' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'div',
            { className: 'message-panel' },
            _react2.default.createElement(
              'div',
              { className: 'message-icon' },
              _react2.default.createElement(
                'span',
                { className: 'material-icon' },
                'check'
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'message-body' },
              _react2.default.createElement(
                'p',
                { className: 'lead' },
                this.getMessage()
              ),
              _react2.default.createElement(
                'p',
                null,
                gettext("You will have to sign in using new password before continuing.")
              ),
              _react2.default.createElement(
                'p',
                null,
                _react2.default.createElement(
                  'button',
                  { type: 'button', className: 'btn btn-primary', onClick: this.showSignIn },
                  gettext("Sign in")
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return PasswordChangedPage;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    var _ref;

    var _temp, _this3, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this3), _this3.complete = function (apiResponse) {
      _auth2.default.softSignOut();

      // nuke "redirect_to" field so we don't end
      // coming back to error page after sign in
      $('#hidden-login-form input[name="redirect_to"]').remove();

      _reactDom2.default.render(_react2.default.createElement(PasswordChangedPage, { user: apiResponse }), document.getElementById('page-mount'));
    }, _temp), _possibleConstructorReturn(_this3, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(ResetPasswordForm, { callback: this.complete });
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../index":234,"../services/ajax":293,"../services/auth":294,"../services/modal":299,"../services/snackbar":304,"../utils/banned-page":307,"./button":5,"./form":41,"./sign-in.js":153,"react":"react","react-dom":"react-dom"}],145:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _form = require('../form');

var _form2 = _interopRequireDefault(_form);

var _posts = require('../../reducers/posts');

var _search = require('../../reducers/search');

var _users = require('../../reducers/users');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onQueryChange = function (event) {
      _this.changeValue('query', event.target.value);
    };

    _this.state = {
      isLoading: false,

      query: props.search.query
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.query.trim().length) {
        _snackbar2.default.error(gettext("You have to enter search query."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      _store2.default.dispatch((0, _search.update)({
        isLoading: true
      }));

      return _ajax2.default.get(_2.default.get('SEARCH_API'), {
        q: this.state.query.trim()
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(providers) {
      _store2.default.dispatch((0, _search.update)({
        query: this.state.query.trim(),
        isLoading: false,
        providers: providers
      }));

      providers.forEach(function (provider) {
        if (provider.id === 'users') {
          _store2.default.dispatch((0, _users.hydrate)(provider.results.results));
        } else if (provider.id === 'threads') {
          _store2.default.dispatch((0, _posts.load)(provider.results));
        }
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      _snackbar2.default.apiError(rejection);

      _store2.default.dispatch((0, _search.update)({
        isLoading: false
      }));
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'page-header' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'div',
              { className: 'row' },
              _react2.default.createElement(
                'div',
                { className: 'col-md-3' },
                _react2.default.createElement(
                  'h1',
                  null,
                  gettext("Search")
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-md-7' },
                _react2.default.createElement(
                  'div',
                  { className: 'form-group' },
                  _react2.default.createElement('input', {
                    className: 'form-control',
                    disabled: this.props.search.isLoading || this.state.isLoading,
                    onChange: this.onQueryChange,
                    type: 'text',
                    value: this.state.query
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'col-md-2' },
                _react2.default.createElement(
                  'button',
                  {
                    className: 'btn btn-primary btn-block',
                    disabled: this.props.search.isLoading || this.state.isLoading
                  },
                  gettext("Search")
                )
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../..":234,"../../reducers/posts":283,"../../reducers/search":285,"../../reducers/users":292,"../../services/ajax":293,"../../services/snackbar":304,"../../services/store":305,"../form":41,"react":"react"}],146:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;

exports.default = function (providers) {
  return providers.map(function (provider) {
    return {
      path: provider.url,
      component: (0, _reactRedux.connect)(select)(components[provider.id]),
      provider: provider
    };
  });
};

var _reactRedux = require('react-redux');

var _threads = require('./threads');

var _threads2 = _interopRequireDefault(_threads);

var _users = require('./users');

var _users2 = _interopRequireDefault(_users);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var components = {
  threads: _threads2.default,
  users: _users2.default
};

function select(store) {
  return {
    'posts': store.posts,
    'search': store.search,
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

},{"./threads":149,"./users":151,"react-redux":"react-redux"}],147:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'page page-search' },
    _react2.default.createElement(_form2.default, {
      provider: props.provider,
      search: props.search
    }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-md-3' },
          _react2.default.createElement(_sidenav2.default, { providers: props.search.providers })
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-md-9' },
          props.children,
          _react2.default.createElement(SearchTime, {
            provider: props.provider,
            search: props.search
          })
        )
      )
    )
  );
};

exports.SearchTime = SearchTime;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _sidenav = require('./sidenav');

var _sidenav2 = _interopRequireDefault(_sidenav);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function SearchTime(props) {
  var time = null;
  props.search.providers.forEach(function (p) {
    if (p.id === props.provider.id) {
      time = p.time;
    }
  });

  if (time === null) return null;

  var copy = gettext("Search took %(time)s s to complete");

  return _react2.default.createElement(
    'footer',
    { className: 'search-footer' },
    _react2.default.createElement(
      'p',
      null,
      interpolate(copy, { time: time }, true)
    )
  );
}

},{"./form":145,"./sidenav":148,"react":"react"}],148:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'list-group nav-side' },
    props.providers.map(function (provider) {
      return _react2.default.createElement(
        _reactRouter.Link,
        {
          activeClassName: 'active',
          className: 'list-group-item',
          key: provider.id,
          to: provider.url
        },
        provider.name,
        _react2.default.createElement(Badge, { results: provider.results })
      );
    })
  );
};

exports.Badge = Badge;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Badge(props) {
  if (!props.results) return null;

  var count = props.results.count;
  if (count > 1000000) {
    count = Math.ceil(count / 1000000) + 'KK';
  } else if (count > 1000) {
    count = Math.ceil(count / 1000) + 'K';
  }

  return _react2.default.createElement(
    'span',
    { className: 'badge' },
    count
  );
} // jshint ignore:start

},{"react":"react","react-router":"react-router"}],149:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    {
      provider: props.route.provider,
      search: props.search
    },
    _react2.default.createElement(
      Blankslate,
      {
        query: props.search.query,
        posts: props.posts
      },
      _react2.default.createElement(_results2.default, _extends({
        provider: props.route.provider,
        query: props.search.query
      }, props.posts))
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _page = require('../page');

var _page2 = _interopRequireDefault(_page);

var _results = require('./results');

var _results2 = _interopRequireDefault(_results);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Blankslate(props) {
  if (props.posts && props.posts.count) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("No threads matching search query have been found.")
    );
  }

  return _react2.default.createElement(
    'p',
    { className: 'lead' },
    gettext("Enter at least two characters to search threads.")
  );
}

},{"../page":147,"./results":150,"react":"react"}],150:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LoadMore = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // jshint ignore:start


exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    null,
    _react2.default.createElement(
      'ul',
      { className: 'list-group' },
      props.results.map(function (post) {
        return _react2.default.createElement(Post, _extends({
          key: post.id
        }, post));
      })
    ),
    _react2.default.createElement(LoadMore, props)
  );
};

exports.Post = Post;
exports.PostContent = PostContent;
exports.Category = Category;
exports.Poster = Poster;
exports.Timestamp = Timestamp;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _misagoMarkup = require('../../misago-markup');

var _misagoMarkup2 = _interopRequireDefault(_misagoMarkup);

var _posts = require('../../../reducers/posts');

var _search = require('../../../reducers/search');

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function Post(props) {
  return _react2.default.createElement(
    'li',
    { className: 'list-group-item' },
    _react2.default.createElement(
      'h4',
      null,
      _react2.default.createElement(
        'a',
        { href: props.url.index, className: 'item-title' },
        props.thread.title
      )
    ),
    _react2.default.createElement(PostContent, { content: props.content }),
    _react2.default.createElement(
      'ul',
      { className: 'list-inline list-unstyled' },
      _react2.default.createElement(Poster, props),
      _react2.default.createElement(Timestamp, props),
      _react2.default.createElement(Category, props.category)
    )
  );
}

function PostContent(props) {
  if (!props.content) return null;

  return _react2.default.createElement(_misagoMarkup2.default, { markup: props.content });
}

function Category(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: props.absolute_url },
      props.name
    )
  );
}

function Poster(props) {
  if (!props.poster) {
    return _react2.default.createElement(
      'li',
      null,
      props.poster_namer
    );
  }

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: props.poster.url, className: 'item-title' },
      props.poster.username
    )
  );
}

function Timestamp(props) {
  var tooltip = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.posted_on.format('LL, LT')
  }, true);

  var message = interpolate(gettext("posted %(posted_on)s"), {
    'posted_on': props.posted_on.fromNow()
  }, true);

  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'abbr',
      { title: tooltip },
      message
    )
  );
}

var LoadMore = exports.LoadMore = function (_React$Component) {
  _inherits(LoadMore, _React$Component);

  function LoadMore() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, LoadMore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = LoadMore.__proto__ || Object.getPrototypeOf(LoadMore)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _store2.default.dispatch((0, _posts.update)({
        isBusy: true
      }));

      _ajax2.default.get(_this.props.provider.api, {
        q: _this.props.query,
        page: _this.props.next
      }).then(function (providers) {
        providers.forEach(function (provider) {
          if (provider.id !== 'threads') return;
          _store2.default.dispatch((0, _posts.append)(provider.results));
          _store2.default.dispatch((0, _search.updateProvider)(provider));
        });

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);

        _store2.default.dispatch((0, _posts.update)({
          isBusy: false
        }));
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(LoadMore, [{
    key: 'render',
    value: function render() {
      if (!this.props.more) return null;

      return _react2.default.createElement(
        'div',
        { className: 'pager-more' },
        _react2.default.createElement(
          _button2.default,
          {
            loading: this.props.isBusy,
            onClick: this.onClick
          },
          gettext("Show more")
        )
      );
    }
  }]);

  return LoadMore;
}(_react2.default.Component);

},{"../../../reducers/posts":283,"../../../reducers/search":285,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305,"../../button":5,"../../misago-markup":45,"react":"react"}],151:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    _page2.default,
    {
      provider: props.route.provider,
      search: props.search
    },
    _react2.default.createElement(
      Blankslate,
      {
        query: props.search.query,
        users: props.users
      },
      _react2.default.createElement(_root2.default, {
        isLoaded: true,
        cols: 2,
        users: props.users
      })
    )
  );
};

exports.Blankslate = Blankslate;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _page = require('../page');

var _page2 = _interopRequireDefault(_page);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:start
function Blankslate(props) {
  if (props.users.length) return props.children;

  if (props.query.length) {
    return _react2.default.createElement(
      'p',
      { className: 'lead' },
      gettext("No users matching search query have been found.")
    );
  }

  return _react2.default.createElement(
    'p',
    { className: 'lead' },
    gettext("Enter at least two characters to search users.")
  );
}

},{"../../users-list/root":217,"../page":147,"react":"react"}],152:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.change = function (value) {
      return function () {
        _this.props.onChange({
          target: {
            value: value
          }
        });
      };
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getChoice",
    value: function getChoice() {
      var _this2 = this;

      var choice = null;
      this.props.choices.map(function (item) {
        if (item.value === _this2.props.value) {
          choice = item;
        }
      });
      return choice;
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      return this.getChoice().icon;
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      return this.getChoice().label;
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "btn-group btn-select-group" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-select dropdown-toggle",
            id: this.props.id || null,
            "data-toggle": "dropdown",
            "aria-haspopup": "true",
            "aria-expanded": "false",
            "aria-describedby": this.props['aria-describedby'] || null,
            disabled: this.props.disabled || false },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            this.getIcon()
          ),
          this.getLabel()
        ),
        _react2.default.createElement(
          "ul",
          { className: "dropdown-menu" },
          this.props.choices.map(function (item, i) {
            return _react2.default.createElement(
              "li",
              { key: i },
              _react2.default.createElement(
                "button",
                { type: "button", className: "btn-link",
                  onClick: _this3.change(item.value) },
                _react2.default.createElement(
                  "span",
                  { className: "material-icon" },
                  item.icon
                ),
                item.label
              )
            );
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],153:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _button = require('./button');

var _button2 = _interopRequireDefault(_button);

var _form = require('./form');

var _form2 = _interopRequireDefault(_form);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _bannedPage = require('../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.state = {
      'isLoading': false,
      'showActivation': false,

      'username': '',
      'password': '',

      'validators': {
        'username': [],
        'password': []
      }
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.isValid()) {
        _snackbar2.default.error(gettext("Fill out both fields."));
        return false;
      } else {
        return true;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('AUTH_API'), {
        'username': this.state.username,
        'password': this.state.password
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      var form = $('#hidden-login-form');

      form.append('<input type="text" name="username" />');
      form.append('<input type="password" name="password" />');

      // fill out form with user credentials and submit it, this will tell
      // Misago to redirect user back to right page, and will trigger browser's
      // key ring feature
      form.find('input[type="hidden"]').val(_ajax2.default.getCsrfToken());
      form.find('input[name="redirect_to"]').val(window.location.pathname);
      form.find('input[name="username"]').val(this.state.username);
      form.find('input[name="password"]').val(this.state.password);
      form.submit();

      // keep form loading
      this.setState({
        'isLoading': true
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        if (rejection.code === 'inactive_admin') {
          _snackbar2.default.info(rejection.detail);
        } else if (rejection.code === 'inactive_user') {
          _snackbar2.default.info(rejection.detail);
          this.setState({
            'showActivation': true
          });
        } else if (rejection.code === 'banned') {
          (0, _bannedPage2.default)(rejection.detail);
          _modal2.default.hide();
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else if (rejection.status === 403 && rejection.ban) {
        (0, _bannedPage2.default)(rejection.ban);
        _modal2.default.hide();
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getActivationButton',
    value: function getActivationButton() {
      if (this.state.showActivation) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: _index2.default.get('REQUEST_ACTIVATION_URL'),
            className: 'btn btn-success btn-block' },
          gettext("Activate account")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm modal-sign-in',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Sign in")
            )
          ),
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', { id: 'id_username', className: 'form-control', type: 'text',
                    disabled: this.state.isLoading,
                    placeholder: gettext("Username or e-mail"),
                    onChange: this.bindInput('username'),
                    value: this.state.username })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'form-group' },
                _react2.default.createElement(
                  'div',
                  { className: 'control-input' },
                  _react2.default.createElement('input', { id: 'id_password', className: 'form-control', type: 'password',
                    disabled: this.state.isLoading,
                    placeholder: gettext("Password"),
                    onChange: this.bindInput('password'),
                    value: this.state.password })
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              this.getActivationButton(),
              _react2.default.createElement(
                _button2.default,
                { className: 'btn-default btn-block',
                  loading: this.state.isLoading },
                gettext("Sign in")
              ),
              _react2.default.createElement(
                'a',
                { href: '#',
                  className: 'btn btn-primary btn-block',
                  onClick: function onClick() {
                    fb_login();
                  } },
                'Facebook \u767B\u5165'
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../index":234,"../services/ajax":293,"../services/modal":299,"../services/snackbar":304,"../utils/banned-page":307,"./button":5,"./form":41,"react":"react"}],154:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
var TYPES_CLASSES = {
  'info': 'alert-info',
  'success': 'alert-success',
  'warning': 'alert-warning',
  'error': 'alert-danger'
};
/* jshint ignore:end */

var Snackbar = exports.Snackbar = function (_React$Component) {
  _inherits(Snackbar, _React$Component);

  function Snackbar() {
    _classCallCheck(this, Snackbar);

    return _possibleConstructorReturn(this, (Snackbar.__proto__ || Object.getPrototypeOf(Snackbar)).apply(this, arguments));
  }

  _createClass(Snackbar, [{
    key: 'getSnackbarClass',
    value: function getSnackbarClass() {
      var snackbarClass = 'alerts-snackbar';
      if (this.props.isVisible) {
        snackbarClass += ' in';
      } else {
        snackbarClass += ' out';
      }
      return snackbarClass;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getSnackbarClass() },
        _react2.default.createElement(
          'p',
          { className: 'alert ' + TYPES_CLASSES[this.props.type] },
          this.props.message
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Snackbar;
}(_react2.default.Component);

function select(state) {
  return state.snackbar;
}

},{"react":"react"}],155:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Breadcrumb = Breadcrumb;

exports.default = function (props) {
  return _react2.default.createElement(
    "div",
    { className: "page-breadcrumbs" },
    _react2.default.createElement(
      "div",
      { className: "container" },
      _react2.default.createElement(
        "ol",
        { className: "breadcrumb" },
        props.path.map(function (item) {
          return _react2.default.createElement(Breadcrumb, { key: item.id, node: item });
        })
      )
    )
  );
};

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:end */
function Breadcrumb(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "a",
      { href: props.node.absolute_url },
      props.node.name
    )
  );
} /* jshint ignore:start */

},{"react":"react"}],156:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'page-header with-stats with-breadcrumbs' },
    _react2.default.createElement(_breadcrumbs2.default, { path: props.thread.path }),
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'div',
        { className: 'row' },
        _react2.default.createElement(
          'div',
          { className: 'col-md-10' },
          _react2.default.createElement(_title2.default, { thread: props.thread, user: props.user })
        ),
        _react2.default.createElement(
          'div',
          { className: 'col-md-2' },
          _react2.default.createElement(Moderation, {
            posts: props.posts,
            thread: props.thread,
            user: props.user
          })
        )
      )
    ),
    _react2.default.createElement(_stats2.default, { thread: props.thread })
  );
};

exports.Moderation = Moderation;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _breadcrumbs = require('./breadcrumbs');

var _breadcrumbs2 = _interopRequireDefault(_breadcrumbs);

var _thread = require('../moderation/thread');

var _stats = require('./stats');

var _stats2 = _interopRequireDefault(_stats);

var _title = require('./title');

var _title2 = _interopRequireDefault(_title);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
function Moderation(props) {
  if (props.user.id && (0, _thread.isModerationVisible)(props.thread)) {
    return _react2.default.createElement(
      'div',
      { className: 'btn-group pull-right' },
      _react2.default.createElement(
        'button',
        {
          'aria-expanded': 'false',
          'aria-haspopup': 'true',
          className: 'btn btn-default dropdown-toggle',
          'data-toggle': 'dropdown',
          disabled: props.thread.isBusy,
          type: 'button'
        },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'settings'
        ),
        gettext("Moderation")
      ),
      _react2.default.createElement(_thread.ModerationControls, {
        posts: props.posts,
        thread: props.thread,
        user: props.user
      })
    );
  } else {
    return null;
  }
}

},{"../moderation/thread":165,"./breadcrumbs":155,"./stats":157,"./title":158,"react":"react"}],157:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Weight = Weight;
exports.Unapproved = Unapproved;
exports.IsHidden = IsHidden;
exports.IsClosed = IsClosed;
exports.Replies = Replies;
exports.LastReply = LastReply;

exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'header-stats' },
    _react2.default.createElement(
      'div',
      { className: 'container' },
      _react2.default.createElement(
        'ul',
        { className: 'list-inline' },
        _react2.default.createElement(Weight, { thread: props.thread }),
        _react2.default.createElement(Unapproved, { thread: props.thread }),
        _react2.default.createElement(IsHidden, { thread: props.thread }),
        _react2.default.createElement(IsClosed, { thread: props.thread }),
        _react2.default.createElement(Replies, { thread: props.thread }),
        _react2.default.createElement(LastReply, { thread: props.thread })
      )
    )
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _escapeHtml = require('../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* jshint ignore:start */
var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY = '<abbr class="last-title" title="%(absolute)s">%(relative)s</abbr>';

function Weight(props) {
  if (props.thread.weight == 2) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-globally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned globally")
      )
    );
  } else if (props.thread.weight == 1) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-pinned-locally' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'bookmark_border'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Pinned locally")
      )
    );
  } else {
    return null;
  }
}

function Unapproved(props) {
  if (props.thread.is_unapproved) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved")
      )
    );
  } else if (props.thread.has_unapproved_posts) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-unapproved-posts' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'remove_circle_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Unapproved posts")
      )
    );
  } else {
    return null;
  }
}

function IsHidden(props) {
  if (props.thread.is_hidden) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-hidden' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'visibility_off'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Hidden")
      )
    );
  } else {
    return null;
  }
}

function IsClosed(props) {
  if (props.thread.is_closed) {
    return _react2.default.createElement(
      'li',
      { className: 'thread-closed' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'lock_outline'
      ),
      _react2.default.createElement(
        'span',
        { className: 'icon-legend' },
        gettext("Closed")
      )
    );
  } else {
    return null;
  }
}

function Replies(props) {
  var message = ngettext("%(replies)s reply", "%(replies)s replies", props.thread.replies);
  var legend = interpolate(message, { 'replies': props.thread.replies }, true);

  return _react2.default.createElement(
    'li',
    { className: 'thread-replies' },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'forum'
    ),
    _react2.default.createElement(
      'span',
      { className: 'icon-legend' },
      legend
    )
  );
}

/* jshint ignore:end */
function LastReply(props) {
  var user = null;
  if (props.thread.url.last_poster) {
    user = interpolate(LAST_POSTER_URL, {
      url: (0, _escapeHtml2.default)(props.thread.url.last_poster),
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  } else {
    user = interpolate(LAST_POSTER_SPAN, {
      user: (0, _escapeHtml2.default)(props.thread.last_poster_name)
    }, true);
  };

  var date = interpolate(LAST_REPLY, {
    absolute: (0, _escapeHtml2.default)(props.thread.last_post_on.format('LLL')),
    relative: (0, _escapeHtml2.default)(props.thread.last_post_on.fromNow())
  }, true);

  var message = interpolate((0, _escapeHtml2.default)(gettext("last reply by %(user)s %(date)s")), {
    date: date, user: user
  }, true);

  return _react2.default.createElement('li', { className: 'thread-last-reply', dangerouslySetInnerHTML: { __html: message } });
}

},{"../../../utils/escape-html":311,"react":"react"}],158:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _validators = require('../../posting/utils/validators');

var _thread = require('../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } //jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onChange = function (event) {
      _this.changeValue('title', event.target.value);
    };

    _this.onEdit = function () {
      _this.setState({
        isEditing: true
      });
    };

    _this.onCancel = function () {
      _this.setState({
        title: _this.props.thread.title,

        isEditing: false
      });
    };

    _this.state = {
      isEditing: false,
      isLoading: false,

      title: props.thread.title,

      validators: {
        title: (0, _validators.getTitleValidators)()
      },
      errors: {}
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'clean',

    /* jshint ignore:end */

    value: function clean() {
      if (!this.state.title.trim().length) {
        _snackbar2.default.error(gettext("You have to enter thread title."));
        return false;
      }

      var errors = this.validate();

      if (errors.title) {
        _snackbar2.default.error(errors.title[0]);
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'title', value: this.state.title }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(data) {
      _store2.default.dispatch(thread.update(data));

      this.setState({
        'isEditing': false
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        console.log(rejection);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.state.isEditing) {
        return _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit, className: 'title-edit-form' },
          _react2.default.createElement(
            'div',
            { className: 'input-group' },
            _react2.default.createElement('input', {
              className: 'form-control',
              type: 'text',
              value: this.state.title,
              onChange: this.onChange
            }),
            _react2.default.createElement(
              'span',
              { className: 'input-group-btn' },
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-success',
                  disabled: this.state.isLoading,
                  title: gettext("Change title")
                },
                gettext("Save changes")
              ),
              _react2.default.createElement(
                'button',
                {
                  className: 'btn btn-default',
                  disabled: this.state.isLoading,
                  onClick: this.onCancel,
                  title: gettext("Cancel"),
                  type: 'button'
                },
                gettext("Cancel")
              )
            )
          )
        );
      } else if (this.props.user.id && this.props.thread.acl.can_edit) {
        return _react2.default.createElement(
          'div',
          { className: 'title-editable' },
          _react2.default.createElement(
            'h1',
            null,
            this.props.thread.title
          ),
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default',
              onClick: this.onEdit,
              title: gettext("Edit title"),
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'edit'
            )
          )
        );
      } else {
        return _react2.default.createElement(
          'h1',
          null,
          this.props.thread.title
        );
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/thread":288,"../../../services/ajax":293,"../../../services/snackbar":304,"../../../services/store":305,"../../form":41,"../../posting/utils/validators":99,"react":"react"}],159:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.approve = approve;
exports.protect = protect;
exports.unprotect = unprotect;
exports.hide = hide;
exports.unhide = unhide;
exports.patch = patch;
exports.merge = merge;
exports.remove = remove;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function approve(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_unapproved: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-unapproved', 'value': false }];

    var previousState = {
      is_unapproved: selection.is_unapproved
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function protect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': true }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unprotect(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_protected: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-protected', 'value': false }];

    var previousState = {
      is_protected: selection.is_protected
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function hide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: true,
      hidden_on: (0, _moment2.default)(),
      hidden_by_name: props.user.username,
      url: Object.assign(selection.url, {
        hidden_by: props.user.absolute_url
      })
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': true }];

    var previousState = {
      is_hidden: selection.is_hidden,
      hidden_on: selection.hidden_on,
      hidden_by_name: selection.hidden_by_name,
      url: selection.url
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function unhide(props) {
  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      is_hidden: false
    }));

    var ops = [{ 'op': 'replace', 'path': 'is-hidden', 'value': false }];

    var previousState = {
      is_hidden: selection.is_hidden
    };

    patch(selection, ops, previousState);
  });

  _store2.default.dispatch(posts.deselectAll());
}

function patch(selection, ops, previousState) {
  _ajax2.default.patch(selection.api.index, ops).then(function (newState) {
    _store2.default.dispatch(post.patch(selection, newState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(post.patch(selection, previousState));
  });
}

function merge(props) {
  var confirmed = confirm(gettext("Are you sure you want to merge selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.slice(1).map(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));
  });

  _ajax2.default.post(props.thread.api.posts.merge, {
    posts: props.selection.map(function (post) {
      return post.id;
    })
  }).then(function (data) {
    _store2.default.dispatch(post.patch(data, post.hydrate(data)));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    props.selection.slice(1).map(function (selection) {
      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

function remove(props) {
  var confirmed = confirm(gettext("Are you sure you want to delete selected posts? This action is not reversible!"));
  if (!confirmed) {
    return;
  }

  props.selection.forEach(function (selection) {
    _store2.default.dispatch(post.patch(selection, {
      isDeleted: true
    }));

    _ajax2.default.delete(selection.api.index).then(function () {
      return;
    }, function (rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }

      _store2.default.dispatch(post.patch(selection, {
        isDeleted: false
      }));
    });
  });

  _store2.default.dispatch(posts.deselectAll());
}

},{"../../../../reducers/post":282,"../../../../reducers/posts":283,"../../../../services/ajax":293,"../../../../services/snackbar":304,"../../../../services/store":305,"moment":"moment"}],160:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Delete = exports.Unhide = exports.Hide = exports.Unprotect = exports.Protect = exports.Split = exports.Move = exports.Merge = exports.Approve = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Approve, props),
    _react2.default.createElement(Merge, props),
    _react2.default.createElement(Move, props),
    _react2.default.createElement(Split, props),
    _react2.default.createElement(Protect, props),
    _react2.default.createElement(Unprotect, props),
    _react2.default.createElement(Hide, props),
    _react2.default.createElement(Unhide, props),
    _react2.default.createElement(Delete, props)
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _actions = require('./actions');

var moderation = _interopRequireWildcard(_actions);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _split = require('./split');

var _split2 = _interopRequireDefault(_split);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


var Approve = exports.Approve = function (_React$Component) {
  _inherits(Approve, _React$Component);

  function Approve() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Approve);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Approve.__proto__ || Object.getPrototypeOf(Approve)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      moderation.approve(_this.props);
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Approve, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_approve;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Approve")
        )
      );
    }
  }]);

  return Approve;
}(_react2.default.Component);

var Merge = exports.Merge = function (_React$Component2) {
  _inherits(Merge, _React$Component2);

  function Merge() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Merge);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Merge.__proto__ || Object.getPrototypeOf(Merge)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      moderation.merge(_this2.props);
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Merge, [{
    key: 'render',
    value: function render() {
      if (this.props.selection.length < 2 || !this.props.thread.acl.can_merge_posts) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Merge")
        )
      );
    }
  }]);

  return Merge;
}(_react2.default.Component);

var Move = exports.Move = function (_React$Component3) {
  _inherits(Move, _React$Component3);

  function Move() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Move);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Move.__proto__ || Object.getPrototypeOf(Move)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, _this3.props));
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Move, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Move")
        )
      );
    }
  }]);

  return Move;
}(_react2.default.Component);

var Split = exports.Split = function (_React$Component4) {
  _inherits(Split, _React$Component4);

  function Split() {
    var _ref4;

    var _temp4, _this4, _ret4;

    _classCallCheck(this, Split);

    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    return _ret4 = (_temp4 = (_this4 = _possibleConstructorReturn(this, (_ref4 = Split.__proto__ || Object.getPrototypeOf(Split)).call.apply(_ref4, [this].concat(args))), _this4), _this4.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_split2.default, _this4.props));
    }, _temp4), _possibleConstructorReturn(_this4, _ret4);
  }

  _createClass(Split, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_move;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Split")
        )
      );
    }
  }]);

  return Split;
}(_react2.default.Component);

var Protect = exports.Protect = function (_React$Component5) {
  _inherits(Protect, _React$Component5);

  function Protect() {
    var _ref5;

    var _temp5, _this5, _ret5;

    _classCallCheck(this, Protect);

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    return _ret5 = (_temp5 = (_this5 = _possibleConstructorReturn(this, (_ref5 = Protect.__proto__ || Object.getPrototypeOf(Protect)).call.apply(_ref5, [this].concat(args))), _this5), _this5.onClick = function () {
      moderation.protect(_this5.props);
    }, _temp5), _possibleConstructorReturn(_this5, _ret5);
  }

  _createClass(Protect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Protect")
        )
      );
    }
  }]);

  return Protect;
}(_react2.default.Component);

var Unprotect = exports.Unprotect = function (_React$Component6) {
  _inherits(Unprotect, _React$Component6);

  function Unprotect() {
    var _ref6;

    var _temp6, _this6, _ret6;

    _classCallCheck(this, Unprotect);

    for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }

    return _ret6 = (_temp6 = (_this6 = _possibleConstructorReturn(this, (_ref6 = Unprotect.__proto__ || Object.getPrototypeOf(Unprotect)).call.apply(_ref6, [this].concat(args))), _this6), _this6.onClick = function () {
      moderation.unprotect(_this6.props);
    }, _temp6), _possibleConstructorReturn(_this6, _ret6);
  }

  _createClass(Unprotect, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_protect;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unprotect")
        )
      );
    }
  }]);

  return Unprotect;
}(_react2.default.Component);

var Hide = exports.Hide = function (_React$Component7) {
  _inherits(Hide, _React$Component7);

  function Hide() {
    var _ref7;

    var _temp7, _this7, _ret7;

    _classCallCheck(this, Hide);

    for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }

    return _ret7 = (_temp7 = (_this7 = _possibleConstructorReturn(this, (_ref7 = Hide.__proto__ || Object.getPrototypeOf(Hide)).call.apply(_ref7, [this].concat(args))), _this7), _this7.onClick = function () {
      moderation.hide(_this7.props);
    }, _temp7), _possibleConstructorReturn(_this7, _ret7);
  }

  _createClass(Hide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_hide;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Hide")
        )
      );
    }
  }]);

  return Hide;
}(_react2.default.Component);

var Unhide = exports.Unhide = function (_React$Component8) {
  _inherits(Unhide, _React$Component8);

  function Unhide() {
    var _ref8;

    var _temp8, _this8, _ret8;

    _classCallCheck(this, Unhide);

    for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }

    return _ret8 = (_temp8 = (_this8 = _possibleConstructorReturn(this, (_ref8 = Unhide.__proto__ || Object.getPrototypeOf(Unhide)).call.apply(_ref8, [this].concat(args))), _this8), _this8.onClick = function () {
      moderation.unhide(_this8.props);
    }, _temp8), _possibleConstructorReturn(_this8, _ret8);
  }

  _createClass(Unhide, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_unhide;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Unhide")
        )
      );
    }
  }]);

  return Unhide;
}(_react2.default.Component);

var Delete = exports.Delete = function (_React$Component9) {
  _inherits(Delete, _React$Component9);

  function Delete() {
    var _ref9;

    var _temp9, _this9, _ret9;

    _classCallCheck(this, Delete);

    for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }

    return _ret9 = (_temp9 = (_this9 = _possibleConstructorReturn(this, (_ref9 = Delete.__proto__ || Object.getPrototypeOf(Delete)).call.apply(_ref9, [this].concat(args))), _this9), _this9.onClick = function () {
      moderation.remove(_this9.props);
    }, _temp9), _possibleConstructorReturn(_this9, _ret9);
  }

  _createClass(Delete, [{
    key: 'render',
    value: function render() {
      var isVisible = this.props.selection.find(function (post) {
        return post.acl.can_delete;
      });

      if (!isVisible) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn btn-link', onClick: this.onClick },
          gettext("Delete")
        )
      );
    }
  }]);

  return Delete;
}(_react2.default.Component);

},{"../../../../services/modal":299,"./actions":159,"./move":162,"./split":163,"react":"react"}],161:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  if (!props.user.id || !isVisible(props.thread, props.posts.results)) {
    return null;
  }

  var selection = props.posts.results.filter(function (post) {
    return post.isSelected;
  });

  return _react2.default.createElement(
    'div',
    { className: 'pull-right dropup' },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default btn-icon dropdown-toggle',
        'data-toggle': 'dropdown',
        disabled: !selection.length,
        type: 'button'
      },
      gettext("Posts options")
    ),
    _react2.default.createElement(_dropdown2.default, _extends({ selection: selection }, props))
  );
};

exports.isVisible = isVisible;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _dropdown = require('./dropdown');

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function isVisible(thread, posts) {
  if (thread.acl.can_merge_posts && posts.length > 1) {
    // fast test: show moderation menu if we can merge posts
    return true;
  }

  // slow test: show moderation if any of posts has moderation options
  var visible = false;
  posts.forEach(function (post) {
    if (!post.is_event) {
      var showModeration = post.acl.can_approve || post.acl.can_delete || !post.is_hidden && post.acl.can_hide || post.acl.can_move || post.acl.can_protect || post.is_hidden && post.acl.can_unhide || post.acl.can_unprotect;

      if (showModeration) {
        visible = true;
      }
    }
  });
  return visible;
}

},{"./dropdown":160,"react":"react"}],162:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.move, {
        thread_url: this.state.url,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(success) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were moved to the other thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to move posts to")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading },
                gettext("Move posts")
              )
            )
          )
        )
      );
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move posts")
    )
  );
}

},{"../../../../reducers/post":282,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../button":5,"../../../form":41,"../../../form-group":40,"react":"react"}],163:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModerationForm = exports.PostingConfig = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


exports.default = function (props) {
  return _react2.default.createElement(PostingConfig, _extends({}, props, { Form: ModerationForm }));
};

exports.Loader = Loader;
exports.Error = Error;
exports.Modal = Modal;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _select = require('../../../select');

var _select2 = _interopRequireDefault(_select);

var _post = require('../../../../reducers/post');

var post = _interopRequireWildcard(_post);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PostingConfig = exports.PostingConfig = function (_React$Component) {
  _inherits(PostingConfig, _React$Component);

  function PostingConfig(props) {
    _classCallCheck(this, PostingConfig);

    var _this = _possibleConstructorReturn(this, (PostingConfig.__proto__ || Object.getPrototypeOf(PostingConfig)).call(this, props));

    _this.state = {
      isLoaded: false,
      isError: false,

      categories: []
    };
    return _this;
  }

  _createClass(PostingConfig, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(misago.get('THREAD_EDITOR_API')).then(function (data) {
        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id,
            post: item.post
          });
        });

        _this2.setState({
          isLoaded: true,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isError) {
        return _react2.default.createElement(Error, { message: this.state.isError });
      } else if (this.state.isLoaded) {
        return _react2.default.createElement(ModerationForm, _extends({}, this.props, { categories: this.state.categories }));
      } else {
        return _react2.default.createElement(Loader, null);
      }
    }
  }]);

  return PostingConfig;
}(_react2.default.Component);

var ModerationForm = exports.ModerationForm = function (_Form) {
  _inherits(ModerationForm, _Form);

  function ModerationForm(props) {
    _classCallCheck(this, ModerationForm);

    var _this3 = _possibleConstructorReturn(this, (ModerationForm.__proto__ || Object.getPrototypeOf(ModerationForm)).call(this, props));

    _this3.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this3.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this3.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this3.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this3.setState(newState);
    };

    _this3.state = {
      isLoading: false,

      title: '',
      category: null,
      categories: props.categories,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this3.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this3.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];

    _this3.acl = {};
    _this3.props.categories.forEach(function (category) {
      if (category.post) {
        if (!_this3.state.category) {
          _this3.state.category = category.id;
        }

        _this3.acl[category.id] = {
          can_pin_threads: category.post.pin,
          can_close_threads: category.post.close,
          can_hide_threads: category.post.hide
        };
      }
    });
    return _this3;
  }

  _createClass(ModerationForm, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(this.props.thread.api.posts.split, {
        title: this.state.title,
        category: this.state.category,
        weight: this.state.weight,
        is_hidden: this.state.is_hidden,
        is_closed: this.state.is_closed,
        posts: this.props.selection.map(function (post) {
          return post.id;
        })
      });
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess(apiResponse) {
      this.props.selection.forEach(function (selection) {
        _store2.default.dispatch(post.patch(selection, {
          isDeleted: true
        }));
      });

      _modal2.default.hide();

      _snackbar2.default.success(gettext("Selected posts were split into new thread."));
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        this.setState({
          'errors': Object.assign({}, this.state.errors, rejection)
        });
        _snackbar2.default.error(gettext("Form contains errors."));
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(ErrorsModal, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }
  }, {
    key: 'getWeightChoices',
    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        Modal,
        { className: 'modal-dialog' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-body' },
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Thread title"),
                'for': 'id_title',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.title },
              _react2.default.createElement('input', { id: 'id_title',
                className: 'form-control',
                type: 'text',
                onChange: this.bindInput('title'),
                value: this.state.title })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            _react2.default.createElement(
              _formGroup2.default,
              { label: gettext("Category"),
                'for': 'id_category',
                labelClass: 'col-sm-4', controlClass: 'col-sm-8',
                validation: this.state.errors.category },
              _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
                onChange: this.onCategoryChange,
                value: this.state.category,
                choices: this.state.categories })
            ),
            _react2.default.createElement('div', { className: 'clearfix' }),
            this.renderWeightField(),
            this.renderHiddenField(),
            this.renderClosedField()
          ),
          _react2.default.createElement(
            'div',
            { className: 'modal-footer' },
            _react2.default.createElement(
              _button2.default,
              { className: 'btn-primary', loading: this.state.isLoading },
              gettext("Split posts")
            )
          )
        )
      );
    }
  }]);

  return ModerationForm;
}(_form2.default);

function Loader() {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog' },
    _react2.default.createElement(_modalLoader2.default, null)
  );
}

function Error(props) {
  return _react2.default.createElement(
    Modal,
    { className: 'modal-dialog modal-message' },
    _react2.default.createElement(
      'div',
      { className: 'message-icon' },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'info_outline'
      )
    ),
    _react2.default.createElement(
      'div',
      { className: 'message-body' },
      _react2.default.createElement(
        'p',
        { className: 'lead' },
        gettext("You can't move selected posts at the moment.")
      ),
      _react2.default.createElement(
        'p',
        null,
        props.message
      )
    )
  );
}

function Modal(props) {
  return _react2.default.createElement(
    'div',
    { className: props.className, role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(
        'div',
        { className: 'modal-header' },
        _react2.default.createElement(
          'button',
          {
            'aria-label': gettext("Close"),
            className: 'close',
            'data-dismiss': 'modal',
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { 'aria-hidden': 'true' },
            '\xD7'
          )
        ),
        _react2.default.createElement(
          'h4',
          { className: 'modal-title' },
          gettext("Split posts into new thread")
        )
      ),
      props.children
    )
  );
}

},{"../../../../reducers/post":282,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../../utils/validators":321,"../../../button":5,"../../../category-select":13,"../../../form":41,"../../../form-group":40,"../../../modal-loader":46,"../../../select":152,"react":"react"}],164:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:start
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      _store2.default.dispatch(thread.busy());

      // by the chance update thread acl too
      ops.push({ op: 'add', path: 'acl', value: true });

      _ajax2.default.patch(_this.props.thread.api.index, ops).then(function (data) {
        _store2.default.dispatch(thread.update(data));
        _store2.default.dispatch(thread.release());
        _snackbar2.default.success(successMessage);
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        if (rejection.status === 400) {
          _snackbar2.default.error(rejection.detail[0]);
        } else {
          _snackbar2.default.apiError(rejection);
        }
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Thread has been pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Thread has been pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Thread has been unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Thread has been approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Thread has been opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Thread has been closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Thread has been made visible."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Thread has been made hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, {
        posts: _this.props.posts,
        thread: _this.props.thread
      }));
    }, _this.merge = function () {
      _modal2.default.show(_react2.default.createElement(_merge2.default, { thread: _this.props.thread }));
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete this thread?"))) {
        return;
      }

      _store2.default.dispatch(thread.busy());

      _ajax2.default.delete(_this.props.thread.api.index).then(function (data) {
        _snackbar2.default.success(gettext("Thread has been deleted."));
        window.location = _this.props.thread.category.absolute_url;
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'getPinGloballyButton',
    value: function getPinGloballyButton() {
      if (this.props.thread.weight < 2 && this.props.thread.acl.can_pin == 2) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinGlobally },
            gettext("Pin globally")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.thread.weight !== 1 && this.props.thread.acl.can_pin > 0) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinLocally },
            gettext("Pin locally")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.thread.weight > 0 && this.props.thread.acl.can_pin > 0) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unpin },
            gettext("Unpin")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (this.props.thread.acl.can_move) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.move },
            gettext("Move")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (this.props.thread.acl.can_merge) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.merge },
            gettext("Merge")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (this.props.thread.is_unapproved && this.props.thread.acl.can_approve) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.approve },
            gettext("Approve")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (this.props.thread.is_closed && this.props.thread.acl.can_close) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.open },
            gettext("Open")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (!this.props.thread.is_closed && this.props.thread.acl.can_close) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.close },
            gettext("Close")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (this.props.thread.is_hidden && this.props.thread.acl.can_hide) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unhide },
            gettext("Unhide")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (!this.props.thread.is_hidden && this.props.thread.acl.can_hide) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.hide },
            gettext("Hide")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.thread.acl.can_hide == 2) {
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.delete },
            gettext("Delete")
          )
        );
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu' },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/thread":288,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"./merge":167,"./move":168,"react":"react"}],165:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isModerationVisible = exports.ModerationControls = undefined;

var _controls = require('./controls');

var _controls2 = _interopRequireDefault(_controls);

var _isVisible = require('./is-visible');

var _isVisible2 = _interopRequireDefault(_isVisible);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.ModerationControls = _controls2.default;
exports.isModerationVisible = _isVisible2.default;

},{"./controls":164,"./is-visible":166}],166:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (thread) {
  return thread.acl.can_approve && thread.is_unapproved || thread.acl.can_close || thread.acl.can_hide || thread.acl.can_move || thread.acl.can_pin;
};

},{}],167:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _mergePolls = require('../../../merge-polls');

var _mergePolls2 = _interopRequireDefault(_mergePolls);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSuccess = function (success) {
      _this.handleSuccessUnmounted(success);

      // keep form loading
      _this.setState({
        'isLoading': true
      });
    };

    _this.handleSuccessUnmounted = function (success) {
      _snackbar2.default.success(gettext("Thread has been merged with other one."));
      window.location = success.url;
    };

    _this.handleError = function (rejection) {
      _store2.default.dispatch(thread.release());

      if (rejection.status === 400) {
        if (rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergePolls2.default, {
            api: _this.props.thread.api.merge,
            data: { thread_url: _this.state.url },
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccessUnmounted
          }));
        } else {
          _snackbar2.default.error(rejection.detail);
        }
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onUrlChange = function (event) {
      _this.changeValue('url', event.target.value);
    };

    _this.state = {
      isLoading: false,

      url: '',

      validators: {
        url: []
      },
      errors: {}
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (!this.state.url.trim().length) {
        _snackbar2.default.error(gettext("You have to enter link to the other thread."));
        return false;
      }

      return true;
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.post(this.props.thread.api.merge, {
        thread_url: this.state.url
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog', role: 'document' },
        _react2.default.createElement(
          'form',
          { onSubmit: this.handleSubmit },
          _react2.default.createElement(
            'div',
            { className: 'modal-content' },
            _react2.default.createElement(ModalHeader, null),
            _react2.default.createElement(
              'div',
              { className: 'modal-body' },
              _react2.default.createElement(
                _formGroup2.default,
                {
                  'for': 'id_url',
                  label: gettext("Link to thread you want to merge with"),
                  help_text: gettext("Merge will delete current thread and move its contents to the thread specified here.")
                },
                _react2.default.createElement('input', {
                  className: 'form-control',
                  disabled: this.state.isLoading || this.props.thread.isBusy,
                  id: 'id_url',
                  onChange: this.onUrlChange,
                  value: this.state.url
                })
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'modal-footer' },
              _react2.default.createElement(
                'button',
                { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                gettext("Merge thread")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Merge thread")
    )
  );
}
/* jshint ignore:end */

},{"../../../../reducers/thread":288,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../form":41,"../../../form-group":40,"../../../merge-polls":44,"react":"react"}],168:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ModalHeader = ModalHeader;
exports.ModalLoading = ModalLoading;
exports.ModalMessage = ModalMessage;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _modalLoader = require('../../../modal-loader');

var _modalLoader2 = _interopRequireDefault(_modalLoader);

var _posts = require('../../../../reducers/posts');

var posts = _interopRequireWildcard(_posts);

var _thread = require('../../../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ = require('../../../..');

var _2 = _interopRequireDefault(_);

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.onCategoryChange = function (event) {
      _this.changeValue('category', event.target.value);
    };

    _this.state = {
      isReady: false,
      isLoading: false,
      isError: false,

      category: null,
      categories: []
    };
    return _this;
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _ajax2.default.get(_2.default.get('THREAD_EDITOR_API')).then(function (data) {
        var category = null;

        // hydrate categories, extract posting options
        var categories = data.map(function (item) {
          // pick first category that allows posting and if it may, override it with initial one
          if (item.post !== false && !category) {
            category = item.id;
          }

          return Object.assign(item, {
            disabled: item.post === false,
            label: item.name,
            value: item.id
          });
        });

        _this2.setState({
          isReady: true,

          category: category,
          categories: categories
        });
      }, function (rejection) {
        _this2.setState({
          isError: rejection.detail
        });
      });
    }
  }, {
    key: 'send',
    value: function send() {
      // freeze thread
      _store2.default.dispatch(thread.busy());

      return _ajax2.default.patch(this.props.thread.api.index, [{ op: 'replace', path: 'category', value: this.state.category }]);
    }
  }, {
    key: 'handleSuccess',
    value: function handleSuccess() {
      // refresh thread and displayed posts
      _ajax2.default.get(this.props.thread.api.posts.index, { page: this.props.posts.page }).then(function (data) {
        _store2.default.dispatch(thread.replace(data));
        _store2.default.dispatch(posts.load(data.post_set));
        _store2.default.dispatch(thread.release());

        _snackbar2.default.success(gettext("Thread has been moved."));
        _modal2.default.hide();
      }, function (rejection) {
        _store2.default.dispatch(thread.release());
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(rejection) {
      if (rejection.status === 400) {
        _snackbar2.default.error(rejection.detail[0]);
      } else {
        _snackbar2.default.apiError(rejection);
      }
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      if (this.state.isReady) {
        return _react2.default.createElement(
          'div',
          { className: 'modal-dialog', role: 'document' },
          _react2.default.createElement(
            'form',
            { onSubmit: this.handleSubmit },
            _react2.default.createElement(
              'div',
              { className: 'modal-content' },
              _react2.default.createElement(ModalHeader, null),
              _react2.default.createElement(
                'div',
                { className: 'modal-body' },
                _react2.default.createElement(
                  _formGroup2.default,
                  { 'for': 'id_category', label: gettext("New category") },
                  _react2.default.createElement(_categorySelect2.default, {
                    choices: this.state.categories,
                    disabled: this.state.isLoading || this.props.thread.isBusy,
                    id: 'id_category',
                    onChange: this.onCategoryChange,
                    value: this.state.category
                  })
                )
              ),
              _react2.default.createElement(
                'div',
                { className: 'modal-footer' },
                _react2.default.createElement(
                  'button',
                  { className: 'btn btn-primary', loading: this.state.isLoading || this.props.thread.isBusy },
                  gettext("Move thread")
                )
              )
            )
          )
        );
      } else if (this.state.isError) {
        return _react2.default.createElement(ModalMessage, { message: this.state.isError });
      } else {
        return _react2.default.createElement(ModalLoading, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

/* jshint ignore:start */


exports.default = _class;
function ModalHeader(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-header' },
    _react2.default.createElement(
      'button',
      {
        'aria-label': gettext("Close"),
        className: 'close',
        'data-dismiss': 'modal',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { 'aria-hidden': 'true' },
        '\xD7'
      )
    ),
    _react2.default.createElement(
      'h4',
      { className: 'modal-title' },
      gettext("Move thread")
    )
  );
}

function ModalLoading(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(_modalLoader2.default, null)
    )
  );
}

function ModalMessage(props) {
  return _react2.default.createElement(
    'div',
    { className: 'modal-dialog modal-message', role: 'document' },
    _react2.default.createElement(
      'div',
      { className: 'modal-content' },
      _react2.default.createElement(ModalHeader, null),
      _react2.default.createElement(
        'div',
        { className: 'message-icon' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'info_outline'
        )
      ),
      _react2.default.createElement(
        'div',
        { className: 'message-body' },
        _react2.default.createElement(
          'p',
          { className: 'lead' },
          gettext("You can't move this thread at the moment.")
        ),
        _react2.default.createElement(
          'p',
          null,
          props.message
        )
      )
    )
  );
}
/* jshint ignore:end */

},{"../../../..":234,"../../../../reducers/posts":283,"../../../../reducers/thread":288,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../category-select":13,"../../../form":41,"../../../form-group":40,"../../../modal-loader":46,"react":"react"}],169:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'nav',
    { className: 'misago-pagination pull-left' },
    _react2.default.createElement(Pager, props),
    _react2.default.createElement(More, { more: props.posts.more })
  );
};

exports.Pager = Pager;
exports.FirstPage = FirstPage;
exports.PreviousPage = PreviousPage;
exports.NextPage = NextPage;
exports.LastPage = LastPage;
exports.More = More;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Pager(props) {
  if (props.posts.pages > 1) {
    return _react2.default.createElement(
      'ul',
      { className: 'pagination' },
      _react2.default.createElement(FirstPage, props),
      _react2.default.createElement(PreviousPage, props),
      _react2.default.createElement(NextPage, props),
      _react2.default.createElement(LastPage, props)
    );
  } else {
    return null;
  }
} // jshint ignore:line

/* jshint ignore:start */
function FirstPage(props) {
  if (props.posts.isLoaded && props.posts.first) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index, title: gettext("Go to first page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'first_page'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to first page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'first_page'
        )
      )
    );
  }
}

function PreviousPage(props) {
  if (props.posts.isLoaded && props.posts.page > 1) {
    var previousUrl = '';
    if (props.posts.previous) {
      previousUrl = props.posts.previous + '/';
    }

    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + previousUrl, title: gettext("Go to previous page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_left'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to previous page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_left'
        )
      )
    );
  }
}

function NextPage(props) {
  if (props.posts.isLoaded && props.posts.more) {
    var nextUrl = '';
    if (props.posts.next) {
      nextUrl = props.posts.next + '/';
    }

    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + nextUrl, title: gettext("Go to next page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_right'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to next page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'chevron_right'
        )
      )
    );
  }
}

function LastPage(props) {
  if (props.posts.isLoaded && props.posts.last) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        _reactRouter.Link,
        { to: props.thread.url.index + props.posts.last + '/', title: gettext("Go to last page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'last_page'
        )
      )
    );
  } else {
    return _react2.default.createElement(
      'li',
      { className: 'disabled' },
      _react2.default.createElement(
        'span',
        { title: gettext("Go to last page") },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'last_page'
        )
      )
    );
  }
}

function More(props) {
  var message = null;
  if (props.more) {
    message = ngettext("There is %(more)s more post in this thread.", "There are %(more)s more posts in this thread.", props.more);
    message = interpolate(message, { 'more': props.more }, true);
  } else {
    message = gettext("There are no more posts in this thread.");
  }

  return _react2.default.createElement(
    'p',
    null,
    message
  );
}

},{"react":"react","react-router":"react-router"}],170:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (props) {
  return _react2.default.createElement(
    'button',
    {
      className: props.className || 'btn btn-success',
      onClick: props.onClick,
      type: 'button'
    },
    _react2.default.createElement(
      'span',
      { className: 'material-icon' },
      'chat'
    ),
    gettext("Reply")
  );
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"react":"react"}],171:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.select = select;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function select(store) {
  return {
    'participants': store.participants,
    'poll': store.poll,
    'posts': store.posts,
    'thread': store.thread,
    'tick': store.tick.tick,
    'user': store.auth.user
  };
}

function paths() {
  var thread = _index2.default.get('THREAD');
  var basePath = thread.url.index.replace(thread.slug + '-' + thread.pk, ':slug');

  return [{
    path: basePath,
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }, {
    path: basePath + ':page/',
    component: (0, _reactRedux.connect)(select)(_route2.default)
  }];
}

},{"../../index":234,"./route":172,"react-redux":"react-redux"}],172:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.Reply = Reply;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _participants = require('../participants');

var _participants2 = _interopRequireDefault(_participants);

var _poll = require('../poll');

var _postsList = require('../posts-list');

var _postsList2 = _interopRequireDefault(_postsList);

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _paginator = require('./paginator');

var _paginator2 = _interopRequireDefault(_paginator);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

var _toolbarTop = require('./toolbar-top');

var _toolbarTop2 = _interopRequireDefault(_toolbarTop);

var _posts = require('./moderation/posts');

var _posts2 = _interopRequireDefault(_posts);

var _participants3 = require('../../reducers/participants');

var participants = _interopRequireWildcard(_participants3);

var _poll2 = require('../../reducers/poll');

var poll = _interopRequireWildcard(_poll2);

var _posts3 = require('../../reducers/posts');

var posts = _interopRequireWildcard(_posts3);

var _thread = require('../../reducers/thread');

var thread = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.update = function (data) {
      _store2.default.dispatch(thread.replace(data));
      _store2.default.dispatch(posts.load(data.post_set));

      if (data.participants) {
        _store2.default.dispatch(participants.replace(data.participants));
      }

      if (data.poll) {
        _store2.default.dispatch(poll.replace(data.poll));
      }

      _this.setPageTitle();
    }, _this.openReplyForm = function () {
      _posting2.default.open({
        mode: 'REPLY',

        config: _this.props.thread.api.editor,
        submit: _this.props.thread.api.posts.index
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.setPageTitle();
      }

      this.startPollingApi();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.shouldFetchData()) {
        this.fetchData();
        this.startPollingApi();
        this.setPageTitle();
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.stopPollingApi();
    }
  }, {
    key: 'shouldFetchData',
    value: function shouldFetchData() {
      if (this.props.posts.isLoaded) {
        var page = (this.props.params.page || 1) * 1;
        return page != this.props.posts.page;
      } else {
        return false;
      }
    }
  }, {
    key: 'fetchData',
    value: function fetchData() {
      var _this2 = this;

      _store2.default.dispatch(posts.unload());

      _ajax2.default.get(this.props.thread.api.posts.index, {
        page: this.props.params.page || 1
      }, 'posts').then(function (data) {
        _this2.update(data);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPollingApi',
    value: function startPollingApi() {
      _polls2.default.start({
        poll: 'thread-posts',

        url: this.props.thread.api.posts.index,
        data: {
          page: this.props.params.page || 1
        },
        update: this.update,

        frequency: 120 * 1000,
        delayed: true
      });
    }
  }, {
    key: 'stopPollingApi',
    value: function stopPollingApi() {
      _polls2.default.stop('thread-posts');
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      _pageTitle2.default.set({
        title: this.props.thread.title,
        parent: this.props.thread.category.name,
        page: (this.props.params.page || 1) * 1
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-thread' },
        _react2.default.createElement(_header2.default, this.props),
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(_toolbarTop2.default, _extends({ openReplyForm: this.openReplyForm }, this.props)),
          _react2.default.createElement(_poll.Poll, {
            poll: this.props.poll,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_participants2.default, {
            participants: this.props.participants,
            thread: this.props.thread,
            user: this.props.user
          }),
          _react2.default.createElement(_postsList2.default, this.props),
          _react2.default.createElement(
            'div',
            { className: 'toolbar-bottom' },
            _react2.default.createElement(_paginator2.default, this.props),
            _react2.default.createElement(Reply, { onClick: this.openReplyForm, thread: this.props.thread }),
            _react2.default.createElement(_subscription2.default, _extends({ className: 'toolbar-right dropup' }, this.props)),
            _react2.default.createElement(_posts2.default, this.props),
            _react2.default.createElement('div', { className: 'clear-fix' })
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;
function Reply(props) {
  if (props.thread.acl.can_reply) {
    /* jshint ignore:start */
    return _react2.default.createElement(_replyButton2.default, {
      className: 'btn btn-success toolbar-right',
      onClick: props.onClick
    });
    /* jshint ignore:end */
  } else {
    return null;
  }
}

},{"../../reducers/participants":280,"../../reducers/poll":281,"../../reducers/posts":283,"../../reducers/thread":288,"../../services/ajax":293,"../../services/page-title":301,"../../services/polls":302,"../../services/posting":303,"../../services/snackbar":304,"../../services/store":305,"../participants":67,"../poll":72,"../posts-list":105,"./header":156,"./moderation/posts":161,"./paginator":169,"./reply-button":170,"./subscription":173,"./toolbar-top":174,"react":"react"}],173:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Email = exports.Enable = exports.Disable = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = function (props) {
  if (!props.user.id) {
    return null;
  }

  return _react2.default.createElement(
    'div',
    { className: props.className },
    _react2.default.createElement(
      'button',
      {
        'aria-expanded': 'true',
        'aria-haspopup': 'true',
        className: 'btn btn-default dropdown-toggle',
        'data-toggle': 'dropdown',
        type: 'button'
      },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        getIcon(props.thread.subscription)
      ),
      getLabel(props.thread.subscription)
    ),
    _react2.default.createElement(Dropdown, props)
  );
};

exports.getIcon = getIcon;
exports.getLabel = getLabel;
exports.Dropdown = Dropdown;
exports.update = update;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _thread = require('../../reducers/thread');

var actions = _interopRequireWildcard(_thread);

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* jshint ignore:start */


function getIcon(subscription) {
  if (subscription === true) {
    return 'star';
  } else if (subscription === false) {
    return 'star_half';
  } else {
    return 'star_border';
  }
}

function getLabel(subscription) {
  if (subscription === true) {
    return gettext("E-mail");
  } else if (subscription === false) {
    return gettext("Enabled");
  } else {
    return gettext("Disabled");
  }
}

function Dropdown(props) {
  return _react2.default.createElement(
    'ul',
    { className: 'dropdown-menu dropdown-menu-right' },
    _react2.default.createElement(Disable, props),
    _react2.default.createElement(Enable, props),
    _react2.default.createElement(Email, props)
  );
}

var Disable = exports.Disable = function (_React$Component) {
  _inherits(Disable, _React$Component);

  function Disable() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Disable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Disable.__proto__ || Object.getPrototypeOf(Disable)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      if (_this.props.thread.subscription === null) {
        return;
      }

      update(_this.props.thread, null, 'unsubscribe');
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Disable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_border'
          ),
          gettext("Unsubscribe")
        )
      );
    }
  }]);

  return Disable;
}(_react2.default.Component);

var Enable = exports.Enable = function (_React$Component2) {
  _inherits(Enable, _React$Component2);

  function Enable() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, Enable);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = Enable.__proto__ || Object.getPrototypeOf(Enable)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      if (_this2.props.thread.subscription === false) {
        return;
      }

      update(_this2.props.thread, false, 'notify');
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(Enable, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star_half'
          ),
          gettext("Subscribe")
        )
      );
    }
  }]);

  return Enable;
}(_react2.default.Component);

var Email = exports.Email = function (_React$Component3) {
  _inherits(Email, _React$Component3);

  function Email() {
    var _ref3;

    var _temp3, _this3, _ret3;

    _classCallCheck(this, Email);

    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    return _ret3 = (_temp3 = (_this3 = _possibleConstructorReturn(this, (_ref3 = Email.__proto__ || Object.getPrototypeOf(Email)).call.apply(_ref3, [this].concat(args))), _this3), _this3.onClick = function () {
      if (_this3.props.thread.subscription === true) {
        return;
      }

      update(_this3.props.thread, true, 'email');
    }, _temp3), _possibleConstructorReturn(_this3, _ret3);
  }

  _createClass(Email, [{
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          'button',
          { className: 'btn-link', onClick: this.onClick },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'star'
          ),
          gettext("Subscribe with e-mail")
        )
      );
    }
  }]);

  return Email;
}(_react2.default.Component);

function update(thread, newState, value) {
  var oldState = {
    subscription: thread.subscription
  };

  _store2.default.dispatch(actions.update({
    subscription: newState
  }));

  _ajax2.default.patch(thread.api.index, [{ op: 'replace', path: 'subscription', value: value }]).then(function (finalState) {
    _store2.default.dispatch(actions.update(finalState));
  }, function (rejection) {
    if (rejection.status === 400) {
      _snackbar2.default.error(rejection.detail[0]);
    } else {
      _snackbar2.default.apiError(rejection);
    }

    _store2.default.dispatch(actions.update(oldState));
  });
}

},{"../../reducers/thread":288,"../../services/ajax":293,"../../services/snackbar":304,"../../services/store":305,"react":"react"}],174:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AddParticipant = exports.StartPoll = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /* jshint ignore:start */


exports.default = function (props) {
  return _react2.default.createElement(
    'div',
    { className: 'toolbar' },
    _react2.default.createElement(
      'ul',
      { className: 'list-inline' },
      _react2.default.createElement(GotoNew, { thread: props.thread }),
      _react2.default.createElement(GotoUnapproved, { thread: props.thread }),
      _react2.default.createElement(GotoLast, { thread: props.thread }),
      _react2.default.createElement(Reply, { openReplyForm: props.openReplyForm, thread: props.thread }),
      _react2.default.createElement(StartPoll, { poll: props.poll, thread: props.thread }),
      _react2.default.createElement(AddParticipant, { thread: props.thread }),
      _react2.default.createElement(SubscriptionMenu, props)
    )
  );
};

exports.GotoNew = GotoNew;
exports.GotoUnapproved = GotoUnapproved;
exports.GotoLast = GotoLast;
exports.SubscriptionMenu = SubscriptionMenu;
exports.Reply = Reply;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _replyButton = require('./reply-button');

var _replyButton2 = _interopRequireDefault(_replyButton);

var _subscription = require('./subscription');

var _subscription2 = _interopRequireDefault(_subscription);

var _addParticipant = require('../add-participant');

var _addParticipant2 = _interopRequireDefault(_addParticipant);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function GotoNew(props) {
  if (props.thread.is_new) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        { href: props.thread.url.new_post, className: 'btn btn-default', title: gettext('Go to first new post') },
        gettext("New")
      )
    );
  } else {
    return null;
  }
}

function GotoUnapproved(props) {
  if (props.thread.has_unapproved_posts && props.thread.acl.can_approve) {
    return _react2.default.createElement(
      'li',
      null,
      _react2.default.createElement(
        'a',
        { href: props.thread.url.unapproved_post, className: 'btn btn-default', title: gettext('Go to first unapproved post') },
        gettext("Unapproved")
      )
    );
  } else {
    return null;
  }
}

function GotoLast(props) {
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      { href: props.thread.url.last_post, className: 'btn btn-default', title: gettext('Go to last post') },
      gettext("Last")
    )
  );
}

function SubscriptionMenu(props) {
  if (!props.user.id) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'pull-right' },
    _react2.default.createElement(_subscription2.default, _extends({ className: 'dropdown toolbar-right' }, props))
  );
}

function Reply(props) {
  if (!props.thread.acl.can_reply) {
    return null;
  }

  return _react2.default.createElement(
    'li',
    { className: 'pull-right' },
    _react2.default.createElement(_replyButton2.default, { onClick: props.openReplyForm })
  );
}

var StartPoll = exports.StartPoll = function (_React$Component) {
  _inherits(StartPoll, _React$Component);

  function StartPoll() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, StartPoll);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = StartPoll.__proto__ || Object.getPrototypeOf(StartPoll)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function () {
      _posting2.default.open({
        mode: 'POLL',
        submit: _this.props.thread.api.poll,

        thread: _this.props.thread,
        poll: null
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(StartPoll, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_start_poll || this.props.thread.poll) {
        return null;
      }

      return _react2.default.createElement(
        'li',
        { className: 'pull-right' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'poll'
          ),
          gettext("Add poll")
        )
      );
    }
  }]);

  return StartPoll;
}(_react2.default.Component);

var AddParticipant = exports.AddParticipant = function (_React$Component2) {
  _inherits(AddParticipant, _React$Component2);

  function AddParticipant() {
    var _ref2;

    var _temp2, _this2, _ret2;

    _classCallCheck(this, AddParticipant);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref2 = AddParticipant.__proto__ || Object.getPrototypeOf(AddParticipant)).call.apply(_ref2, [this].concat(args))), _this2), _this2.onClick = function () {
      _modal2.default.show(_react2.default.createElement(_addParticipant2.default, { thread: _this2.props.thread }));
    }, _temp2), _possibleConstructorReturn(_this2, _ret2);
  }

  _createClass(AddParticipant, [{
    key: 'render',
    value: function render() {
      if (!this.props.thread.acl.can_add_participants) return null;

      return _react2.default.createElement(
        'li',
        { className: 'pull-right' },
        _react2.default.createElement(
          'button',
          {
            className: 'btn btn-default',
            onClick: this.onClick,
            type: 'button'
          },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'person_add'
          ),
          gettext("Add participant")
        )
      );
    }
  }]);

  return AddParticipant;
}(_react2.default.Component);

},{"../../services/modal":299,"../../services/posting":303,"../add-participant":1,"./reply-button":170,"./subscription":173,"react":"react"}],175:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getMessage",
    value: function getMessage() {
      var label = ngettext("There is %(threads)s new or updated thread. Click this message to show it.", "There are %(threads)s new or updated threads. Click this message to show them.", this.props.diffSize);

      return interpolate(label, {
        threads: this.props.diffSize
      }, true);
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "li",
        { className: "list-group-item threads-diff-message" },
        _react2.default.createElement(
          "button",
          { type: "button",
            className: "btn btn-block btn-default",
            onClick: this.props.applyDiff },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "cached"
          ),
          _react2.default.createElement(
            "span",
            { className: "diff-message" },
            this.getMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],176:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize === 0) return null;

      /* jshint ignore:start */
      return _react2.default.createElement(_diffMessage2.default, {
        applyDiff: this.props.applyDiff,
        diffSize: this.props.diffSize
      });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.children
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./diff-message":175,"react":"react"}],177:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _preview = require('../thread/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_preview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/preview":186,"react":"react"}],178:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _diffMessage = require('./diff-message');

var _diffMessage2 = _interopRequireDefault(_diffMessage);

var _ready = require('../thread/ready');

var _ready2 = _interopRequireDefault(_ready);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getDiffMessage',
    value: function getDiffMessage() {
      if (this.props.diffSize > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(_diffMessage2.default, { diffSize: this.props.diffSize,
          applyDiff: this.props.applyDiff });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'threads-list ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.getDiffMessage(),
          this.props.threads.map(function (thread) {
            return _react2.default.createElement(_ready2.default, { categories: _this2.props.categories,
              thread: thread,
              list: _this2.props.list,

              showOptions: _this2.props.showOptions,
              isSelected: _this2.props.selection.indexOf(thread.id) >= 0,

              isBusy: _this2.props.busyThreads.indexOf(thread.id) >= 0,
              key: thread.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../thread/ready":187,"./diff-message":175,"react":"react"}],179:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _empty = require('./list/empty');

var _empty2 = _interopRequireDefault(_empty);

var _ready = require('./list/ready');

var _ready2 = _interopRequireDefault(_ready);

var _preview = require('./list/preview');

var _preview2 = _interopRequireDefault(_preview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isLoaded) {
        if (this.props.threads.length > 0) {
          return _react2.default.createElement(_ready2.default, { threads: this.props.threads,
            categories: this.props.categories,
            list: this.props.list,

            diffSize: this.props.diffSize,
            applyDiff: this.props.applyDiff,

            showOptions: this.props.showOptions,
            selection: this.props.selection,

            busyThreads: this.props.busyThreads });
        } else {
          return _react2.default.createElement(
            _empty2.default,
            { diffSize: this.props.diffSize,
              applyDiff: this.props.applyDiff },
            this.props.children
          );
        }
      } else {
        return _react2.default.createElement(_preview2.default, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list/empty":176,"./list/preview":177,"./list/ready":178,"react":"react"}],180:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUrl',
    value: function getUrl() {
      return this.props.category.absolute_url + this.props.list.path;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.category.css_class) {
        return 'thread-category thread-category-' + this.props.category.css_class;
      } else {
        return 'thread-category';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        _reactRouter.Link,
        { to: this.getUrl(), className: this.getClassName() },
        this.props.category.name
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],181:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('../category');

var _category2 = _interopRequireDefault(_category);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPath',
    value: function getPath() {
      var top = this.props.categories[this.props.thread.top_category];
      var bottom = this.props.categories[this.props.thread.category];

      if (top && bottom && top.id !== bottom.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: bottom, list: this.props.list })
        );
        /* jshint ignore:end */
      } else if (top) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getRepliesCount',
    value: function getRepliesCount() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'thread-replies-count' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'forum'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          this.props.thread.replies
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getLastReply',
    value: function getLastReply() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'thread-last-reply-clock' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'schedule'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          this.props.thread.last_post_on.fromNow()
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'thread-details-compact list-inline' },
        this.getPath(),
        this.getRepliesCount(),
        this.getLastReply()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../category":180,"react":"react"}],182:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _category = require('../category');

var _category2 = _interopRequireDefault(_category);

var _escapeHtml = require('../../../../utils/escape-html');

var _escapeHtml2 = _interopRequireDefault(_escapeHtml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


var LAST_POSTER_URL = '<a href="%(url)s" class="poster-title">%(user)s</a>';
var LAST_POSTER_SPAN = '<span class="poster-title">%(user)s</span>';
var LAST_REPLY_URL = '<a href="%(url)s" class="last-title" title="%(absolute)s">%(relative)s</a>';

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getNewLabel',
    value: function getNewLabel() {
      if (!this.props.thread.is_read) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-new-posts',
            title: gettext("Go to first unread post") },
          _react2.default.createElement(
            'a',
            { href: this.props.thread.url.new_post },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'comment'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              gettext("New posts")
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinnedLabel',
    value: function getPinnedLabel() {
      if (this.props.thread.weight === 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-pinned-globally' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Pinned globally")
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.weight === 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-pinned-locally' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'bookmark_border'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Pinned locally")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnapprovedLabel',
    value: function getUnapprovedLabel() {
      if (this.props.thread.is_unapproved) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-unapproved' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Unapproved")
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.has_unapproved_posts) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-unapproved-posts' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'remove_circle_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Unapproved posts")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHiddenLabel',
    value: function getHiddenLabel() {
      if (this.props.thread.is_hidden) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-hidden' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'visibility_off'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Hidden")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClosedLabel',
    value: function getClosedLabel() {
      if (this.props.thread.is_closed) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-closed' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'lock_outline'
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            gettext("Closed")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getPath',
    value: function getPath() {
      var top = this.props.categories[this.props.thread.top_category];
      var bottom = this.props.categories[this.props.thread.category];

      if (top && bottom && top.id !== bottom.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list }),
          _react2.default.createElement(
            'span',
            { className: 'path-separator material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(_category2.default, { category: bottom, list: this.props.list })
        );
        /* jshint ignore:end */
      } else if (top) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'thread-path' },
          _react2.default.createElement(_category2.default, { category: top, list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getRepliesCount',
    value: function getRepliesCount() {
      /* jshint ignore:start */
      var message = ngettext("%(replies)s reply", "%(replies)s replies", this.props.thread.replies);

      return _react2.default.createElement(
        'li',
        { className: 'thread-replies' },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          'forum'
        ),
        _react2.default.createElement(
          'span',
          { className: 'icon-legend' },
          interpolate(message, {
            replies: this.props.thread.replies
          }, true)
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getLastReplyDate',
    value: function getLastReplyDate() {
      return interpolate(LAST_REPLY_URL, {
        url: (0, _escapeHtml2.default)(this.props.thread.url.last_post),
        absolute: (0, _escapeHtml2.default)(this.props.thread.last_post_on.format('LLL')),
        relative: (0, _escapeHtml2.default)(this.props.thread.last_post_on.fromNow())
      }, true);
    }
  }, {
    key: 'getLastPoster',
    value: function getLastPoster() {
      if (this.props.thread.url.last_poster) {
        return interpolate(LAST_POSTER_URL, {
          url: (0, _escapeHtml2.default)(this.props.thread.url.last_poster),
          user: (0, _escapeHtml2.default)(this.props.thread.last_poster_name)
        }, true);
      } else {
        return interpolate(LAST_POSTER_SPAN, {
          user: (0, _escapeHtml2.default)(this.props.thread.last_poster_name)
        }, true);
      }
    }
  }, {
    key: 'getLastReply',
    value: function getLastReply() {
      var message = gettext("last reply by %(user)s %(date)s");
      if (this.props.thread.last_post_is_event) {
        message = gettext("last action by %(user)s %(date)s");
      }

      /* jshint ignore:start */
      return _react2.default.createElement('li', { className: 'thread-last-reply',
        dangerouslySetInnerHTML: { __html: interpolate((0, _escapeHtml2.default)(message), {
            date: this.getLastReplyDate(),
            user: this.getLastPoster()
          }, true) } });
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'thread-details-full list-inline' },
        this.getNewLabel(),
        this.getPinnedLabel(),
        this.getUnapprovedLabel(),
        this.getHiddenLabel(),
        this.getClosedLabel(),
        this.getPath(),
        this.getRepliesCount(),
        this.getLastReply()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../utils/escape-html":311,"../category":180,"react":"react"}],183:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getPinnedIcon",
    value: function getPinnedIcon() {
      if (this.props.thread.weight === 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-pinned-globally" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark"
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.weight === 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-pinned-locally" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "bookmark_border"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "getUnapprovedIcon",
    value: function getUnapprovedIcon() {
      if (this.props.thread.is_unapproved) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-unapproved" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "remove_circle"
          )
        );
        /* jshint ignore:end */
      } else if (this.props.thread.has_unapproved_posts) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-unapproved-posts" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "remove_circle_outline"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "getHiddenIcon",
    value: function getHiddenIcon() {
      if (this.props.thread.is_hidden) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-hidden" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "visibility_off"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "getClosedIcon",
    value: function getClosedIcon() {
      if (this.props.thread.is_closed) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          "span",
          { className: "thread-closed" },
          _react2.default.createElement(
            "span",
            { className: "material-icon" },
            "lock_outline"
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "thread-flags" },
        this.getPinnedIcon(),
        this.getUnapprovedIcon(),
        this.getHiddenIcon(),
        this.getClosedIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],184:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.is_read) {
        return 'read-status item-read';
      } else {
        return 'read-status item-new';
      }
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.thread.is_read) {
        return gettext("This thread has no new posts.");
      } else {
        return gettext("This thread has new posts.");
      }
    }
  }, {
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.is_read) {
        return 'chat_bubble_outline';
      } else {
        return 'chat_bubble';
      }
    }
  }, {
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.thread.is_read) {
        return this.props.thread.url.last_post;
      } else {
        return this.props.thread.url.new_post;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'a',
        { className: this.getClassName(), href: this.getUrl(), title: this.getTitle() },
        _react2.default.createElement(
          'span',
          { className: 'material-icon' },
          this.getIcon()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],185:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _compact = require('./subscription/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./subscription/full');

var _full2 = _interopRequireDefault(_full);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggleSelection = function () {
      _store2.default.dispatch(select.item(_this.props.thread.id));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getSelectToggle',

    /* jshint ignore:end */

    value: function getSelectToggle() {
      if (this.props.thread.moderation.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-default btn-checkbox',
              onClick: this.toggleSelection,
              disabled: this.props.disabled },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              this.props.isSelected ? 'check_box' : 'check_box_outline_blank'
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              this.props.isSelected ? gettext("Selected") : gettext("Select")
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'thread-options' },
        _react2.default.createElement(
          'ul',
          { className: 'list-inline' },
          this.getSelectToggle(),
          _react2.default.createElement(_full2.default, { thread: this.props.thread,
            disabled: this.props.disabled }),
          _react2.default.createElement(_compact2.default, { thread: this.props.thread,
            disabled: this.props.disabled })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":286,"../../../services/store":305,"./subscription/compact":188,"./subscription/full":189,"react":"react"}],186:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item thread-preview hidden-xs hidden-sm';
      } else {
        return 'list-group-item thread-preview';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'thread-icon' },
          _react2.default.createElement(
            'span',
            { className: 'read-status item-read' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'chat_bubble_outline'
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'thread-main' },
          _react2.default.createElement(
            'span',
            { className: 'item-title thread-title' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(60, 200) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'thread-details-compact list-inline' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(20, 70) + "px" } },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'ul',
            { className: 'thread-details-full list-inline' },
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(50, 150) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(50, 100) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'li',
              null,
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(100, 250) + "px" } },
                '\xA0'
              )
            )
          )
        ),
        _react2.default.createElement('div', { className: 'clearfix' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":316,"react":"react"}],187:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _loader = require('../../loader');

var _loader2 = _interopRequireDefault(_loader);

var _compact = require('./details/compact');

var _compact2 = _interopRequireDefault(_compact);

var _full = require('./details/full');

var _full2 = _interopRequireDefault(_full);

var _flags = require('./flags');

var _flags2 = _interopRequireDefault(_flags);

var _icon = require('./icon');

var _icon2 = _interopRequireDefault(_icon);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.isBusy) {
        /* jshint ignore:start */
        return _react2.default.createElement(_loader2.default, null);
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_icon2.default, { thread: this.props.thread });
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getOptions',
    value: function getOptions() {
      if (this.props.showOptions) {
        /* jshint ignore:start */
        return _react2.default.createElement(_options2.default, { thread: this.props.thread,
          disabled: this.props.isBusy,
          isSelected: this.props.isSelected });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var styles = ['list-group-item'];

      if (this.props.thread.is_read) {
        styles.push('thread-read');
      } else {
        styles.push('thread-new');
      }

      if (this.props.isBusy) {
        styles.push('thread-busy');
      } else if (this.props.isSelected) {
        styles.push('thread-selected');
      }

      if (this.props.showOptions) {
        if (this.props.thread.moderation.length) {
          styles.push('thread-ops-two');
        } else {
          styles.push('thread-ops-one');
        }
      }

      return styles.join(' ');
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'thread-icon' },
          this.getIcon(),
          _react2.default.createElement(_flags2.default, { thread: this.props.thread })
        ),
        this.getOptions(),
        _react2.default.createElement(
          'div',
          { className: 'thread-main' },
          _react2.default.createElement(
            'a',
            { href: this.props.thread.url.index, className: 'item-title thread-title' },
            this.props.thread.title
          ),
          _react2.default.createElement(_full2.default, { categories: this.props.categories,
            list: this.props.list,
            thread: this.props.thread }),
          _react2.default.createElement(_compact2.default, { categories: this.props.categories,
            list: this.props.list,
            thread: this.props.thread })
        ),
        _react2.default.createElement('div', { className: 'clearfix' })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../loader":43,"./details/compact":181,"./details/full":182,"./flags":183,"./icon":184,"./options":185,"react":"react"}],188:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _full = require('./full');

var _full2 = _interopRequireDefault(_full);

var _modal = require('./modal');

var _modal2 = _interopRequireDefault(_modal);

var _modal3 = require('../../../../services/modal');

var _modal4 = _interopRequireDefault(_modal3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_SubscriptionFull) {
  _inherits(_class, _SubscriptionFull);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.showOptions = function () {
      _modal4.default.show(_react2.default.createElement(_modal2.default, { thread: _this.props.thread }));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'hidden-md hidden-lg' },
        _react2.default.createElement(
          'button',
          { type: 'button',
            className: this.getClassName(),
            disabled: this.props.disabled,
            onClick: this.showOptions },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            this.getIcon()
          ),
          _react2.default.createElement(
            'span',
            { className: 'icon-legend' },
            this.getLegend()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_full2.default);

exports.default = _class;

},{"../../../../services/modal":299,"./full":189,"./modal":190,"react":"react"}],189:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.thread.subscription === true) {
        return 'star';
      } else if (this.props.thread.subscription === false) {
        return 'star_half';
      } else {
        return 'star_border';
      }
    }
  }, {
    key: 'getLegend',
    value: function getLegend() {
      if (this.props.thread.subscription === true) {
        return gettext("E-mail");
      } else if (this.props.thread.subscription === false) {
        return gettext("Enabled");
      } else {
        return gettext("Disabled");
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.thread.subscription === true) {
        return "btn btn-default btn-subscribe btn-subscribe-full dropdown-toggle";
      } else if (this.props.thread.subscription === false) {
        return "btn btn-default btn-subscribe btn-subscribe-half dropdown-toggle";
      } else {
        return "btn btn-default btn-subscribe dropdown-toggle";
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'hidden-xs hidden-sm' },
        _react2.default.createElement(
          'div',
          { className: 'btn-group' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: this.getClassName(),
              disabled: this.props.disabled,
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              this.getIcon()
            ),
            _react2.default.createElement(
              'span',
              { className: 'icon-legend' },
              this.getLegend()
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'dropdown-menu dropdown-menu-right',
            thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":191,"react":"react"}],190:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _options = require('./options');

var _options2 = _interopRequireDefault(_options);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-dialog modal-sm',
          role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Change subscription")
            )
          ),
          _react2.default.createElement(_options2.default, { className: 'modal-menu', thread: this.props.thread })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./options":191,"react":"react"}],191:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../../button');

var _button2 = _interopRequireDefault(_button);

var _threads = require('../../../../reducers/threads');

var _ajax = require('../../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

/* jshint ignore:start */
var STATE_UPDATES = {
  'unsubscribe': null,
  'notify': false,
  'email': true
};
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.setSubscription = function (newState) {
      _modal2.default.hide();

      _this.setState({
        isLoading: true
      });

      var oldState = _this.props.thread.subscription;

      _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
        subscription: STATE_UPDATES[newState]
      }));

      _ajax2.default.patch(_this.props.thread.api.index, [{ op: 'replace', path: 'subscription', value: newState }]).then(function () {
        _this.setState({
          isLoading: false
        });
      }, function (rejection) {
        _this.setState({
          isLoading: false
        });
        _store2.default.dispatch((0, _threads.patch)(_this.props.thread, {
          subscription: STATE_UPDATES[oldState]
        }));
        _snackbar2.default.apiError(rejection);
      });
    };

    _this.unsubscribe = function () {
      _this.setSubscription('unsubscribe');
    };

    _this.notify = function () {
      _this.setSubscription('notify');
    };

    _this.email = function () {
      _this.setSubscription('email');
    };

    _this.state = {
      isLoading: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.unsubscribe },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_border'
            ),
            gettext("Unsubscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.notify },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star_half'
            ),
            gettext("Subscribe")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn-link', onClick: this.email },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'star'
            ),
            gettext("Subscribe with e-mail")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../../reducers/threads":289,"../../../../services/ajax":293,"../../../../services/modal":299,"../../../../services/snackbar":304,"../../../../services/store":305,"../../../button":5,"react":"react"}],192:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Subcategory = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var Subcategory = exports.Subcategory = function (_React$Component) {
  _inherits(Subcategory, _React$Component);

  function Subcategory() {
    _classCallCheck(this, Subcategory);

    return _possibleConstructorReturn(this, (Subcategory.__proto__ || Object.getPrototypeOf(Subcategory)).apply(this, arguments));
  }

  _createClass(Subcategory, [{
    key: 'getUrl',
    value: function getUrl() {
      if (this.props.listPath) {
        return this.props.category.absolute_url + this.props.listPath;
      } else {
        return this.props.category.absolute_url;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        null,
        _react2.default.createElement(
          _reactRouter.Link,
          { to: this.getUrl(), className: 'btn btn-link' },
          this.props.category.name
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return Subcategory;
}(_react2.default.Component);

var _class = function (_React$Component2) {
  _inherits(_class, _React$Component2);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      var _this3 = this;

      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'btn-group category-picker' },
        _react2.default.createElement(
          'button',
          { type: 'button',
            className: 'btn btn-default dropdown-toggle',
            'data-toggle': 'dropdown',
            'aria-haspopup': 'true',
            'aria-expanded': 'false' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'more_vert'
          ),
          gettext("Go to")
        ),
        _react2.default.createElement(
          'ul',
          { className: 'dropdown-menu categories-menu' },
          this.props.choices.map(function (id) {
            if (_this3.props.categories[id]) {
              return _react2.default.createElement(Subcategory, { category: _this3.props.categories[id],
                listPath: _this3.props.list.path,
                key: id });
            } else {
              return null;
            }
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react","react-router":"react-router"}],193:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.compareLastPostAge = compareLastPostAge;
exports.compareGlobalWeight = compareGlobalWeight;
exports.compareWeight = compareWeight;
function compareLastPostAge(a, b) {
  if (a.last_post > b.last_post) {
    return -1;
  } else if (a.last_post < b.last_post) {
    return 1;
  } else {
    return 0;
  }
}

function compareGlobalWeight(a, b) {
  if (a.weight === 2 && a.weight > b.weight) {
    return -1;
  } else if (b.weight === 2 && a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

function compareWeight(a, b) {
  if (a.weight > b.weight) {
    return -1;
  } else if (a.weight < b.weight) {
    return 1;
  } else {
    return compareLastPostAge(a, b);
  }
}

},{}],194:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _toolbar = require('./toolbar');

var _toolbar2 = _interopRequireDefault(_toolbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryDescription',
    value: function getCategoryDescription() {
      if (this.props.pageLead) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(
            'div',
            { className: 'page-lead' },
            _react2.default.createElement(
              'p',
              null,
              this.props.pageLead
            )
          )
        );
        /* jshint ignore:end */
      } else if (this.props.route.category.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'category-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.category.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getDisableToolbar',
    value: function getDisableToolbar() {
      return !this.props.isLoaded || this.props.isBusy || this.props.busyThreads.length;
    }
  }, {
    key: 'getToolbar',
    value: function getToolbar() {
      if (this.props.subcategories.length || this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(_toolbar2.default, { subcategories: this.props.subcategories,
          categories: this.props.route.categories,
          categoriesMap: this.props.route.categoriesMap,
          list: this.props.route.list,

          threads: this.props.threads,
          moderation: this.props.moderation,
          selection: this.props.selection,
          selectAllThreads: this.props.selectAllThreads,
          selectNoneThreads: this.props.selectNoneThreads,

          addThreads: this.props.addThreads,
          freezeThread: this.props.freezeThread,
          deleteThread: this.props.deleteThread,
          updateThread: this.props.updateThread,

          route: this.props.route,
          disabled: this.getDisableToolbar(),
          user: this.props.user });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'container' },
        this.getCategoryDescription(),
        this.getToolbar(),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../page-lead":58,"./toolbar":205,"react":"react"}],195:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.markAsRead = function () {
      _this.setState({
        isBusy: true
      });

      _ajax2.default.post(_this.props.route.category.api_url.read).then(function () {
        _store2.default.dispatch((0, _threads.read)(_this.props.route.categoriesMap, _this.props.route.category));

        _this.setState({
          isBusy: false
        });

        _snackbar2.default.success(gettext("Threads have been marked as read."));
      }, function (rejection) {
        _this.setState({
          isBusy: false
        });

        _snackbar2.default.apiError(rejection);
      });
    };

    _this.startThread = function () {
      _posting2.default.open(_this.props.startThread || {
        mode: 'START',

        config: _2.default.get('THREAD_EDITOR_API'),
        submit: _2.default.get('THREADS_API'),

        category: _this.props.route.category.id
      });
    };

    _this.state = {
      isBusy: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getGoBackButton',

    /* jshint ignore:end */

    value: function getGoBackButton() {
      if (this.props.route.category.parent) {
        /* jshint ignore:start */
        var parent = this.props.categories[this.props.route.category.parent];

        return _react2.default.createElement(
          _reactRouter.Link,
          { className: 'btn btn-default btn-aligned btn-icon btn-go-back pull-left',
            to: parent.absolute_url + this.props.route.list.path },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'keyboard_arrow_left'
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getStartThreadButton',
    value: function getStartThreadButton() {
      if (this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { className: 'btn btn-success btn-aligned',
            onClick: this.startThread,
            disabled: this.props.disabled },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'chat'
          ),
          gettext("Start thread")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMarkAsReadButton',
    value: function getMarkAsReadButton() {
      if (this.props.user.id) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _button2.default,
          { className: 'btn btn-default btn-aligned hidden-xs hidden-sm',
            onClick: this.markAsRead,
            loading: this.state.isBusy,
            disabled: this.props.disabled },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'playlist_add_check'
          ),
          gettext("Mark as read")
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCompactNavToggle',
    value: function getCompactNavToggle() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.props.toggleNav,
          dropdown: this.props.dropdown });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getTabsNav',
    value: function getTabsNav() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_navs.TabsNav, { baseUrl: this.props.route.category.absolute_url,
          list: this.props.route.list,
          lists: this.props.route.lists });
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.lists.length > 1) {
        return 'page-header tabbed';
      } else {
        return 'page-header';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getGoBackButton(),
          _react2.default.createElement(
            'h1',
            { className: 'pull-left' },
            this.props.title
          ),
          this.getStartThreadButton(),
          this.getMarkAsReadButton(),
          this.getCompactNavToggle()
        ),
        this.getTabsNav()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../..":234,"../../reducers/threads":289,"../../services/ajax":293,"../../services/posting":303,"../../services/snackbar":304,"../../services/store":305,"../button":5,"../dropdown-toggle":19,"./navs":202,"react":"react","react-router":"react-router"}],196:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.list.type === 'all') {
        if (this.props.emptyMessage) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              this.props.emptyMessage
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("Why not start one yourself?")
            )
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'li',
            { className: 'list-group-item empty-message' },
            _react2.default.createElement(
              'p',
              { className: 'lead' },
              this.props.category.special_role ? gettext("There are no threads on this forum... yet!") : gettext("There are no threads in this category.")
            ),
            _react2.default.createElement(
              'p',
              null,
              gettext("Why not start one yourself?")
            )
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          { className: 'list-group-item empty-message' },
          gettext("No threads matching specified criteria were found.")
        );
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],197:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _merge = require('./merge');

var _merge2 = _interopRequireDefault(_merge);

var _move = require('./move');

var _move2 = _interopRequireDefault(_move);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _countdown = require('../../../utils/countdown');

var _countdown2 = _interopRequireDefault(_countdown);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.callApi = function (ops, successMessage) {
      var onSuccess = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      var errors = [];
      var countdown = new _countdown2.default(function () {
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(successMessage);
          if (onSuccess) {
            onSuccess();
          }
        }
      }, _this.props.threads.length);

      // update thread acl together with its state
      ops.push({ op: 'add', path: 'acl', value: true });

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.patch(thread.api.index, ops).then(function (data) {
          _this.props.updateThread(data);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _this.pinGlobally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 2
      }], gettext("Selected threads were pinned globally."));
    }, _this.pinLocally = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 1
      }], gettext("Selected threads were pinned locally."));
    }, _this.unpin = function () {
      _this.callApi([{
        op: 'replace',
        path: 'weight',
        value: 0
      }], gettext("Selected threads were unpinned."));
    }, _this.approve = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-unapproved',
        value: false
      }], gettext("Selected threads were approved."));
    }, _this.open = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: false
      }], gettext("Selected threads were opened."));
    }, _this.close = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-closed',
        value: true
      }], gettext("Selected threads were closed."));
    }, _this.unhide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: false
      }], gettext("Selected threads were unhidden."));
    }, _this.hide = function () {
      _this.callApi([{
        op: 'replace',
        path: 'is-hidden',
        value: true
      }], gettext("Selected threads were hidden."));
    }, _this.move = function () {
      _modal2.default.show(_react2.default.createElement(_move2.default, { callApi: _this.callApi,
        categories: _this.props.categories,
        categoriesMap: _this.props.categoriesMap,
        route: _this.props.route,
        user: _this.props.user }));
    }, _this.merge = function () {
      var errors = [];
      _this.props.threads.forEach(function (thread) {
        if (!thread.acl.can_merge) {
          errors.append({
            'id': thread.id,
            'title': thread.title,
            'errors': [gettext("You don't have permission to merge this thread with others.")]
          });
        }
      });

      if (_this.props.threads.length < 2) {
        _snackbar2.default.info(gettext("You have to select at least two threads to merge."));
      } else if (errors.length) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        return;
      } else {
        _modal2.default.show(_react2.default.createElement(_merge2.default, _this.props));
      }
    }, _this.delete = function () {
      if (!confirm(gettext("Are you sure you want to delete selected threads?"))) {
        return;
      }

      var errors = [];
      var countdown = new _countdown2.default(function () {
        if (errors.length) {
          _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: errors }));
        } else {
          _snackbar2.default.success(gettext("Selected threads were deleted."));
        }

        // unfreeze non-deleted threads
        _this.props.threads.forEach(function (thread) {
          _this.props.freezeThread(thread.id);
        });

        // reduce selection to non-deleted threads
        _store2.default.dispatch(select.all(_this.props.threads.map(function (item) {
          return item.id;
        })));
      }, _this.props.threads.length);

      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);

        _ajax2.default.delete(thread.api.index).then(function (data) {
          _this.props.freezeThread(thread.id);
          _this.props.deleteThread(thread);
          countdown.count();
        }, function (rejection) {
          errors.push({
            thread: thread,
            errors: [rejection.detail]
          });

          countdown.count();
        });
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getPinGloballyButton',

    /* jshint ignore:end */

    value: function getPinGloballyButton() {
      if (this.props.moderation.can_pin == 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinGlobally },
            gettext("Pin threads globally")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getPinLocallyButton',
    value: function getPinLocallyButton() {
      if (this.props.moderation.can_pin > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.pinLocally },
            gettext("Pin threads locally")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnpinButton',
    value: function getUnpinButton() {
      if (this.props.moderation.can_pin > 0) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unpin },
            gettext("Unpin threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoveButton',
    value: function getMoveButton() {
      if (this.props.moderation.can_move) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.move },
            gettext("Move threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMergeButton',
    value: function getMergeButton() {
      if (this.props.moderation.can_merge) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.merge },
            gettext("Merge threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getApproveButton',
    value: function getApproveButton() {
      if (this.props.moderation.can_approve) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.approve },
            gettext("Approve threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getOpenButton',
    value: function getOpenButton() {
      if (this.props.moderation.can_close) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.open },
            gettext("Open threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getCloseButton',
    value: function getCloseButton() {
      if (this.props.moderation.can_close) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.close },
            gettext("Close threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUnhideButton',
    value: function getUnhideButton() {
      if (this.props.moderation.can_hide) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.unhide },
            gettext("Unhide threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getHideButton',
    value: function getHideButton() {
      if (this.props.moderation.can_hide) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.hide },
            gettext("Hide threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getDeleteButton',
    value: function getDeleteButton() {
      if (this.props.moderation.can_hide == 2) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-link',
              onClick: this.delete },
            gettext("Delete threads")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        this.getPinGloballyButton(),
        this.getPinLocallyButton(),
        this.getUnpinButton(),
        this.getMoveButton(),
        this.getMergeButton(),
        this.getApproveButton(),
        this.getOpenButton(),
        this.getCloseButton(),
        this.getUnhideButton(),
        this.getHideButton(),
        this.getDeleteButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":286,"../../../services/ajax":293,"../../../services/modal":299,"../../../services/snackbar":304,"../../../services/store":305,"../../../utils/countdown":310,"./errors-list":198,"./merge":199,"./move":200,"react":"react"}],198:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.ThreadErrors = ThreadErrors;

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/* jshint ignore:start */
function ThreadErrors(props) {
  return _react2.default.createElement(
    "li",
    null,
    _react2.default.createElement(
      "h5",
      null,
      props.thread.title
    ),
    _react2.default.createElement(
      "ul",
      { className: "list-unstyled list-item-errors" },
      props.errors.map(function (item, i) {
        return _react2.default.createElement(
          "li",
          { key: i },
          item
        );
      })
    )
  );
}
/* jshint ignore:end */

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "modal-dialog",
          role: "document" },
        _react2.default.createElement(
          "div",
          { className: "modal-content" },
          _react2.default.createElement(
            "div",
            { className: "modal-header" },
            _react2.default.createElement(
              "button",
              { type: "button", className: "close", "data-dismiss": "modal",
                "aria-label": gettext("Close") },
              _react2.default.createElement(
                "span",
                { "aria-hidden": "true" },
                "\xD7"
              )
            ),
            _react2.default.createElement(
              "h4",
              { className: "modal-title" },
              gettext("Threads moderation")
            )
          ),
          _react2.default.createElement(
            "div",
            { className: "modal-body" },
            _react2.default.createElement(
              "p",
              { className: "lead" },
              gettext("Errors were encountered when performing moderation action on one or more threads:")
            ),
            _react2.default.createElement(
              "ul",
              { className: "list-unstyled list-errored-items" },
              this.props.errors.map(function (item) {
                return _react2.default.createElement(ThreadErrors, {
                  errors: item.errors,
                  key: item.thread.id,
                  thread: item.thread
                });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],199:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../../button');

var _button2 = _interopRequireDefault(_button);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _select = require('../../select');

var _select2 = _interopRequireDefault(_select);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../../reducers/threads');

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _errorsList = require('./errors-list');

var _errorsList2 = _interopRequireDefault(_errorsList);

var _mergePolls = require('../../merge-polls');

var _mergePolls2 = _interopRequireDefault(_mergePolls);

var _ajax = require('../../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _snackbar = require('../../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _validators = require('../../../utils/validators');

var validators = _interopRequireWildcard(_validators);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.getFormdata = function () {
      return {
        top_category: _this.props.route.category.id,
        threads: _this.props.threads.map(function (thread) {
          return thread.id;
        }),
        title: _this.state.title,
        category: _this.state.category,
        weight: _this.state.weight,
        is_hidden: _this.state.is_hidden,
        is_closed: _this.state.is_closed
      };
    };

    _this.handleSuccess = function (apiResponse) {
      // unfreeze and remove merged threads
      _this.props.threads.forEach(function (thread) {
        _this.props.freezeThread(thread.id);
        _this.props.deleteThread(thread);
      });

      // deselect all threads
      _store2.default.dispatch(select.none());

      // append merged thread, filter threads
      _this.props.addThreads([apiResponse]);
      _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

      // hide modal
      _modal2.default.hide();
    };

    _this.handleError = function (rejection) {
      if (rejection.status === 400) {
        if (rejection.polls) {
          _modal2.default.show(_react2.default.createElement(_mergePolls2.default, {
            api: _index2.default.get('MERGE_THREADS_API'),
            data: _this.getFormdata(),
            polls: rejection.polls,
            onError: _this.handleError,
            onSuccess: _this.handleSuccess
          }));
        } else {
          _this.setState({
            'errors': Object.assign({}, _this.state.errors, rejection)
          });
          _snackbar2.default.error(gettext("Form contains errors."));
        }
      } else if (rejection.status === 403 && Array.isArray(rejection)) {
        _modal2.default.show(_react2.default.createElement(_errorsList2.default, { errors: rejection }));
      } else {
        _snackbar2.default.apiError(rejection);
      }
    };

    _this.onCategoryChange = function (ev) {
      var categoryId = ev.target.value;
      var newState = {
        category: categoryId
      };

      if (_this.acl[categoryId].can_pin_threads < newState.weight) {
        newState.weight = 0;
      }

      if (!_this.acl[categoryId].can_hide_threads) {
        newState.is_hidden = 0;
      }

      if (!_this.acl[categoryId].can_close_threads) {
        newState.is_closed = false;
      }

      _this.setState(newState);
    };

    _this.state = {
      isLoading: false,

      title: '',
      category: null,
      weight: 0,
      is_hidden: 0,
      is_closed: false,

      validators: {
        title: [validators.required()]
      },

      errors: {}
    };

    _this.acl = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      _this.acl[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = _this.acl[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });

    _this.isHiddenChoices = [{
      'value': 0,
      'icon': 'visibility',
      'label': gettext("No")
    }, {
      'value': 1,
      'icon': 'visibility_off',
      'label': gettext("Yes")
    }];

    _this.isClosedChoices = [{
      'value': false,
      'icon': 'lock_outline',
      'label': gettext("No")
    }, {
      'value': true,
      'icon': 'lock',
      'label': gettext("Yes")
    }];
    return _this;
  }

  _createClass(_class, [{
    key: 'clean',
    value: function clean() {
      if (this.isValid()) {
        return true;
      } else {
        _snackbar2.default.error(gettext("Form contains errors."));
        this.setState({
          errors: this.validate()
        });
        return false;
      }
    }
  }, {
    key: 'send',
    value: function send() {
      return _ajax2.default.post(_index2.default.get('MERGE_THREADS_API'), this.getFormdata());
    }

    /* jshint ignore:start */

  }, {
    key: 'getWeightChoices',

    /* jshint ignore:end */

    value: function getWeightChoices() {
      var choices = [{
        'value': 0,
        'icon': 'remove',
        'label': gettext("Not pinned")
      }, {
        'value': 1,
        'icon': 'bookmark_border',
        'label': gettext("Pinned locally")
      }];

      if (this.acl[this.state.category].can_pin_threads == 2) {
        choices.push({
          'value': 2,
          'icon': 'bookmark',
          'label': gettext("Pinned globally")
        });
      }

      return choices;
    }
  }, {
    key: 'renderWeightField',
    value: function renderWeightField() {
      if (this.acl[this.state.category].can_pin_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Thread weight"),
            'for': 'id_weight',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_weight',
            onChange: this.bindInput('weight'),
            value: this.state.weight,
            choices: this.getWeightChoices() })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderHiddenField',
    value: function renderHiddenField() {
      if (this.acl[this.state.category].can_hide_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Hide thread"),
            'for': 'id_is_hidden',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_hidden'),
            value: this.state.is_hidden,
            choices: this.isHiddenChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderClosedField',
    value: function renderClosedField() {
      if (this.acl[this.state.category].can_close_threads) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _formGroup2.default,
          { label: gettext("Close thread"),
            'for': 'id_is_closed',
            labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
          _react2.default.createElement(_select2.default, { id: 'id_is_closed',
            onChange: this.bindInput('is_closed'),
            value: this.state.is_closed,
            choices: this.isClosedChoices })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Thread title"),
              'for': 'id_title',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              validation: this.state.errors.title },
            _react2.default.createElement('input', { id: 'id_title',
              className: 'form-control',
              type: 'text',
              onChange: this.bindInput('title'),
              value: this.state.title })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("Category"),
              'for': 'id_category',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8',
              validation: this.state.errors.category },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_category',
              onChange: this.onCategoryChange,
              value: this.state.category,
              choices: this.categoryChoices })
          ),
          _react2.default.createElement('div', { className: 'clearfix' }),
          this.renderWeightField(),
          this.renderHiddenField(),
          this.renderClosedField()
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            _button2.default,
            { className: 'btn-primary', loading: this.state.isLoading },
            gettext("Merge threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMergeMessage',
    value: function renderCantMergeMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to merge threads to it.")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Merge threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMergeMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../index":234,"../../../reducers/selection":286,"../../../reducers/threads":289,"../../../services/ajax":293,"../../../services/modal":299,"../../../services/snackbar":304,"../../../services/store":305,"../../../utils/validators":321,"../../button":5,"../../category-select":13,"../../form":41,"../../form-group":40,"../../merge-polls":44,"../../select":152,"./errors-list":198,"react":"react"}],200:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _form = require('../../form');

var _form2 = _interopRequireDefault(_form);

var _formGroup = require('../../form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

var _categorySelect = require('../../category-select');

var _categorySelect2 = _interopRequireDefault(_categorySelect);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../../reducers/threads');

var _modal = require('../../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_Form) {
  _inherits(_class, _Form);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.handleSubmit = function (event) {
      // we don't reload page on submissions
      event.preventDefault();

      _modal2.default.hide();

      var onSuccess = function onSuccess() {
        _store2.default.dispatch((0, _threads.filterThreads)(_this.props.route.category, _this.props.categoriesMap));

        // deselect threads moved outside of visible scope
        var storeState = _store2.default.getState();
        var leftThreads = storeState.threads.map(function (thread) {
          return thread.id;
        });
        _store2.default.dispatch(select.all(storeState.selection.filter(function (thread) {
          return leftThreads.indexOf(thread) !== -1;
        })));
      };

      _this.props.callApi([{ op: 'replace', path: 'category', value: _this.state.category }, { op: 'add', path: 'top-category', value: _this.props.route.category.id }, { op: 'replace', path: 'flatten-categories', value: null }, { op: 'add', path: 'acl', value: true }], gettext("Selected threads were moved."), onSuccess);
    };

    _this.state = {
      category: null
    };

    var acls = {};
    for (var i in props.user.acl.categories) {
      if (!props.user.acl.categories.hasOwnProperty(i)) {
        continue;
      }

      var acl = props.user.acl.categories[i];
      acls[acl.id] = acl;
    }

    _this.categoryChoices = [];
    props.categories.forEach(function (category) {
      if (category.level > 0) {
        var _acl = acls[category.id];
        var disabled = !_acl.can_start_threads || category.is_closed && !_acl.can_close_threads;

        _this.categoryChoices.push({
          value: category.id,
          disabled: disabled,
          level: category.level - 1,
          label: category.name
        });

        if (!disabled && !_this.state.category) {
          _this.state.category = category.id;
        }
      }
    });
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getClassName',

    /* jshint ignore:end */

    value: function getClassName() {
      if (!this.state.category) {
        return 'modal-dialog modal-message';
      } else {
        return 'modal-dialog';
      }
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'form',
        { onSubmit: this.handleSubmit },
        _react2.default.createElement(
          'div',
          { className: 'modal-body' },
          _react2.default.createElement(
            _formGroup2.default,
            { label: gettext("New category"),
              'for': 'id_new_category',
              labelClass: 'col-sm-4', controlClass: 'col-sm-8' },
            _react2.default.createElement(_categorySelect2.default, { id: 'id_new_category',
              onChange: this.bindInput('category'),
              value: this.state.category,
              choices: this.categoryChoices })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'modal-footer' },
          _react2.default.createElement(
            'button',
            { className: 'btn btn-primary' },
            gettext("Move threads")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'renderCantMoveMessage',
    value: function renderCantMoveMessage() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'modal-body' },
        _react2.default.createElement(
          'div',
          { className: 'message-icon' },
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'info_outline'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'message-body' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("You can't move threads because there are no categories you are allowed to move them to.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext("You need permission to start threads in category to be able to move threads to it.")
          )
        )
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName(), role: 'document' },
        _react2.default.createElement(
          'div',
          { className: 'modal-content' },
          _react2.default.createElement(
            'div',
            { className: 'modal-header' },
            _react2.default.createElement(
              'button',
              { type: 'button', className: 'close', 'data-dismiss': 'modal',
                'aria-label': gettext("Close") },
              _react2.default.createElement(
                'span',
                { 'aria-hidden': 'true' },
                '\xD7'
              )
            ),
            _react2.default.createElement(
              'h4',
              { className: 'modal-title' },
              gettext("Move threads")
            )
          ),
          this.state.category ? this.renderForm() : this.renderCantMoveMessage()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_form2.default);

exports.default = _class;

},{"../../../reducers/selection":286,"../../../reducers/threads":289,"../../../services/modal":299,"../../../services/store":305,"../../category-select":13,"../../form":41,"../../form-group":40,"react":"react"}],201:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _selection = require('../../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.selectAll = function () {
      _store2.default.dispatch(select.all(_this.props.threads.map(function (thread) {
        return thread.id;
      })));
    }, _this.selectNone = function () {
      _store2.default.dispatch(select.none());
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'render',

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: this.props.className },
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-link',
              type: 'button',
              onClick: this.selectAll },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box'
            ),
            gettext("Select all")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            { className: 'btn btn-link',
              type: 'button',
              onClick: this.selectNone },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'check_box_outline_blank'
            ),
            gettext("Select none")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../reducers/selection":286,"../../../services/store":305,"react":"react"}],202:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.TabsNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


//jshint ignore:line

// jshint ignore:start
var navLinks = function navLinks(baseUrl, active, lists, hideNav) {
  return lists.map(function (list) {
    return _react2.default.createElement(
      _li2.default,
      { isControlled: true,
        isActive: list.path === active.path,
        key: baseUrl + list.path },
      _react2.default.createElement(
        _reactRouter.Link,
        { to: baseUrl + list.path, onClick: hideNav },
        _react2.default.createElement(
          'span',
          { className: 'hidden-xs hidden-sm' },
          list.name
        ),
        _react2.default.createElement(
          'span',
          { className: 'hidden-md hidden-lg' },
          list.longName
        )
      )
    );
  });
};
// jshint ignore:end

var TabsNav = exports.TabsNav = function (_React$Component) {
  _inherits(TabsNav, _React$Component);

  function TabsNav() {
    _classCallCheck(this, TabsNav);

    return _possibleConstructorReturn(this, (TabsNav.__proto__ || Object.getPrototypeOf(TabsNav)).apply(this, arguments));
  }

  _createClass(TabsNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'div',
        { className: 'page-tabs hidden-xs hidden-sm' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'ul',
            { className: 'nav nav-pills' },
            navLinks(this.props.baseUrl, this.props.list, this.props.lists, this.props.hideNav)
          )
        )
      );
      // jshint ignore:end
    }
  }]);

  return TabsNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        navLinks(this.props.baseUrl, this.props.list, this.props.lists, this.props.hideNav)
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../li":42,"react":"react","react-router":"react-router"}],203:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSelect = getSelect;
exports.getLists = getLists;
exports.paths = paths;

var _reactRedux = require('react-redux');

var _route = require('./route');

var _route2 = _interopRequireDefault(_route);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSelect(options) {
  return function (store) {
    return {
      'options': options,
      'selection': store.selection,
      'threads': store.threads,
      'tick': store.tick.tick,
      'user': store.auth.user
    };
  };
}

function getLists(user) {
  var lists = [{
    type: 'all',
    path: '',
    name: gettext("All"),
    longName: gettext("All threads")
  }];

  if (user.id) {
    lists.push({
      type: 'my',
      path: 'my/',
      name: gettext("My"),
      longName: gettext("My threads")
    });
    lists.push({
      type: 'new',
      path: 'new/',
      name: gettext("New"),
      longName: gettext("New threads")
    });
    lists.push({
      type: 'unread',
      path: 'unread/',
      name: gettext("Unread"),
      longName: gettext("Unread threads")
    });
    lists.push({
      type: 'subscribed',
      path: 'subscribed/',
      name: gettext("Subscribed"),
      longName: gettext("Subscribed threads")
    });

    if (user.acl.can_see_unapproved_content_lists) {
      lists.push({
        type: 'unapproved',
        path: 'unapproved/',
        name: gettext("Unapproved"),
        longName: gettext("Unapproved content")
      });
    }
  }

  return lists;
}

function paths(user, mode) {
  var lists = getLists(user);
  var routes = [];
  var categoriesMap = {};

  _index2.default.get('CATEGORIES').forEach(function (category) {
    lists.forEach(function (list) {
      categoriesMap[category.id] = category;

      routes.push({
        path: category.absolute_url + list.path,
        component: (0, _reactRedux.connect)(getSelect(mode))(_route2.default),

        categories: _index2.default.get('CATEGORIES'),
        categoriesMap: categoriesMap,
        category: category,

        lists: lists,
        list: list
      });
    });
  });

  return routes;
}

},{"../../index":234,"./route":204,"react-redux":"react-redux"}],204:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _button = require('../button');

var _button2 = _interopRequireDefault(_button);

var _compare = require('./compare');

var _container = require('./container');

var _container2 = _interopRequireDefault(_container);

var _navs = require('./navs');

var _header = require('./header');

var _header2 = _interopRequireDefault(_header);

var _utils = require('./utils');

var _root = require('../threads-list/root');

var _root2 = _interopRequireDefault(_root);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var select = _interopRequireWildcard(_selection);

var _threads = require('../../reducers/threads');

var _ajax = require('../../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _polls = require('../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _snackbar = require('../../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

var _sets = require('../../utils/sets');

var sets = _interopRequireWildcard(_sets);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.loadMore = function () {
      _this.setState({
        isBusy: true
      });

      _this.loadThreads(_this.getCategory(), _this.state.page + 1);
    };

    _this.pollResponse = function (data) {
      _this.setState({
        diff: Object.assign({}, data, {
          results: (0, _utils.diffThreads)(_this.props.threads, data.results)
        })
      });
    };

    _this.addThreads = function (threads) {
      _store2.default.dispatch((0, _threads.append)(threads, _this.getSorting()));
    };

    _this.applyDiff = function () {
      _this.addThreads(_this.state.diff.results);

      _this.setState(Object.assign({}, _this.state.diff, {
        moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

        diff: {
          results: []
        }
      }));
    };

    _this.freezeThread = function (thread) {
      _this.setState(function (currentState) {
        return {
          busyThreads: sets.toggle(currentState.busyThreads, thread)
        };
      });
    };

    _this.updateThread = function (thread) {
      _store2.default.dispatch((0, _threads.patch)(thread, thread, _this.getSorting()));
    };

    _this.deleteThread = function (thread) {
      _store2.default.dispatch((0, _threads.deleteThread)(thread));
    };

    _this.state = {
      isMounted: true,

      isLoaded: false,
      isBusy: false,

      diff: {
        results: []
      },

      moderation: [],
      busyThreads: [],

      dropdown: false,
      subcategories: [],

      count: 0,
      more: 0,

      page: 1,
      pages: 1
    };

    var category = _this.getCategory();

    if (_index2.default.has('THREADS')) {
      _this.initWithPreloadedData(category, _index2.default.get('THREADS'));
    } else {
      _this.initWithoutPreloadedData(category);
    }
    return _this;
  }

  _createClass(_class, [{
    key: 'getCategory',
    value: function getCategory() {
      if (!this.props.route.category.special_role) {
        return this.props.route.category.id;
      } else {
        return null;
      }
    }
  }, {
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(category, data) {
      this.state = Object.assign(this.state, {
        moderation: (0, _utils.getModerationActions)(data.results),

        subcategories: data.subcategories,

        count: data.count,
        more: data.more,

        page: data.page,
        pages: data.pages
      });

      this.startPolling(category);
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData(category) {
      this.loadThreads(category);
    }
  }, {
    key: 'loadThreads',
    value: function loadThreads(category) {
      var _this2 = this;

      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

      _ajax2.default.get(this.props.options.api, {
        category: category,
        list: this.props.route.list.type,
        page: page || 1
      }, 'threads').then(function (data) {
        if (!_this2.state.isMounted) {
          // user changed route before loading completion
          return;
        }

        if (page === 1) {
          _store2.default.dispatch((0, _threads.hydrate)(data.results));
        } else {
          _store2.default.dispatch((0, _threads.append)(data.results, _this2.getSorting()));
        }

        _this2.setState({
          isLoaded: true,
          isBusy: false,

          moderation: (0, _utils.getModerationActions)(_store2.default.getState().threads),

          subcategories: data.subcategories,

          count: data.count,
          more: data.more,

          page: data.page,
          pages: data.pages
        });

        _this2.startPolling(category);
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }
  }, {
    key: 'startPolling',
    value: function startPolling(category) {
      _polls2.default.start({
        poll: 'threads',
        url: this.props.options.api,
        data: {
          category: category,
          list: this.props.route.list.type
        },
        frequency: 120 * 1000,
        update: this.pollResponse
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setPageTitle();

      if (_index2.default.has('THREADS')) {
        // unlike in other components, routes are root components for threads
        // so we can't dispatch store action from constructor
        _store2.default.dispatch((0, _threads.hydrate)(_index2.default.pop('THREADS').results));

        this.setState({
          isLoaded: true
        });
      }

      _store2.default.dispatch(select.none());
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.state.isMounted = false;
      _polls2.default.stop('threads');
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      if (this.props.options.title) {
        return this.props.options.title;
      }

      return (0, _utils.getTitle)(this.props.route);
    }
  }, {
    key: 'setPageTitle',
    value: function setPageTitle() {
      if (this.props.route.category.level || !_index2.default.get('THREADS_ON_INDEX')) {
        _pageTitle2.default.set((0, _utils.getPageTitle)(this.props.route));
      } else if (this.props.options.title) {
        _pageTitle2.default.set(this.props.options.title);
      } else {
        if (_index2.default.get('SETTINGS').forum_index_title) {
          document.title = _index2.default.get('SETTINGS').forum_index_title;
        } else {
          document.title = _index2.default.get('SETTINGS').forum_name;
        }
      }
    }
  }, {
    key: 'getSorting',
    value: function getSorting() {
      if (this.props.route.category.level) {
        return _compare.compareWeight;
      } else {
        return _compare.compareGlobalWeight;
      }
    }

    /* jshint ignore:start */

    // AJAX

    // Thread state utils

  }, {
    key: 'getCompactNav',

    /* jshint ignore:end */

    value: function getCompactNav() {
      if (this.props.route.lists.length > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { baseUrl: this.props.route.category.absolute_url,
            list: this.props.route.list,
            lists: this.props.route.lists,
            hideNav: this.hideNav })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getMoreButton',
    value: function getMoreButton() {
      if (this.state.more) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'pager-more' },
          _react2.default.createElement(
            _button2.default,
            { loading: this.state.isBusy || this.state.busyThreads.length,
              onClick: this.loadMore },
            gettext("Show more")
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'page page-threads';
      className += ' page-threads-' + this.props.route.list;
      if (this.props.route.category.css_class) {
        className += ' page-' + this.props.route.category.css_class;
      }
      return className;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(_header2.default, {
          categories: this.props.route.categoriesMap,
          disabled: !this.state.isLoaded,
          startThread: this.props.options.startThread,
          threads: this.props.threads,
          title: this.getTitle(),
          toggleNav: this.toggleNav,
          route: this.props.route,
          user: this.props.user
        }),
        this.getCompactNav(),
        _react2.default.createElement(
          _container2.default,
          {
            route: this.props.route,
            subcategories: this.state.subcategories,
            user: this.props.user,

            pageLead: this.props.options.pageLead,

            threads: this.props.threads,
            threadsCount: this.state.count,

            moderation: this.state.moderation,
            selection: this.props.selection,

            busyThreads: this.state.busyThreads,
            addThreads: this.addThreads,
            freezeThread: this.freezeThread,
            deleteThread: this.deleteThread,
            updateThread: this.updateThread,

            isLoaded: this.state.isLoaded,
            isBusy: this.state.isBusy
          },
          _react2.default.createElement(
            _root2.default,
            {
              categories: this.props.route.categoriesMap,
              list: this.props.route.list,
              selection: this.props.selection,
              threads: this.props.threads,

              diffSize: this.state.diff.results.length,
              applyDiff: this.applyDiff,

              showOptions: !!this.props.user.id,

              isLoaded: this.state.isLoaded,
              busyThreads: this.state.busyThreads
            },
            _react2.default.createElement(_listEmpty2.default, {
              category: this.props.route.category,
              emptyMessage: this.props.options.emptyMessage,
              list: this.props.route.list
            })
          ),
          this.getMoreButton()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;

},{"../../index":234,"../../reducers/selection":286,"../../reducers/threads":289,"../../services/ajax":293,"../../services/page-title":301,"../../services/polls":302,"../../services/snackbar":304,"../../services/store":305,"../../utils/sets":319,"../button":5,"../threads-list/root":179,"../with-dropdown":232,"./compare":193,"./container":194,"./header":195,"./list-empty":196,"./navs":202,"./utils":206,"react":"react"}],205:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _categoryPicker = require('./category-picker');

var _categoryPicker2 = _interopRequireDefault(_categoryPicker);

var _controls = require('./moderation/controls');

var _controls2 = _interopRequireDefault(_controls);

var _selection = require('./moderation/selection');

var _selection2 = _interopRequireDefault(_selection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getCategoryPicker',
    value: function getCategoryPicker() {
      if (this.props.subcategories.length) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-left' },
          _react2.default.createElement(_categoryPicker2.default, { choices: this.props.subcategories,
            categories: this.props.categoriesMap,
            list: this.props.list })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'showModerationOptions',
    value: function showModerationOptions() {
      return this.props.user.id && this.props.moderation.allow;
    }
  }, {
    key: 'getSelectionButton',
    value: function getSelectionButton() {
      if (this.showModerationOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-right dropdown' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default btn-icon dropdown-toggle',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false',
              disabled: this.props.disabled },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'select_all'
            )
          ),
          _react2.default.createElement(_selection2.default, { className: 'dropdown-menu dropdown-menu-right',
            threads: this.props.threads })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getSelectedThreads',
    value: function getSelectedThreads() {
      var _this2 = this;

      return this.props.threads.filter(function (thread) {
        return _this2.props.selection.indexOf(thread.id) >= 0;
      });
    }
  }, {
    key: 'getModerationButton',
    value: function getModerationButton() {
      if (this.showModerationOptions()) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'toolbar-right dropdown' },
          _react2.default.createElement(
            'button',
            { type: 'button',
              className: 'btn btn-default dropdown-toggle',
              'data-toggle': 'dropdown',
              'aria-haspopup': 'true',
              'aria-expanded': 'false',
              disabled: this.props.disabled || !this.props.selection.length },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'settings'
            ),
            gettext("Options")
          ),
          _react2.default.createElement(_controls2.default, {
            addThreads: this.props.addThreads,
            categories: this.props.categories,
            categoriesMap: this.props.categoriesMap,
            className: 'dropdown-menu dropdown-menu-right',
            deleteThread: this.props.deleteThread,
            freezeThread: this.props.freezeThread,
            moderation: this.props.moderation,
            route: this.props.route,
            threads: this.getSelectedThreads(),
            updateThread: this.props.updateThread,
            user: this.props.user
          })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'toolbar with-js' },
        this.getCategoryPicker(),
        this.getSelectionButton(),
        this.getModerationButton()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./category-picker":192,"./moderation/controls":197,"./moderation/selection":201,"react":"react"}],206:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getPageTitle = getPageTitle;
exports.getTitle = getTitle;
exports.isThreadChanged = isThreadChanged;
exports.diffThreads = diffThreads;
exports.getModerationActions = getModerationActions;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getPageTitle(route) {
  if (route.category.level) {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: route.category.name
      };
    } else {
      return {
        title: route.category.name
      };
    }
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (route.list.path) {
      return {
        title: route.list.longName
      };
    } else {
      return null;
    }
  } else {
    if (route.list.path) {
      return {
        title: route.list.longName,
        parent: gettext("Threads")
      };
    } else {
      return {
        title: gettext("Threads")
      };
    }
  }
}

function getTitle(route) {
  if (route.category.level) {
    return route.category.name;
  } else if (_index2.default.get('THREADS_ON_INDEX')) {
    if (_index2.default.get('SETTINGS').forum_index_title) {
      return _index2.default.get('SETTINGS').forum_index_title;
    } else {
      return _index2.default.get('SETTINGS').forum_name;
    }
  } else {
    return gettext("Threads");
  }
}

function isThreadChanged(current, fromDb) {
  return [current.title === fromDb.title, current.weight === fromDb.weight, current.category === fromDb.category, current.top_category === fromDb.top_category, current.last_post === fromDb.last_post, current.last_poster_name === fromDb.last_poster_name].indexOf(false) >= 0;
}

function diffThreads(current, fromDb) {
  var currentMap = {};
  current.forEach(function (thread) {
    currentMap[thread.id] = thread;
  });

  return fromDb.filter(function (thread) {
    if (currentMap[thread.id]) {
      return isThreadChanged(currentMap[thread.id], thread);
    } else {
      return true;
    }
  });
}

function getModerationActions(threads) {
  var moderation = {
    allow: false,

    can_approve: 0,
    can_close: 0,
    can_hide: 0,
    can_merge: 0,
    can_move: 0,
    can_pin: 0
  };

  threads.forEach(function (thread) {
    if (thread.is_unapproved && thread.acl.can_approve > moderation.can_approve) {
      moderation.can_approve = thread.acl.can_approve;
    }

    if (thread.acl.can_close > moderation.can_close) {
      moderation.can_close = thread.acl.can_close;
    }

    if (thread.acl.can_hide > moderation.can_hide) {
      moderation.can_hide = thread.acl.can_hide;
    }

    if (thread.acl.can_merge > moderation.can_merge) {
      moderation.can_merge = thread.acl.can_merge;
    }

    if (thread.acl.can_move > moderation.can_move) {
      moderation.can_move = thread.acl.can_move;
    }

    if (thread.acl.can_pin > moderation.can_pin) {
      moderation.can_pin = thread.acl.can_pin;
    }

    moderation.allow = moderation.can_approve || moderation.can_close || moderation.can_hide || moderation.can_merge || moderation.can_move || moderation.can_pin;
  });

  return moderation;
}

},{"../../index":234}],207:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactGuestNav = exports.GuestNav = exports.GuestMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _registerButton = require('../register-button');

var _registerButton2 = _interopRequireDefault(_registerButton);

var _signIn = require('../sign-in.js');

var _signIn2 = _interopRequireDefault(_signIn);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


var GuestMenu = exports.GuestMenu = function (_React$Component) {
  _inherits(GuestMenu, _React$Component);

  function GuestMenu() {
    _classCallCheck(this, GuestMenu);

    return _possibleConstructorReturn(this, (GuestMenu.__proto__ || Object.getPrototypeOf(GuestMenu)).apply(this, arguments));
  }

  _createClass(GuestMenu, [{
    key: 'showSignInModal',
    value: function showSignInModal() {
      _modal2.default.show(_signIn2.default);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu' },
        _react2.default.createElement(
          'li',
          { className: 'guest-preview' },
          _react2.default.createElement(
            'h4',
            null,
            gettext("You are browsing as guest.")
          ),
          _react2.default.createElement(
            'p',
            null,
            gettext('Sign in or register to start and participate in discussions.')
          ),
          _react2.default.createElement(
            'div',
            { className: 'row' },
            _react2.default.createElement(
              'div',
              { className: 'col-xs-12' },
              _react2.default.createElement(
                'button',
                { type: 'button', className: 'btn btn-default btn-block',
                  onClick: this.showSignInModal },
                gettext("Sign in")
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestMenu;
}(_react2.default.Component);

var GuestNav = exports.GuestNav = function (_GuestMenu) {
  _inherits(GuestNav, _GuestMenu);

  function GuestNav() {
    _classCallCheck(this, GuestNav);

    return _possibleConstructorReturn(this, (GuestNav.__proto__ || Object.getPrototypeOf(GuestNav)).apply(this, arguments));
  }

  _createClass(GuestNav, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'nav nav-guest' },
        _react2.default.createElement(
          'button',
          { type: 'button', className: 'btn navbar-btn btn-default',
            onClick: this.showSignInModal },
          gettext("Sign in")
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return GuestNav;
}(GuestMenu);

var CompactGuestNav = exports.CompactGuestNav = function (_React$Component2) {
  _inherits(CompactGuestNav, _React$Component2);

  function CompactGuestNav() {
    _classCallCheck(this, CompactGuestNav);

    return _possibleConstructorReturn(this, (CompactGuestNav.__proto__ || Object.getPrototypeOf(CompactGuestNav)).apply(this, arguments));
  }

  _createClass(CompactGuestNav, [{
    key: 'showGuestMenu',
    value: function showGuestMenu() {
      _mobileNavbarDropdown2.default.show(GuestMenu);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showGuestMenu },
        _react2.default.createElement(_avatar2.default, { size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactGuestNav;
}(_react2.default.Component);

},{"../../services/mobile-navbar-dropdown":298,"../../services/modal":299,"../avatar":3,"../register-button":140,"../sign-in.js":153,"react":"react"}],208:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserMenu = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _guestNav = require('./guest-nav');

var _userNav = require('./user-nav');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.UserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.GuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

var CompactUserMenu = exports.CompactUserMenu = function (_React$Component2) {
  _inherits(CompactUserMenu, _React$Component2);

  function CompactUserMenu() {
    _classCallCheck(this, CompactUserMenu);

    return _possibleConstructorReturn(this, (CompactUserMenu.__proto__ || Object.getPrototypeOf(CompactUserMenu)).apply(this, arguments));
  }

  _createClass(CompactUserMenu, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      if (this.props.isAuthenticated) {
        return _react2.default.createElement(_userNav.CompactUserNav, { user: this.props.user });
      } else {
        return _react2.default.createElement(_guestNav.CompactGuestNav, null);
      }
      /* jshint ignore:end */
    }
  }]);

  return CompactUserMenu;
}(_react2.default.Component);

function select(state) {
  return state.auth;
}

},{"./guest-nav":207,"./user-nav":209,"react":"react"}],209:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactUserNav = exports.UserMenu = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.PrivateThreadsBadge = PrivateThreadsBadge;
exports.UserNav = UserNav;
exports.UserPrivateThreadsLink = UserPrivateThreadsLink;
exports.selectUserMenu = selectUserMenu;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _root = require('../change-avatar/root');

var _root2 = _interopRequireDefault(_root);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _mobileNavbarDropdown = require('../../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

var _modal = require('../../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var UserMenu = exports.UserMenu = function (_React$Component) {
  _inherits(UserMenu, _React$Component);

  function UserMenu() {
    _classCallCheck(this, UserMenu);

    return _possibleConstructorReturn(this, (UserMenu.__proto__ || Object.getPrototypeOf(UserMenu)).apply(this, arguments));
  }

  _createClass(UserMenu, [{
    key: 'logout',
    value: function logout() {
      var decision = confirm(gettext("Are you sure you want to sign out?"));
      if (decision) {
        $('#hidden-logout-form').submit();
      }
    }
  }, {
    key: 'changeAvatar',
    value: function changeAvatar() {
      _modal2.default.show((0, _reactRedux.connect)(_root.select)(_root2.default));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'ul',
        {
          className: 'dropdown-menu user-dropdown dropdown-menu-right',
          role: 'menu'
        },
        _react2.default.createElement(
          'li',
          { className: 'dropdown-header' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.username
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          { className: 'is-staff' },
          _react2.default.createElement(
            'a',
            { href: '/admincp', target: '_blank' },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'stars'
            ),
            '\u7BA1\u7406\u4ECB\u9762'
          )
        ),
        _react2.default.createElement('li', { className: 'divider is-staff' }),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'account_circle'
            ),
            gettext("See your profile")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _2.default.get('USERCP_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'done_all'
            ),
            gettext("Change options")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'button',
            {
              className: 'btn-link',
              onClick: this.changeAvatar,
              type: 'button'
            },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'portrait'
            ),
            gettext("Change avatar")
          )
        ),
        _react2.default.createElement(
          'li',
          null,
          _react2.default.createElement(
            'a',
            { href: _2.default.get('PRIVATE_THREADS_URL') },
            _react2.default.createElement(
              'span',
              { className: 'material-icon' },
              'message'
            ),
            gettext("Private threads"),
            _react2.default.createElement(PrivateThreadsBadge, { user: this.props.user })
          )
        ),
        _react2.default.createElement('li', { className: 'divider' }),
        _react2.default.createElement(
          'li',
          { className: 'dropdown-buttons' },
          _react2.default.createElement(
            'button',
            {
              className: 'btn btn-default btn-block',
              onClick: this.logout,
              type: 'button'
            },
            gettext("Log out")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return UserMenu;
}(_react2.default.Component);

function PrivateThreadsBadge(props) {
  if (!props.user.unread_private_threads) return null;

  /* jshint ignore:start */
  return _react2.default.createElement(
    'span',
    { className: 'badge' },
    props.user.unread_private_threads
  );
  /* jshint ignore:end */
}

/* jshint ignore:start */
function UserNav(props) {
  return _react2.default.createElement(
    'ul',
    { className: 'ul nav navbar-nav nav-user' },
    _react2.default.createElement(UserPrivateThreadsLink, { user: props.user }),
    _react2.default.createElement(
      'li',
      { className: 'dropdown' },
      _react2.default.createElement(
        'a',
        {
          'aria-haspopup': 'true',
          'aria-expanded': 'false',
          className: 'dropdown-toggle',
          'data-toggle': 'dropdown',
          href: props.user.absolute_url,
          role: 'button'
        },
        _react2.default.createElement(_avatar2.default, { user: props.user, size: '64' })
      ),
      _react2.default.createElement(UserMenu, { user: props.user })
    )
  );
}
/* jshint ignore:end */

function UserPrivateThreadsLink(props) {
  if (!props.user.unread_private_threads) return null;

  /* jshint ignore:start */
  return _react2.default.createElement(
    'li',
    null,
    _react2.default.createElement(
      'a',
      {
        className: 'navbar-notification',
        href: _2.default.get('PRIVATE_THREADS_URL'),
        title: gettext("You have unread private threads.") },
      _react2.default.createElement(
        'span',
        { className: 'material-icon' },
        'message'
      ),
      _react2.default.createElement(
        'span',
        { className: 'badge' },
        props.user.unread_private_threads
      )
    )
  );
  /* jshint ignore:end */
}

function selectUserMenu(state) {
  return { user: state.auth.user };
}

var CompactUserNav = exports.CompactUserNav = function (_React$Component2) {
  _inherits(CompactUserNav, _React$Component2);

  function CompactUserNav() {
    _classCallCheck(this, CompactUserNav);

    return _possibleConstructorReturn(this, (CompactUserNav.__proto__ || Object.getPrototypeOf(CompactUserNav)).apply(this, arguments));
  }

  _createClass(CompactUserNav, [{
    key: 'showUserMenu',
    value: function showUserMenu() {
      _mobileNavbarDropdown2.default.showConnected('user-menu', (0, _reactRedux.connect)(selectUserMenu)(UserMenu));
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'button',
        { type: 'button', onClick: this.showUserMenu },
        _react2.default.createElement(_avatar2.default, { user: this.props.user, size: '64' })
      );
      /* jshint ignore:end */
    }
  }]);

  return CompactUserNav;
}(_react2.default.Component);

},{"../..":234,"../../services/mobile-navbar-dropdown":298,"../../services/modal":299,"../avatar":3,"../change-avatar/root":17,"react":"react","react-redux":"react-redux"}],210:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StatusLabel = exports.StatusIcon = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.getStatusClassName = getStatusClassName;
exports.getStatusDescription = getStatusDescription;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClass',
    value: function getClass() {
      return getStatusClassName(this.props.status);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.getClass() },
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

var StatusIcon = exports.StatusIcon = function (_React$Component2) {
  _inherits(StatusIcon, _React$Component2);

  function StatusIcon() {
    _classCallCheck(this, StatusIcon);

    return _possibleConstructorReturn(this, (StatusIcon.__proto__ || Object.getPrototypeOf(StatusIcon)).apply(this, arguments));
  }

  _createClass(StatusIcon, [{
    key: 'getIcon',
    value: function getIcon() {
      if (this.props.status.is_banned) {
        return 'remove_circle_outline';
      } else if (this.props.status.is_hidden) {
        return 'help_outline';
      } else if (this.props.status.is_online_hidden) {
        return 'label';
      } else if (this.props.status.is_offline_hidden) {
        return 'label_outline';
      } else if (this.props.status.is_online) {
        return 'lens';
      } else if (this.props.status.is_offline) {
        return 'panorama_fish_eye';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: 'material-icon status-icon' },
        this.getIcon()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusIcon;
}(_react2.default.Component);

var StatusLabel = exports.StatusLabel = function (_React$Component3) {
  _inherits(StatusLabel, _React$Component3);

  function StatusLabel() {
    _classCallCheck(this, StatusLabel);

    return _possibleConstructorReturn(this, (StatusLabel.__proto__ || Object.getPrototypeOf(StatusLabel)).apply(this, arguments));
  }

  _createClass(StatusLabel, [{
    key: 'getHelp',
    value: function getHelp() {
      return getStatusDescription(this.props.user, this.props.status);
    }
  }, {
    key: 'getLabel',
    value: function getLabel() {
      if (this.props.status.is_banned) {
        return gettext("Banned");
      } else if (this.props.status.is_hidden) {
        return gettext("Hidden");
      } else if (this.props.status.is_online_hidden) {
        return gettext("Online (hidden)");
      } else if (this.props.status.is_offline_hidden) {
        return gettext("Offline (hidden)");
      } else if (this.props.status.is_online) {
        return gettext("Online");
      } else if (this.props.status.is_offline) {
        return gettext("Offline");
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'span',
        { className: this.props.className || "status-label",
          title: this.getHelp() },
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return StatusLabel;
}(_react2.default.Component);

function getStatusClassName(status) {
  var className = '';
  if (status.is_banned) {
    className = 'banned';
  } else if (status.is_hidden) {
    className = 'offline';
  } else if (status.is_online_hidden) {
    className = 'online';
  } else if (status.is_offline_hidden) {
    className = 'offline';
  } else if (status.is_online) {
    className = 'online';
  } else if (status.is_offline) {
    className = 'offline';
  }

  return 'user-status user-' + className;
}

function getStatusDescription(user, status) {
  if (status.is_banned) {
    if (status.banned_until) {
      return interpolate(gettext("%(username)s is banned until %(ban_expires)s"), {
        username: user.username,
        ban_expires: status.banned_until.format('LL, LT')
      }, true);
    } else {
      return interpolate(gettext("%(username)s is banned"), {
        username: user.username
      }, true);
    }
  } else if (status.is_hidden) {
    return interpolate(gettext("%(username)s is hiding presence"), {
      username: user.username
    }, true);
  } else if (status.is_online_hidden) {
    return interpolate(gettext("%(username)s is online (hidden)"), {
      username: user.username
    }, true);
  } else if (status.is_offline_hidden) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s (hidden)"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  } else if (status.is_online) {
    return interpolate(gettext("%(username)s is online"), {
      username: user.username
    }, true);
  } else if (status.is_offline) {
    return interpolate(gettext("%(username)s was last seen %(last_click)s"), {
      username: user.username,
      last_click: status.last_click.fromNow()
    }, true);
  }
}

},{"react":"react"}],211:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          _react2.default.createElement(
            'span',
            { className: 'user-avatar' },
            _react2.default.createElement(_avatar2.default, { size: '100' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 100) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(30, 70) + "px" } },
            '\xA0'
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'span',
            { className: 'ui-preview-text', style: { width: random.int(80, 140) + "px" } },
            '\xA0'
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":316,"../avatar":3,"react":"react"}],212:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'renderUserAvatar',
    value: function renderUserAvatar() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { user: this.props.change.changed_by, size: '100' })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-avatar-wrapper' },
          _react2.default.createElement(_avatar2.default, { size: '100' })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'renderUsername',
    value: function renderUsername() {
      if (this.props.change.changed_by) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'a',
          { href: this.props.change.changed_by.absolute_url, className: 'item-title' },
          this.props.change.changed_by.username
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'item-title' },
          this.props.change.changed_by_username
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: 'list-group-item', key: this.props.change.id },
        _react2.default.createElement(
          'div',
          { className: 'change-avatar' },
          this.renderUserAvatar()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-author' },
          this.renderUsername()
        ),
        _react2.default.createElement(
          'div',
          { className: 'change' },
          _react2.default.createElement(
            'span',
            { className: 'old-username' },
            this.props.change.old_username
          ),
          _react2.default.createElement(
            'span',
            { className: 'material-icon' },
            'arrow_forward'
          ),
          _react2.default.createElement(
            'span',
            { className: 'new-username' },
            this.props.change.new_username
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'change-date' },
          _react2.default.createElement(
            'abbr',
            { title: this.props.change.changed_on.format('LLL') },
            this.props.change.changed_on.fromNow()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../avatar":3,"react":"react"}],213:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: "getEmptyMessage",
    value: function getEmptyMessage() {
      if (this.props.emptyMessage) {
        return this.props.emptyMessage;
      } else {
        return gettext("No name changes have been recorded for your account.");
      }
    }
  }, {
    key: "render",
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "div",
        { className: "username-history ui-ready" },
        _react2.default.createElement(
          "ul",
          { className: "list-group" },
          _react2.default.createElement(
            "li",
            { className: "list-group-item empty-message" },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],214:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _changePreview = require('./change-preview');

var _changePreview2 = _interopRequireDefault(_changePreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-preview' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          [0, 1, 2].map(function (i) {
            return _react2.default.createElement(_changePreview2.default, { hiddenOnMobile: i > 0, key: i });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change-preview":211,"react":"react"}],215:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _change = require('./change');

var _change2 = _interopRequireDefault(_change);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'username-history ui-ready' },
        _react2.default.createElement(
          'ul',
          { className: 'list-group' },
          this.props.changes.map(function (change) {
            return _react2.default.createElement(_change2.default, { change: change, key: change.id });
          })
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./change":212,"react":"react"}],216:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      if (this.props.isLoaded) {
        if (this.props.changes.length) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { changes: this.props.changes });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { emptyMessage: this.props.emptyMessage });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-empty":213,"./list-preview":214,"./list-ready":215,"react":"react"}],217:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _userCard = require('./user-card');

var _userCard2 = _interopRequireDefault(_userCard);

var _userPreview = require('./user-preview');

var _userPreview2 = _interopRequireDefault(_userPreview);

var _batch = require('../../utils/batch');

var _batch2 = _interopRequireDefault(_batch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.isLoaded;
    }
  }, {
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(Pager, this.props);
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.className) {
        return "users-cards-list " + this.props.className + " ui-ready";
      } else {
        return "users-cards-list ui-ready";
      }
    }
  }, {
    key: 'getColClassName',
    value: function getColClassName() {
      return "col-md-" + 12 / this.props.cols;
    }
  }, {
    key: 'getBody',
    value: function getBody() {
      var _this2 = this;

      if (this.props.isLoaded) {
        /* jshint ignore:start */
        return (0, _batch2.default)(this.props.users, this.props.cols).map(function (row, r) {
          return _react2.default.createElement(
            'div',
            { className: 'row', key: r },
            row.map(function (user) {
              return _react2.default.createElement(
                'div',
                { className: _this2.getColClassName(), key: user.id },
                _react2.default.createElement(_userCard2.default, { user: user,
                  showStatus: _this2.props.showStatus,
                  showRank: _this2.props.showRank })
              );
            })
          );
        });
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        var row = [];
        for (var i = 0; i < this.props.cols; i++) {
          if (i === 0) {
            row.push(this.getColClassName());
          } else {
            row.push(this.getColClassName() + ' hidden-xs hidden-sm');
          }
        }

        return _react2.default.createElement(
          'div',
          { className: 'row' },
          row.map(function (className, i) {
            return _react2.default.createElement(
              'div',
              { className: className, key: i },
              _react2.default.createElement(_userPreview2.default, { showStatus: _this2.props.showStatus })
            );
          })
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'users-cards-list ui-ready' },
        this.getBody()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/batch":308,"./user-card":218,"./user-preview":219,"react":"react"}],218:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        if (this.props.user.status) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            _userStatus2.default,
            { user: this.props.user, status: this.props.user.status },
            _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
              status: this.props.user.status }),
            _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
              status: this.props.user.status,
              className: 'status-label' })
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'user-status' },
            _react2.default.createElement(
              'span',
              { className: 'status-icon ui-preview-text' },
              '\xA0'
            ),
            _react2.default.createElement(
              'span',
              { className: 'status-label ui-preview-text',
                style: { width: random.int(30, 50) + "px" } },
              '\xA0'
            )
          );
          /* jshint ignore:end */
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.showRank) {
        if (this.props.user.rank.is_tab) {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'a',
            { href: this.props.user.rank.absolute_url,
              className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'span',
            { className: 'item-title rank-name' },
            this.props.user.rank.name
          );
          /* jshint ignore:end */
        }
      } else {
        return null;
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getUserJoinedOn',
    value: function getUserJoinedOn() {
      /* jshint ignore:start */
      var title = interpolate(gettext("Joined on %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.format('LL, LT')
      }, true);

      var age = interpolate(gettext("Joined %(joined_on)s"), {
        'joined_on': this.props.user.joined_on.fromNow()
      }, true);

      return _react2.default.createElement(
        'span',
        { className: 'user-joined-on', title: title },
        age
      );
      /* jshint ignore:end */
    }
  }, {
    key: 'getPostsCount',
    value: function getPostsCount() {
      var message = ngettext("%(posts)s post", "%(posts)s posts", this.props.user.posts);

      return interpolate(message, {
        'posts': this.props.user.posts
      }, true);
    }
  }, {
    key: 'getThreadsCount',
    value: function getThreadsCount() {
      var message = ngettext("%(threads)s thread", "%(threads)s threads", this.props.user.threads);

      return interpolate(message, {
        'threads': this.props.user.threads
      }, true);
    }
  }, {
    key: 'getFollowersCount',
    value: function getFollowersCount() {
      var message = ngettext("%(followers)s follower", "%(followers)s followers", this.props.user.followers);

      return interpolate(message, {
        'followers': this.props.user.followers
      }, true);
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.user.rank.css_class) {
        return 'user-card user-card-' + this.props.user.rank.css_class + ' ui-ready';
      } else {
        return 'user-card ui-ready';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url },
                  _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 60, size2x: 100 })
                )
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'a',
                  { href: this.props.user.absolute_url, className: 'item-title' },
                  this.props.user.username
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                this.getRankName(),
                this.getUserTitle(),
                this.getUserJoinedOn()
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  this.getPostsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  this.getThreadsCount()
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  this.getFollowersCount()
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":316,"../avatar":3,"../user-status":210,"react":"react"}],219:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.showStatus) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-status' },
          _react2.default.createElement(
            'span',
            { className: 'status-icon ui-preview-text' },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'status-label ui-preview-text',
              style: { width: random.int(30, 50) + "px" } },
            '\xA0'
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'user-card ui-preview' },
        _react2.default.createElement(
          'div',
          { className: 'user-card-bg-image' },
          _react2.default.createElement(_avatar2.default, { size: '400', className: 'bg-image' }),
          _react2.default.createElement(
            'div',
            { className: 'user-card-bg' },
            _react2.default.createElement(
              'div',
              { className: 'user-details' },
              _react2.default.createElement(
                'div',
                { className: 'user-avatar' },
                _react2.default.createElement(_avatar2.default, { size: '400' })
              ),
              _react2.default.createElement(
                'h4',
                { className: 'user-name' },
                _react2.default.createElement(
                  'span',
                  { className: 'item-title' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(60, 150) + "px" } },
                    '\xA0'
                  )
                )
              ),
              _react2.default.createElement(
                'p',
                { className: 'user-subscript' },
                this.getUserStatus(),
                _react2.default.createElement(
                  'span',
                  { className: 'user-joined-on' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(30, 50) + "px" } },
                    '\xA0'
                  )
                )
              )
            ),
            _react2.default.createElement(
              'div',
              { className: 'user-card-stats' },
              _react2.default.createElement(
                'ul',
                { className: 'list-unstyled' },
                _react2.default.createElement(
                  'li',
                  { className: 'user-posts-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-threads-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                ),
                _react2.default.createElement(
                  'li',
                  { className: 'user-followers-count' },
                  _react2.default.createElement(
                    'span',
                    { className: 'ui-preview-text',
                      style: { width: random.int(40, 70) + "px" } },
                    '\xA0'
                  )
                )
              )
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../utils/random":316,"../avatar":3,"react":"react"}],220:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getEmptyMessage',
    value: function getEmptyMessage() {
      return interpolate(gettext("No users have posted any new messages during last %(days)s days."), { 'days': this.props.trackedPeriod }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getEmptyMessage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],221:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.hiddenOnMobile) {
        return 'list-group-item hidden-xs hidden-sm';
      } else {
        return 'list-group-item';
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'span',
            null,
            _react2.default.createElement(_avatar2.default, { size: '50' })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'span',
              { className: 'item-title' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 80) + "px" } },
                '\xA0'
              )
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            _react2.default.createElement(
              'span',
              { className: 'user-status' },
              _react2.default.createElement(
                'span',
                { className: 'status-icon ui-preview-text' },
                '\xA0'
              ),
              _react2.default.createElement(
                'span',
                { className: 'status-label ui-preview-text hidden-xs hidden-sm',
                  style: { width: random.int(30, 50) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'rank-name' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                '\xA0'
              )
            ),
            _react2.default.createElement(
              'span',
              { className: 'user-title hidden-xs hidden-sm' },
              _react2.default.createElement(
                'span',
                { className: 'ui-preview-text',
                  style: { width: random.int(30, 50) + "px" } },
                '\xA0'
              )
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total' },
          _react2.default.createElement(
            'strong',
            null,
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(20, 30) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":316,"../../avatar":3,"react":"react"}],222:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _avatar = require('../../avatar');

var _avatar2 = _interopRequireDefault(_avatar);

var _userStatus = require('../../user-status');

var _userStatus2 = _interopRequireDefault(_userStatus);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.rank.css_class) {
        return "list-group-item list-group-rank-" + this.props.rank.css_class;
      } else {
        return "list-group-item";
      }
    }
  }, {
    key: 'getUserStatus',
    value: function getUserStatus() {
      if (this.props.user.status) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          _userStatus2.default,
          { user: this.props.user, status: this.props.user.status },
          _react2.default.createElement(_userStatus.StatusIcon, { user: this.props.user,
            status: this.props.user.status }),
          _react2.default.createElement(_userStatus.StatusLabel, { user: this.props.user,
            status: this.props.user.status,
            className: 'status-label hidden-xs hidden-sm' })
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-status' },
          _react2.default.createElement(
            'span',
            { className: 'status-icon ui-preview-text' },
            '\xA0'
          ),
          _react2.default.createElement(
            'span',
            { className: 'status-label ui-preview-text hidden-xs hidden-sm',
              style: { width: random.int(30, 50) + "px" } },
            '\xA0'
          )
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getRankName',
    value: function getRankName() {
      if (this.props.rank.is_tab) {
        /* jshint ignore:start */
        var rankUrl = _index2.default.get('USERS_LIST_URL') + this.props.rank.slug + '/';
        return _react2.default.createElement(
          _reactRouter.Link,
          { to: rankUrl, className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'rank-name item-title' },
          this.props.rank.name
        );
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'getUserTitle',
    value: function getUserTitle() {
      if (this.props.user.title) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'span',
          { className: 'user-title hidden-xs hidden-sm' },
          this.props.user.title
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'li',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'rank-user-avatar' },
          _react2.default.createElement(
            'a',
            { href: this.props.user.absolute_url },
            _react2.default.createElement(_avatar2.default, { user: this.props.user, size: 50, size2x: 64 })
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-user' },
          _react2.default.createElement(
            'div',
            { className: 'user-name' },
            _react2.default.createElement(
              'a',
              { href: this.props.user.absolute_url, className: 'item-title' },
              this.props.user.username
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'user-details' },
            this.getUserStatus(),
            this.getRankName(),
            this.getUserTitle()
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-position' },
          _react2.default.createElement(
            'strong',
            null,
            '#',
            this.props.counter
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Rank")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-counted' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.meta.score
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Ranked posts")
          )
        ),
        _react2.default.createElement(
          'div',
          { className: 'rank-posts-total' },
          _react2.default.createElement(
            'strong',
            null,
            this.props.user.posts
          ),
          _react2.default.createElement(
            'small',
            null,
            gettext("Total posts")
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":234,"../../../utils/random":316,"../../avatar":3,"../../user-status":210,"react":"react","react-router":"react-router"}],223:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItemPreview = require('./list-item-preview');

var _listItemPreview2 = _interopRequireDefault(_listItemPreview);

var _random = require('../../../utils/random');

var random = _interopRequireWildcard(_random);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead ui-preview' },
            _react2.default.createElement(
              'span',
              { className: 'ui-preview-text',
                style: { width: random.int(50, 220) + "px" } },
              '\xA0'
            )
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-preview' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              [0, 1, 2].map(function (i) {
                return _react2.default.createElement(_listItemPreview2.default, { hiddenOnMobile: i > 0, key: i });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/random":316,"./list-item-preview":221,"react":"react"}],224:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listItem = require('./list-item');

var _listItem2 = _interopRequireDefault(_listItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getLeadMessage',
    value: function getLeadMessage() {
      var message = ngettext("%(posters)s most active poster from last %(days)s days.", "%(posters)s most active posters from last %(days)s days.", this.props.count);

      return interpolate(message, {
        posters: this.props.count,
        days: this.props.trackedPeriod
      }, true);
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'active-posters-list' },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          _react2.default.createElement(
            'p',
            { className: 'lead' },
            this.getLeadMessage()
          ),
          _react2.default.createElement(
            'div',
            { className: 'active-posters ui-ready' },
            _react2.default.createElement(
              'ul',
              { className: 'list-group' },
              this.props.users.map(function (user, i) {
                return _react2.default.createElement(_listItem2.default, { user: user,
                  rank: user.rank,
                  counter: i + 1,
                  key: user.id });
              })
            )
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"./list-item":222,"react":"react"}],225:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _listEmpty = require('./list-empty');

var _listEmpty2 = _interopRequireDefault(_listEmpty);

var _listPreview = require('./list-preview');

var _listPreview2 = _interopRequireDefault(_listPreview);

var _listReady = require('./list-ready');

var _listReady2 = _interopRequireDefault(_listReady);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      _this.setState({
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      });
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling();
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = {
        isLoaded: true,

        trackedPeriod: data.tracked_period,
        count: data.count
      };

      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling() {
      _polls2.default.start({
        poll: 'active-posters',
        url: _index2.default.get('USERS_API'),
        data: {
          list: 'active'
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.extra.name,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('active-posters');
    }
  }, {
    key: 'render',
    value: function render() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          return _react2.default.createElement(_listReady2.default, { users: this.props.users,
            trackedPeriod: this.state.trackedPeriod,
            count: this.state.count });
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(_listEmpty2.default, { trackedPeriod: this.state.trackedPeriod });
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listPreview2.default, null);
        /* jshint ignore:end */
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":234,"../../../reducers/users":292,"../../../services/page-title":301,"../../../services/polls":302,"../../../services/store":305,"./list-empty":220,"./list-preview":223,"./list-ready":224,"react":"react"}],226:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CompactNav = exports.TabsNav = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _li = require('../li');

var _li2 = _interopRequireDefault(_li);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
//jshint ignore:line


//jshint ignore:line

// jshint ignore:start
var listUrl = function listUrl(baseUrl, list) {
  var url = baseUrl;
  if (list.component === 'rank') {
    url += list.slug;
  } else {
    url += list.component;
  }
  return url + '/';
};

var navLinks = function navLinks(baseUrl, lists, hideNav) {
  return lists.map(function (list) {
    var url = listUrl(baseUrl, list);
    return _react2.default.createElement(
      _li2.default,
      { path: url,
        key: url },
      _react2.default.createElement(
        _reactRouter.Link,
        { to: url, onClick: hideNav },
        list.name
      )
    );
  });
};
// jshint ignore:end

var TabsNav = exports.TabsNav = function (_React$Component) {
  _inherits(TabsNav, _React$Component);

  function TabsNav() {
    _classCallCheck(this, TabsNav);

    return _possibleConstructorReturn(this, (TabsNav.__proto__ || Object.getPrototypeOf(TabsNav)).apply(this, arguments));
  }

  _createClass(TabsNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'nav nav-pills' },
        navLinks(this.props.baseUrl, this.props.lists)
      );
      // jshint ignore:end
    }
  }]);

  return TabsNav;
}(_react2.default.Component);

var CompactNav = exports.CompactNav = function (_React$Component2) {
  _inherits(CompactNav, _React$Component2);

  function CompactNav() {
    _classCallCheck(this, CompactNav);

    return _possibleConstructorReturn(this, (CompactNav.__proto__ || Object.getPrototypeOf(CompactNav)).apply(this, arguments));
  }

  _createClass(CompactNav, [{
    key: 'render',
    value: function render() {
      // jshint ignore:start
      return _react2.default.createElement(
        'ul',
        { className: 'dropdown-menu', role: 'menu' },
        navLinks(this.props.baseUrl, this.props.lists, this.props.hideNav)
      );
      // jshint ignore:end
    }
  }]);

  return CompactNav;
}(_react2.default.Component);

},{"../../index":234,"../li":42,"react":"react","react-router":"react-router"}],227:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { isLoaded: false, cols: 3, showStatus: true })
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":217,"react":"react"}],228:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pager = require('./pager');

var _pager2 = _interopRequireDefault(_pager);

var _root = require('../../users-list/root');

var _root2 = _interopRequireDefault(_root);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPager',
    value: function getPager() {
      if (this.props.pages > 1) {
        /* jshint ignore:start */
        return _react2.default.createElement(_pager2.default, this.props);
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(_root2.default, { users: this.props.users,
          showStatus: true,
          cols: 3,
          isLoaded: true }),
        this.getPager()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../users-list/root":217,"./pager":229,"react":"react"}],229:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRouter = require('react-router');

var _resetScroll = require('../../../utils/reset-scroll');

var _resetScroll2 = _interopRequireDefault(_resetScroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line


// jshint ignore:line

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'getPreviousPage',
    value: function getPreviousPage() {
      if (this.props.previous || this.props.first) {
        /* jshint ignore:start */
        var url = this.props.baseUrl;
        if (this.props.previous) {
          url += this.props.previous + '/';
        }

        return _react2.default.createElement(
          'li',
          { className: 'previous' },
          _react2.default.createElement(
            _reactRouter.Link,
            { to: url, onClick: _resetScroll2.default },
            _react2.default.createElement(
              'span',
              { 'aria-hidden': 'true', className: 'material-icon' },
              'arrow_back'
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getNextPage',
    value: function getNextPage() {
      if (this.props.next) {
        /* jshint ignore:start */
        var url = this.props.baseUrl + this.props.next + '/';
        return _react2.default.createElement(
          'li',
          { className: 'next' },
          _react2.default.createElement(
            _reactRouter.Link,
            { to: url, onClick: _resetScroll2.default },
            _react2.default.createElement(
              'span',
              { 'aria-hidden': 'true', className: 'material-icon' },
              'arrow_forward'
            )
          )
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'pager-undercontent' },
        _react2.default.createElement(
          'nav',
          null,
          _react2.default.createElement(
            'ul',
            { className: 'pager' },
            this.getPreviousPage(),
            this.getNextPage()
          )
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../utils/reset-scroll":317,"react":"react","react-router":"react-router"}],230:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _pageLead = require('../../page-lead');

var _pageLead2 = _interopRequireDefault(_pageLead);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _listLoading = require('./list-loading');

var _listLoading2 = _interopRequireDefault(_listLoading);

var _index = require('../../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../../reducers/users');

var _polls = require('../../../services/polls');

var _polls2 = _interopRequireDefault(_polls);

var _store = require('../../../services/store');

var _store2 = _interopRequireDefault(_store);

var _pageTitle = require('../../../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.update = function (data) {
      _store2.default.dispatch((0, _users.hydrate)(data.results));

      data.isLoaded = true;
      _this.setState(data);
    };

    if (_index2.default.has('USERS')) {
      _this.initWithPreloadedData(_index2.default.pop('USERS'));
    } else {
      _this.initWithoutPreloadedData();
    }

    _this.startPolling(props.params.page || 1);
    return _this;
  }

  _createClass(_class, [{
    key: 'initWithPreloadedData',
    value: function initWithPreloadedData(data) {
      this.state = Object.assign(data, {
        isLoaded: true
      });
      _store2.default.dispatch((0, _users.hydrate)(data.results));
    }
  }, {
    key: 'initWithoutPreloadedData',
    value: function initWithoutPreloadedData() {
      this.state = {
        isLoaded: false
      };
    }
  }, {
    key: 'startPolling',
    value: function startPolling(page) {
      _polls2.default.start({
        poll: 'rank-users',
        url: _index2.default.get('USERS_API'),
        data: {
          rank: this.props.route.rank.id,
          page: page
        },
        frequency: 90 * 1000,
        update: this.update
      });
    }

    /* jshint ignore:start */

  }, {
    key: 'componentDidMount',

    /* jshint ignore:end */

    value: function componentDidMount() {
      _pageTitle2.default.set({
        title: this.props.route.rank.name,
        page: this.props.params.page || null,
        parent: gettext("Users")
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _polls2.default.stop('rank-users');
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.params.page !== nextProps.params.page) {
        _pageTitle2.default.set({
          title: this.props.route.rank.name,
          page: nextProps.params.page || null,
          parent: gettext("Users")
        });

        this.setState({
          isLoaded: false
        });

        _polls2.default.stop('rank-users');
        this.startPolling(nextProps.params.page);
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      if (this.props.route.rank.css_class) {
        return 'rank-users-list rank-users-' + this.props.route.rank.css_class;
      } else {
        return 'rank-users-list';
      }
    }
  }, {
    key: 'getRankDescription',
    value: function getRankDescription() {
      if (this.props.route.rank.description) {
        /* jshint ignore:start */
        return _react2.default.createElement(
          'div',
          { className: 'rank-description' },
          _react2.default.createElement(_pageLead2.default, { copy: this.props.route.rank.description.html })
        );
        /* jshint ignore:end */
      } else {
        return null;
      }
    }
  }, {
    key: 'getComponent',
    value: function getComponent() {
      if (this.state.isLoaded) {
        if (this.state.count > 0) {
          /* jshint ignore:start */
          var baseUrl = _index2.default.get('USERS_LIST_URL') + this.props.route.rank.slug + '/';
          return _react2.default.createElement(_list2.default, _extends({ baseUrl: baseUrl,
            users: this.props.users
          }, this.state));
          /* jshint ignore:end */
        } else {
          /* jshint ignore:start */
          return _react2.default.createElement(
            'p',
            { className: 'lead' },
            gettext("There are no users with this rank at the moment.")
          );
          /* jshint ignore:end */
        }
      } else {
        /* jshint ignore:start */
        return _react2.default.createElement(_listLoading2.default, null);
        /* jshint ignore:end */
      }
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: this.getClassName() },
        _react2.default.createElement(
          'div',
          { className: 'container' },
          this.getRankDescription(),
          this.getComponent()
        )
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"../../../index":234,"../../../reducers/users":292,"../../../services/page-title":301,"../../../services/polls":302,"../../../services/store":305,"../../page-lead":58,"./list":228,"./list-loading":227,"react":"react"}],231:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.select = select;
exports.paths = paths;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _dropdownToggle = require('../dropdown-toggle');

var _dropdownToggle2 = _interopRequireDefault(_dropdownToggle);

var _navs = require('./navs');

var _root = require('./active-posters/root');

var _root2 = _interopRequireDefault(_root);

var _root3 = require('./rank/root');

var _root4 = _interopRequireDefault(_root3);

var _withDropdown = require('../with-dropdown');

var _withDropdown2 = _interopRequireDefault(_withDropdown);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _class = function (_WithDropdown) {
  _inherits(_class, _WithDropdown);

  function _class() {
    _classCallCheck(this, _class);

    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
  }

  _createClass(_class, [{
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        'div',
        { className: 'page page-users-lists' },
        _react2.default.createElement(
          'div',
          { className: 'page-header tabbed' },
          _react2.default.createElement(
            'div',
            { className: 'container' },
            _react2.default.createElement(
              'h1',
              { className: 'pull-left' },
              gettext("Users")
            ),
            _react2.default.createElement(_dropdownToggle2.default, { toggleNav: this.toggleNav,
              dropdown: this.state.dropdown })
          ),
          _react2.default.createElement(
            'div',
            { className: 'page-tabs hidden-xs hidden-sm' },
            _react2.default.createElement(
              'div',
              { className: 'container' },
              _react2.default.createElement(_navs.TabsNav, { lists: _index2.default.get('USERS_LISTS'),
                baseUrl: _index2.default.get('USERS_LIST_URL') })
            )
          )
        ),
        _react2.default.createElement(
          'div',
          { className: this.getCompactNavClassName() },
          _react2.default.createElement(_navs.CompactNav, { lists: _index2.default.get('USERS_LISTS'),
            baseUrl: _index2.default.get('USERS_LIST_URL'),
            hideNav: this.hideNav })
        ),
        this.props.children
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_withDropdown2.default);

exports.default = _class;
function select(store) {
  return {
    'tick': store.tick.tick,
    'user': store.auth.user,
    'users': store.users
  };
}

function paths() {
  var paths = [];

  _index2.default.get('USERS_LISTS').forEach(function (item) {
    if (item.component === 'rank') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/:page/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.slug + '/',
        component: (0, _reactRedux.connect)(select)(_root4.default),
        rank: item
      });
    } else if (item.component === 'active-posters') {
      paths.push({
        path: _index2.default.get('USERS_LIST_URL') + item.component + '/',
        component: (0, _reactRedux.connect)(select)(_root2.default),
        extra: {
          name: item.name
        }
      });
    }
  });

  return paths;
}

},{"../../index":234,"../dropdown-toggle":19,"../with-dropdown":232,"./active-posters/root":225,"./navs":226,"./rank/root":230,"react":"react","react-redux":"react-redux"}],232:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class(props) {
    _classCallCheck(this, _class);

    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

    _this.toggleNav = function () {
      _this.setState({
        dropdown: !_this.state.dropdown
      });
    };

    _this.hideNav = function () {
      _this.setState({
        dropdown: false
      });
    };

    _this.state = {
      dropdown: false
    };
    return _this;
  }

  /* jshint ignore:start */


  _createClass(_class, [{
    key: 'getCompactNavClassName',

    /* jshint ignore:end */

    value: function getCompactNavClassName() {
      if (this.state.dropdown) {
        return 'compact-nav open';
      } else {
        return 'compact-nav';
      }
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],233:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _class = function (_React$Component) {
  _inherits(_class, _React$Component);

  function _class() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, _class);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = _class.__proto__ || Object.getPrototypeOf(_class)).call.apply(_ref, [this].concat(args))), _this), _this.toggle = function () {
      _this.props.onChange({
        target: {
          value: !_this.props.value
        }
      });
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(_class, [{
    key: "getClassName",
    value: function getClassName() {
      if (this.props.value) {
        return "btn btn-yes-no btn-yes-no-on";
      } else {
        return "btn btn-yes-no btn-yes-no-off";
      }
    }
  }, {
    key: "getIcon",
    value: function getIcon() {
      if (!!this.props.value) {
        return this.props.iconOn || 'check_box';
      } else {
        return this.props.iconOff || 'check_box_outline_blank';
      }
    }
  }, {
    key: "getLabel",
    value: function getLabel() {
      if (!!this.props.value) {
        return this.props.labelOn || gettext("yes");
      } else {
        return this.props.labelOff || gettext("no");
      }
    }

    /* jshint ignore:start */

  }, {
    key: "render",

    /* jshint ignore:end */

    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement(
        "button",
        { type: "button",
          onClick: this.toggle,
          className: this.getClassName(),
          id: this.props.id || null,
          "aria-describedby": this.props['aria-describedby'] || null,
          disabled: this.props.disabled || false },
        _react2.default.createElement(
          "span",
          { className: "material-icon" },
          this.getIcon()
        ),
        this.getLabel()
      );
      /* jshint ignore:end */
    }
  }]);

  return _class;
}(_react2.default.Component);

exports.default = _class;

},{"react":"react"}],234:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Misago = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _orderedList = require('./utils/ordered-list');

var _orderedList2 = _interopRequireDefault(_orderedList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Misago = exports.Misago = function () {
  function Misago() {
    _classCallCheck(this, Misago);

    this._initializers = [];
    this._context = {};
  }

  _createClass(Misago, [{
    key: 'addInitializer',
    value: function addInitializer(initializer) {
      this._initializers.push({
        key: initializer.name,

        item: initializer.initializer,

        after: initializer.after,
        before: initializer.before
      });
    }
  }, {
    key: 'init',
    value: function init(context) {
      var _this = this;

      this._context = context;

      var initOrder = new _orderedList2.default(this._initializers).orderedValues();
      initOrder.forEach(function (initializer) {
        initializer(_this);
      });
    }

    // context accessors

  }, {
    key: 'has',
    value: function has(key) {
      return !!this._context[key];
    }
  }, {
    key: 'get',
    value: function get(key, fallback) {
      if (this.has(key)) {
        return this._context[key];
      } else {
        return fallback || undefined;
      }
    }
  }, {
    key: 'pop',
    value: function pop(key) {
      if (this.has(key)) {
        var value = this._context[key];
        this._context[key] = null;
        return value;
      } else {
        return undefined;
      }
    }
  }]);

  return Misago;
}();

// create  singleton


var misago = new Misago();

// expose it globally
global.misago = misago;

// and export it for tests and stuff
exports.default = misago;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./utils/ordered-list":315}],235:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _ajax2.default.init(_index2.default.get('CSRF_COOKIE_NAME'));
}

_index2.default.addInitializer({
  name: 'ajax',
  initializer: initializer
});

},{"../index":234,"../services/ajax":293}],236:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../reducers/auth');

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AUTH_SYNC_RATE = 45; // sync user with backend every 45 seconds

function initializer(context) {
  if (context.get('isAuthenticated')) {
    window.setInterval(function () {
      _ajax2.default.get(context.get('AUTH_API')).then(function (data) {
        _store2.default.dispatch((0, _auth.patch)(data));
      }, function (rejection) {
        _snackbar2.default.apiError(rejection);
      });
    }, AUTH_SYNC_RATE * 1000);
  }
}

_index2.default.addInitializer({
  name: 'auth-sync',
  initializer: initializer,
  after: 'auth'
});

},{"../index":234,"../reducers/auth":279,"../services/ajax":293,"../services/snackbar":304,"../services/store":305}],237:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../services/auth');

var _auth2 = _interopRequireDefault(_auth);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _auth2.default.init(_store2.default, _localStorage2.default, _modal2.default);
}

_index2.default.addInitializer({
  name: 'auth',
  initializer: initializer,
  after: 'store'
});

},{"../index":234,"../services/auth":294,"../services/local-storage":297,"../services/modal":299,"../services/store":305}],238:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _captcha = require('../services/captcha');

var _captcha2 = _interopRequireDefault(_captcha);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _captcha2.default.init(context, _ajax2.default, _include2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'captcha',
  initializer: initializer
});

},{"../index":234,"../services/ajax":293,"../services/captcha":295,"../services/include":296,"../services/snackbar":304}],239:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _authMessage = require('../../components/auth-message');

var _authMessage2 = _interopRequireDefault(_authMessage);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_authMessage.select)(_authMessage2.default), 'auth-message-mount');
}

_index2.default.addInitializer({
  name: 'component:auth-message',
  initializer: initializer,
  after: 'store'
});

},{"../../components/auth-message":2,"../../index":234,"../../utils/mount-component":314,"react-redux":"react-redux"}],240:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _bannedPage = require('../../utils/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('BAN_MESSAGE')) {
    (0, _bannedPage2.default)(context.get('BAN_MESSAGE'), false);
  }
}

_index2.default.addInitializer({
  name: 'component:banmed-page',
  initializer: initializer,
  after: 'store'
});

},{"../../index":234,"../../utils/banned-page":307}],241:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/categories/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('categories-mount')) {
    (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root2.default), 'categories-mount');
  }
}

_index2.default.addInitializer({
  name: 'component:categories',
  initializer: initializer,
  after: 'store'
});

},{"../../components/categories/root":10,"../../index":234,"../../utils/mount-component":314,"react-redux":"react-redux"}],242:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/options/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USER_OPTIONS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERCP_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:options',
  initializer: initializer,
  after: 'store'
});

},{"../../components/options/root":54,"../../index":234,"../../utils/routed-component":318}],243:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _root = require('../../components/profile/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('PROFILE') && context.has('PROFILE_PAGES')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('PROFILE').absolute_url,
      component: (0, _reactRedux.connect)(_root.select)(_root2.default),
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:profile',
  initializer: initializer,
  after: 'reducer:profile-hydrate'
});

},{"../../components/profile/root":137,"../../index":234,"../../utils/routed-component":318,"react-redux":"react-redux"}],244:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestActivationLink = require('../../components/request-activation-link');

var _requestActivationLink2 = _interopRequireDefault(_requestActivationLink);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-activation-link-mount')) {
    (0, _mountComponent2.default)(_requestActivationLink2.default, 'request-activation-link-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-activation-link',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-activation-link":142,"../../index":234,"../../utils/mount-component":314}],245:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _requestPasswordReset = require('../../components/request-password-reset');

var _requestPasswordReset2 = _interopRequireDefault(_requestPasswordReset);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('request-password-reset-mount')) {
    (0, _mountComponent2.default)(_requestPasswordReset2.default, 'request-password-reset-mount', false);
  }
}

_index2.default.addInitializer({
  name: 'component:request-password-reset',
  initializer: initializer,
  after: 'store'
});

},{"../../components/request-password-reset":143,"../../index":234,"../../utils/mount-component":314}],246:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _resetPasswordForm = require('../../components/reset-password-form');

var _resetPasswordForm2 = _interopRequireDefault(_resetPasswordForm);

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (document.getElementById('reset-password-form-mount')) {
    (0, _mountComponent2.default)(_resetPasswordForm2.default, 'reset-password-form-mount', false);
  }
}

_2.default.addInitializer({
  name: 'component:reset-password-form',
  initializer: initializer,
  after: 'store'
});

},{"../..":234,"../../components/reset-password-form":144,"../../utils/mount-component":314}],247:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _search = require('../../components/search');

var _search2 = _interopRequireDefault(_search);

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.get('CURRENT_LINK') === 'misago:search') {
    (0, _routedComponent2.default)({
      paths: (0, _search2.default)(_2.default.get('SEARCH_PROVIDERS'))
    });
  }
}

_2.default.addInitializer({
  name: 'component:search',
  initializer: initializer,
  after: 'store'
});

},{"../..":234,"../../components/search":146,"../../utils/routed-component":318}],248:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../components/snackbar');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_snackbar.select)(_snackbar.Snackbar), 'snackbar-mount');
}

_index2.default.addInitializer({
  name: 'component:snackbar',
  initializer: initializer,
  after: 'snackbar'
});

},{"../../components/snackbar":154,"../../index":234,"../../utils/mount-component":314,"react-redux":"react-redux"}],249:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/thread/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('THREAD') && context.has('POSTS')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:thread',
  initializer: initializer,
  after: 'store'
});

},{"../../components/thread/root":171,"../../index":234,"../../utils/routed-component":318}],250:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;
exports.getListOptions = getListOptions;

var _root = require('../../components/threads/root');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PRIVATE_THREADS_LIST = 'misago:private-threads';

function initializer(context) {
  if (context.has('THREADS') && context.has('CATEGORIES')) {
    (0, _routedComponent2.default)({
      paths: (0, _root.paths)(context.get('user'), getListOptions(context))
    });
  }
}

function getListOptions(context) {
  var currentLink = context.get('CURRENT_LINK');
  if (currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST) {
    return {
      api: context.get('PRIVATE_THREADS_API'),
      startThread: {
        mode: 'START_PRIVATE',
        submit: _index2.default.get('PRIVATE_THREADS_API')
      },
      title: gettext("Private threads"),
      pageLead: gettext("Private threads are threads which only those that started them and those they have invited may see and participate in."),
      emptyMessage: gettext("You aren't participating in any private threads.")
    };
  }

  return {
    'api': context.get('THREADS_API')
  };
}

_index2.default.addInitializer({
  name: 'component:threads',
  initializer: initializer,
  after: 'store'
});

},{"../../components/threads/root":203,"../../index":234,"../../utils/routed-component":318}],251:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _reactRedux = require('react-redux');

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _root = require('../../components/user-menu/root');

var _mountComponent = require('../../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.UserMenu), 'user-menu-mount');
  (0, _mountComponent2.default)((0, _reactRedux.connect)(_root.select)(_root.CompactUserMenu), 'user-menu-compact-mount');
}

_index2.default.addInitializer({
  name: 'component:user-menu',
  initializer: initializer,
  after: 'store'
});

},{"../../components/user-menu/root":208,"../../index":234,"../../utils/mount-component":314,"react-redux":"react-redux"}],252:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _root = require('../../components/users/root');

var _root2 = _interopRequireDefault(_root);

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _routedComponent = require('../../utils/routed-component');

var _routedComponent2 = _interopRequireDefault(_routedComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  if (context.has('USERS_LISTS')) {
    (0, _routedComponent2.default)({
      root: _index2.default.get('USERS_LIST_URL'),
      component: _root2.default,
      paths: (0, _root.paths)()
    });
  }
}

_index2.default.addInitializer({
  name: 'component:users',
  initializer: initializer,
  after: 'store'
});

},{"../../components/users/root":231,"../../index":234,"../../utils/routed-component":318}],253:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _include2.default.init(context.get('STATIC_URL'));
}

_index2.default.addInitializer({
  name: 'include',
  initializer: initializer
});

},{"../index":234,"../services/include":296}],254:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _localStorage = require('../services/local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _localStorage2.default.init('misago_');
}

_index2.default.addInitializer({
  name: 'local-storage',
  initializer: initializer
});

},{"../index":234,"../services/local-storage":297}],255:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _mobileNavbarDropdown = require('../services/mobile-navbar-dropdown');

var _mobileNavbarDropdown2 = _interopRequireDefault(_mobileNavbarDropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('mobile-navbar-dropdown-mount');
  if (element) {
    _mobileNavbarDropdown2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'dropdown',
  initializer: initializer,
  before: 'store'
});

},{"../index":234,"../services/mobile-navbar-dropdown":298}],256:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _modal = require('../services/modal');

var _modal2 = _interopRequireDefault(_modal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var element = document.getElementById('modal-mount');
  if (element) {
    _modal2.default.init(element);
  }
}

_index2.default.addInitializer({
  name: 'modal',
  initializer: initializer,
  before: 'store'
});

},{"../index":234,"../services/modal":299}],257:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _moment2.default.locale($('html').attr('lang'));
}

_index2.default.addInitializer({
  name: 'moment',
  initializer: initializer
});

},{"../index":234,"moment":"moment"}],258:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _pageTitle = require('../services/page-title');

var _pageTitle2 = _interopRequireDefault(_pageTitle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _pageTitle2.default.init(context.get('SETTINGS').forum_index_title, context.get('SETTINGS').forum_name);
}

_index2.default.addInitializer({
  name: 'page-title',
  initializer: initializer
});

},{"../index":234,"../services/page-title":301}],259:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _polls = require('../services/polls');

var _polls2 = _interopRequireDefault(_polls);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _polls2.default.init(_ajax2.default, _snackbar2.default);
}

_index2.default.addInitializer({
  name: 'polls',
  initializer: initializer
});

},{"../index":234,"../services/ajax":293,"../services/polls":302,"../services/snackbar":304}],260:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _ajax = require('../services/ajax');

var _ajax2 = _interopRequireDefault(_ajax);

var _posting = require('../services/posting');

var _posting2 = _interopRequireDefault(_posting);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _posting2.default.init(_ajax2.default, _snackbar2.default, document.getElementById('posting-placeholder'));
}

_index2.default.addInitializer({
  name: 'posting',
  initializer: initializer
});

},{"../index":234,"../services/ajax":293,"../services/posting":303,"../services/snackbar":304}],261:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _auth = require('../../reducers/auth');

var _auth2 = _interopRequireDefault(_auth);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer(context) {
  _store2.default.addReducer('auth', _auth2.default, Object.assign({
    isAuthenticated: context.get('isAuthenticated'),
    isAnonymous: !context.get('isAuthenticated'),

    user: context.get('user')
  }, _auth.initialState));
}

_index2.default.addInitializer({
  name: 'reducer:auth',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/auth":279,"../../services/store":305}],262:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _participants = require('../../reducers/participants');

var _participants2 = _interopRequireDefault(_participants);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = _index2.default.get('THREAD').participants;
  }

  _store2.default.addReducer('participants', _participants2.default, initialState || []);
}

_index2.default.addInitializer({
  name: 'reducer:participants',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/participants":280,"../../services/store":305}],263:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _poll = require('../../reducers/poll');

var _poll2 = _interopRequireDefault(_poll);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD') && _index2.default.get('THREAD').poll) {
    initialState = (0, _poll.hydrate)(_index2.default.get('THREAD').poll);
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('poll', _poll2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:poll',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/poll":281,"../../services/store":305}],264:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _posts = require('../../reducers/posts');

var _posts2 = _interopRequireDefault(_posts);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('POSTS')) {
    initialState = (0, _posts.hydrate)(_index2.default.get('POSTS'));
  } else {
    initialState = {
      isLoaded: false,
      isBusy: false
    };
  }

  _store2.default.addReducer('posts', _posts2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:posts',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/posts":283,"../../services/store":305}],265:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  if (_index2.default.has('PROFILE')) {
    _store2.default.dispatch((0, _profile.hydrate)(_index2.default.get('PROFILE')));
  }
}

_index2.default.addInitializer({
  name: 'reducer:profile-hydrate',
  initializer: initializer,
  after: 'store'
});

},{"../../index":234,"../../reducers/profile":284,"../../services/store":305}],266:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _profile = require('../../reducers/profile');

var _profile2 = _interopRequireDefault(_profile);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('profile', _profile2.default, {});
}

_index2.default.addInitializer({
  name: 'reducer:profile',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/profile":284,"../../services/store":305}],267:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _ = require('../..');

var _2 = _interopRequireDefault(_);

var _search = require('../../reducers/search');

var _search2 = _interopRequireDefault(_search);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('search', _search2.default, Object.assign({}, _search.initialState, {
    providers: _2.default.get('SEARCH_PROVIDERS') || []
  }));
}

_2.default.addInitializer({
  name: 'reducer:search',
  initializer: initializer,
  before: 'store'
});

},{"../..":234,"../../reducers/search":285,"../../services/store":305}],268:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _selection = require('../../reducers/selection');

var _selection2 = _interopRequireDefault(_selection);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('selection', _selection2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:selection',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/selection":286,"../../services/store":305}],269:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../../reducers/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('snackbar', _snackbar2.default, _snackbar.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:snackbar',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/snackbar":287,"../../services/store":305}],270:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _thread = require('../../reducers/thread');

var _thread2 = _interopRequireDefault(_thread);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  var initialState = null;
  if (_index2.default.has('THREAD')) {
    initialState = (0, _thread.hydrate)(_index2.default.get('THREAD'));
  } else {
    initialState = {
      isBusy: false
    };
  }

  _store2.default.addReducer('thread', _thread2.default, initialState);
}

_index2.default.addInitializer({
  name: 'reducer:thread',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/thread":288,"../../services/store":305}],271:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _threads = require('../../reducers/threads');

var _threads2 = _interopRequireDefault(_threads);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('threads', _threads2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:threads',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/threads":289,"../../services/store":305}],272:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../../reducers/tick');

var _tick2 = _interopRequireDefault(_tick);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('tick', _tick2.default, _tick.initialState);
}

_index2.default.addInitializer({
  name: 'reducer:tick',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/tick":290,"../../services/store":305}],273:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _usernameHistory = require('../../reducers/username-history');

var _usernameHistory2 = _interopRequireDefault(_usernameHistory);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('username-history', _usernameHistory2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:username-history',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/username-history":291,"../../services/store":305}],274:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../../index');

var _index2 = _interopRequireDefault(_index);

var _users = require('../../reducers/users');

var _users2 = _interopRequireDefault(_users);

var _store = require('../../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.addReducer('users', _users2.default, []);
}

_index2.default.addInitializer({
  name: 'reducer:users',
  initializer: initializer,
  before: 'store'
});

},{"../../index":234,"../../reducers/users":292,"../../services/store":305}],275:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _snackbar = require('../services/snackbar');

var _snackbar2 = _interopRequireDefault(_snackbar);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _snackbar2.default.init(_store2.default);
}

_index2.default.addInitializer({
  name: 'snackbar',
  initializer: initializer,
  after: 'store'
});

},{"../index":234,"../services/snackbar":304,"../services/store":305}],276:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _store2.default.init();
}

_index2.default.addInitializer({
  name: 'store',
  initializer: initializer,
  before: '_end'
});

},{"../index":234,"../services/store":305}],277:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _tick = require('../reducers/tick');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TICK_PERIOD = 50 * 1000; //do the tick every 50s

function initializer() {
  window.setInterval(function () {
    _store2.default.dispatch((0, _tick.doTick)());
  }, TICK_PERIOD);
}

_index2.default.addInitializer({
  name: 'tick-start',
  initializer: initializer,
  after: 'store'
});

},{"../index":234,"../reducers/tick":290,"../services/store":305}],278:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = initializer;

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _include = require('../services/include');

var _include2 = _interopRequireDefault(_include);

var _zxcvbn = require('../services/zxcvbn');

var _zxcvbn2 = _interopRequireDefault(_zxcvbn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function initializer() {
  _zxcvbn2.default.init(_include2.default);
}

_index2.default.addInitializer({
  name: 'zxcvbn',
  initializer: initializer
});

},{"../index":234,"../services/include":296,"../services/zxcvbn":306}],279:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SIGN_OUT = exports.SIGN_IN = exports.PATCH_USER = exports.initialState = undefined;
exports.patch = patch;
exports.signIn = signIn;
exports.signOut = signOut;
exports.default = auth;

var _users = require('./users');

var initialState = exports.initialState = {
  signedIn: false,
  signedOut: false
};

var PATCH_USER = exports.PATCH_USER = 'PATCH_USER';
var SIGN_IN = exports.SIGN_IN = 'SIGN_IN';
var SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';

function patch(patch) {
  return {
    type: PATCH_USER,
    patch: patch
  };
}

function signIn(user) {
  return {
    type: SIGN_IN,
    user: user
  };
}

function signOut() {
  var soft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  return {
    type: SIGN_OUT,
    soft: soft
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_USER:
      var newState = Object.assign({}, state);
      newState.user = Object.assign({}, state.user, action.patch);
      return newState;

    case SIGN_IN:
      return Object.assign({}, state, {
        signedIn: action.user
      });

    case SIGN_OUT:
      return Object.assign({}, state, {
        isAuthenticated: false,
        isAnonymous: true,
        signedOut: !action.soft
      });

    case _users.UPDATE_AVATAR:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState = Object.assign({}, state);
        _newState.user = Object.assign({}, state.user, {
          'avatars': action.avatars
        });
        return _newState;
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.isAuthenticated && state.user.id === action.userId) {
        var _newState2 = Object.assign({}, state);
        _newState2.user = Object.assign({}, state.user, {
          username: action.username,
          slug: action.slug
        });
        return _newState2;
      }
      return state;

    default:
      return state;
  }
}

},{"./users":292}],280:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.default = participants;
var REPLACE_PARTICIPANTS = exports.REPLACE_PARTICIPANTS = 'REPLACE_PARTICIPANTS';

function replace(newState) {
  return {
    type: REPLACE_PARTICIPANTS,
    state: newState
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_PARTICIPANTS:
      return action.state;

    default:
      return state;
  }
}

},{}],281:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POLL = exports.REPLACE_POLL = exports.REMOVE_POLL = exports.RELEASE_POLL = exports.BUSY_POLL = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.remove = remove;
exports.default = poll;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_POLL = exports.BUSY_POLL = 'BUSY_POLL';
var RELEASE_POLL = exports.RELEASE_POLL = 'RELEASE_POLL';
var REMOVE_POLL = exports.REMOVE_POLL = 'REMOVE_POLL';
var REPLACE_POLL = exports.REPLACE_POLL = 'REPLACE_POLL';
var UPDATE_POLL = exports.UPDATE_POLL = 'UPDATE_POLL';

function hydrate(json) {
  var hasSelectedChoices = false;
  for (var i in json.choices) {
    var choice = json.choices[i];
    if (choice.selected) {
      hasSelectedChoices = true;
      break;
    }
  }

  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),

    hasSelectedChoices: hasSelectedChoices,
    endsOn: json.length ? (0, _moment2.default)(json.posted_on).add(json.length, 'days') : null,

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_POLL
  };
}

function release() {
  return {
    type: RELEASE_POLL
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_POLL,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_POLL,
    data: data
  };
}

function remove() {
  return {
    type: REMOVE_POLL
  };
}

function poll() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_POLL:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_POLL:
      return Object.assign({}, state, { isBusy: false });

    case REMOVE_POLL:
      return {
        isBusy: false
      };

    case REPLACE_POLL:
      return action.state;

    case UPDATE_POLL:
      return Object.assign({}, state, action.data);

    default:
      return state;
  }
}

},{"moment":"moment"}],282:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_POST = undefined;
exports.hydrate = hydrate;
exports.hydrateAttachment = hydrateAttachment;
exports.patch = patch;
exports.default = post;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PATCH_POST = exports.PATCH_POST = 'PATCH_POST';

function hydrate(json) {
  return Object.assign({}, json, {
    posted_on: (0, _moment2.default)(json.posted_on),
    updated_on: (0, _moment2.default)(json.updated_on),
    hidden_on: (0, _moment2.default)(json.hidden_on),

    attachments: json.attachments ? json.attachments.map(hydrateAttachment) : null,
    poster: json.poster ? (0, _users.hydrateUser)(json.poster) : null,

    isSelected: false,
    isBusy: false,
    isDeleted: false
  });
}

function hydrateAttachment(json) {
  return Object.assign({}, json, {
    uploaded_on: (0, _moment2.default)(json.uploaded_on)
  });
}

function patch(post, patch) {
  return {
    type: PATCH_POST,
    post: post,
    patch: patch
  };
}

function post() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case PATCH_POST:
      if (state.id == action.post.id) {
        return Object.assign({}, state, action.patch);
      }
      return state;

    default:
      return state;
  }
}

},{"./users":292,"moment":"moment"}],283:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_POSTS = exports.UNLOAD_POSTS = exports.LOAD_POSTS = exports.DESELECT_POSTS = exports.DESELECT_POST = exports.SELECT_POST = exports.APPEND_POSTS = undefined;
exports.select = select;
exports.deselect = deselect;
exports.deselectAll = deselectAll;
exports.hydrate = hydrate;
exports.load = load;
exports.append = append;
exports.unload = unload;
exports.update = update;
exports.default = posts;

var _post = require('./post');

var _post2 = _interopRequireDefault(_post);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_POSTS = exports.APPEND_POSTS = 'APPEND_POSTS';
var SELECT_POST = exports.SELECT_POST = 'SELECT_POST';
var DESELECT_POST = exports.DESELECT_POST = 'DESELECT_POST';
var DESELECT_POSTS = exports.DESELECT_POSTS = 'DESELECT_POSTS';
var LOAD_POSTS = exports.LOAD_POSTS = 'LOAD_POSTS';
var UNLOAD_POSTS = exports.UNLOAD_POSTS = 'UNLOAD_POSTS';
var UPDATE_POSTS = exports.UPDATE_POSTS = 'UPDATE_POSTS';

function select(post) {
  return {
    type: SELECT_POST,
    post: post
  };
}

function deselect(post) {
  return {
    type: DESELECT_POST,
    post: post
  };
}

function deselectAll() {
  return {
    type: DESELECT_POSTS
  };
}

function hydrate(json) {
  return Object.assign({}, json, {
    results: json.results.map(_post.hydrate),
    isLoaded: true,
    isBusy: false,
    isSelected: false
  });
}

function load(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: LOAD_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function append(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: APPEND_POSTS,
    state: hydrated ? newState : hydrate(newState)
  };
}

function unload() {
  return {
    type: UNLOAD_POSTS
  };
}

function update(newState) {
  return {
    type: UPDATE_POSTS,
    update: newState
  };
}

function posts() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_POST:
      var selectedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: true
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: selectedPosts
      });

    case DESELECT_POST:
      var deseletedPosts = state.results.map(function (post) {
        if (post.id == action.post.id) {
          return Object.assign({}, post, {
            isSelected: false
          });
        } else {
          return post;
        }
      });

      return Object.assign({}, state, {
        results: deseletedPosts
      });

    case DESELECT_POSTS:
      var deseletedAllPosts = state.results.map(function (post) {
        return Object.assign({}, post, {
          isSelected: false
        });
      });

      return Object.assign({}, state, {
        results: deseletedAllPosts
      });

    case APPEND_POSTS:
      var results = state.results.slice();
      var resultsIds = state.results.map(function (post) {
        return post.id;
      });

      action.state.results.map(function (post) {
        if (resultsIds.indexOf(post.id) === -1) {
          results.push(post);
        }
      });

      return Object.assign({}, action.state, {
        results: results
      });

    case LOAD_POSTS:
      return action.state;

    case UNLOAD_POSTS:
      return Object.assign({}, state, {
        isLoaded: false
      });

    case UPDATE_POSTS:
      return Object.assign({}, state, action.update);

    case _post.PATCH_POST:
      var reducedPosts = state.results.map(function (post) {
        return (0, _post2.default)(post, action);
      });

      return Object.assign({}, state, {
        results: reducedPosts
      });

    default:
      return state;
  }
}

},{"./post":282}],284:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PATCH_PROFILE = exports.HYDRATE_PROFILE = undefined;
exports.hydrate = hydrate;
exports.patch = patch;
exports.default = auth;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var HYDRATE_PROFILE = exports.HYDRATE_PROFILE = 'HYDRATE_PROFILE';
var PATCH_PROFILE = exports.PATCH_PROFILE = 'PATCH_PROFILE';

function hydrate(profile) {
  return {
    type: HYDRATE_PROFILE,
    profile: profile
  };
}

function patch(patch) {
  return {
    type: PATCH_PROFILE,
    patch: patch
  };
}

function auth() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case HYDRATE_PROFILE:
      return Object.assign({}, action.profile, {
        joined_on: (0, _moment2.default)(action.profile.joined_on),
        status: (0, _users.hydrateStatus)(action.profile.status)
      });

    case PATCH_PROFILE:
      return Object.assign({}, state, action.patch);

    case _users.UPDATE_AVATAR:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          avatars: action.avatars
        });
      }
      return state;

    case _users.UPDATE_USERNAME:
      if (state.id === action.userId) {
        return Object.assign({}, state, {
          username: action.username,
          slug: action.slug
        });
      }
      return state;

    default:
      return state;
  }
}

},{"./users":292,"moment":"moment"}],285:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.replace = replace;
exports.update = update;
exports.updateProvider = updateProvider;
exports.default = participants;
var REPLACE_SEARCH = exports.REPLACE_SEARCH = 'REPLACE_SEARCH';
var UPDATE_SEARCH = exports.UPDATE_SEARCH = 'UPDATE_SEARCH';
var UPDATE_SEARCH_PROVIDER = exports.UPDATE_SEARCH_PROVIDER = 'UPDATE_SEARCH_PROVIDER';

var initialState = exports.initialState = {
  isLoading: false,
  query: '',
  providers: []
};

function replace(newState) {
  return {
    type: REPLACE_SEARCH,
    state: {
      isLoading: false,
      providers: newState
    }
  };
}

function update(newState) {
  return {
    type: UPDATE_SEARCH,
    update: newState
  };
}

function updateProvider(provider) {
  return {
    type: UPDATE_SEARCH_PROVIDER,
    provider: provider
  };
}

function participants() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case REPLACE_SEARCH:
      return action.state;

    case UPDATE_SEARCH:
      return Object.assign({}, state, action.update);

    case UPDATE_SEARCH_PROVIDER:
      return Object.assign({}, state, {
        providers: state.providers.map(function (provider) {
          if (provider.id === action.provider.id) {
            return action.provider;
          } else {
            return provider;
          }
        })
      });

    default:
      return state;
  }
}

},{}],286:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SELECT_ITEM = exports.SELECT_NONE = exports.SELECT_ALL = undefined;
exports.all = all;
exports.none = none;
exports.item = item;
exports.default = selection;

var _sets = require('../utils/sets');

var SELECT_ALL = exports.SELECT_ALL = 'SELECT_ALL';
var SELECT_NONE = exports.SELECT_NONE = 'SELECT_NONE';
var SELECT_ITEM = exports.SELECT_ITEM = 'SELECT_ITEM';

function all(itemsIds) {
  return {
    type: SELECT_ALL,
    items: itemsIds
  };
}

function none() {
  return {
    type: SELECT_NONE
  };
}

function item(itemId) {
  return {
    type: SELECT_ITEM,
    item: itemId
  };
}

function selection() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case SELECT_ALL:
      return action.items;

    case SELECT_NONE:
      return [];

    case SELECT_ITEM:
      return (0, _sets.toggle)(state, action.item);

    default:
      return state;
  }
}

},{"../utils/sets":319}],287:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.showSnackbar = showSnackbar;
exports.hideSnackbar = hideSnackbar;
exports.default = snackbar;
var initialState = exports.initialState = {
  type: 'info',
  message: '',
  isVisible: false
};

var SHOW_SNACKBAR = exports.SHOW_SNACKBAR = 'SHOW_SNACKBAR';
var HIDE_SNACKBAR = exports.HIDE_SNACKBAR = 'HIDE_SNACKBAR';

function showSnackbar(message, type) {
  return {
    type: SHOW_SNACKBAR,
    message: message,
    messageType: type
  };
}

function hideSnackbar() {
  return {
    type: HIDE_SNACKBAR
  };
}

function snackbar() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === SHOW_SNACKBAR) {
    return {
      type: action.messageType,
      message: action.message,
      isVisible: true
    };
  } else if (action.type === HIDE_SNACKBAR) {
    return Object.assign({}, state, {
      isVisible: false
    });
  } else {
    return state;
  }
}

},{}],288:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_THREAD_ACL = exports.UPDATE_THREAD = exports.REPLACE_THREAD = exports.RELEASE_THREAD = exports.BUSY_THREAD = undefined;
exports.hydrate = hydrate;
exports.busy = busy;
exports.release = release;
exports.replace = replace;
exports.update = update;
exports.updateAcl = updateAcl;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _poll = require('./poll');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BUSY_THREAD = exports.BUSY_THREAD = 'BUSY_THREAD';
var RELEASE_THREAD = exports.RELEASE_THREAD = 'RELEASE_THREAD';
var REPLACE_THREAD = exports.REPLACE_THREAD = 'REPLACE_THREAD';
var UPDATE_THREAD = exports.UPDATE_THREAD = 'UPDATE_THREAD';
var UPDATE_THREAD_ACL = exports.UPDATE_THREAD_ACL = 'UPDATE_THREAD_ACL';

function hydrate(json) {
  return Object.assign({}, json, {
    started_on: (0, _moment2.default)(json.started_on),
    last_post_on: (0, _moment2.default)(json.last_post_on),

    isBusy: false
  });
}

function busy() {
  return {
    type: BUSY_THREAD
  };
}

function release() {
  return {
    type: RELEASE_THREAD
  };
}

function replace(newState) {
  var hydrated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

  return {
    type: REPLACE_THREAD,
    state: hydrated ? newState : hydrate(newState)
  };
}

function update(data) {
  return {
    type: UPDATE_THREAD,
    data: data
  };
}

function updateAcl(data) {
  return {
    type: UPDATE_THREAD_ACL,
    data: data
  };
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case BUSY_THREAD:
      return Object.assign({}, state, { isBusy: true });

    case RELEASE_THREAD:
      return Object.assign({}, state, { isBusy: false });

    case _poll.REMOVE_POLL:
      return Object.assign({}, state, { poll: null });

    case _poll.REPLACE_POLL:
      return Object.assign({}, state, { poll: action.state });

    case REPLACE_THREAD:
      return action.state;

    case UPDATE_THREAD:
      return Object.assign({}, state, action.data);

    case UPDATE_THREAD_ACL:
      var acl = Object.assign({}, state.acl, action.data);
      return Object.assign({}, state, { acl: acl });

    default:
      return state;
  }
}

},{"./poll":281,"moment":"moment"}],289:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MODERATION_PERMISSIONS = exports.SORT_THREADS = exports.READ_THREADS = exports.PATCH_THREAD = exports.HYDRATE_THREADS = exports.FILTER_THREADS = exports.DELETE_THREAD = exports.APPEND_THREADS = undefined;
exports.append = append;
exports.deleteThread = deleteThread;
exports.filterThreads = filterThreads;
exports.hydrate = hydrate;
exports.patch = patch;
exports.read = read;
exports.sort = sort;
exports.getThreadModerationOptions = getThreadModerationOptions;
exports.hydrateThread = hydrateThread;
exports.default = thread;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_THREADS = exports.APPEND_THREADS = 'APPEND_THREADS';
var DELETE_THREAD = exports.DELETE_THREAD = 'DELETE_THREAD';
var FILTER_THREADS = exports.FILTER_THREADS = 'FILTER_THREADS';
var HYDRATE_THREADS = exports.HYDRATE_THREADS = 'HYDRATE_THREADS';
var PATCH_THREAD = exports.PATCH_THREAD = 'PATCH_THREAD';
var READ_THREADS = exports.READ_THREADS = 'READ_THREADS';
var SORT_THREADS = exports.SORT_THREADS = 'SORT_THREADS';

var MODERATION_PERMISSIONS = exports.MODERATION_PERMISSIONS = ['can_announce', 'can_approve', 'can_close', 'can_hide', 'can_move', 'can_merge', 'can_pin', 'can_review'];

function append(items, sorting) {
  return {
    type: APPEND_THREADS,
    items: items,
    sorting: sorting
  };
}

function deleteThread(thread) {
  return {
    type: DELETE_THREAD,
    thread: thread
  };
}

function filterThreads(category, categoriesMap) {
  return {
    type: FILTER_THREADS,
    category: category,
    categoriesMap: categoriesMap
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_THREADS,
    items: items
  };
}

function patch(thread, patch) {
  var sorting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return {
    type: PATCH_THREAD,
    thread: thread,
    patch: patch,
    sorting: sorting
  };
}

function read(categoriesMap, category) {
  return {
    type: READ_THREADS,
    categoriesMap: categoriesMap,
    category: category
  };
}

function sort(sorting) {
  return {
    type: SORT_THREADS,
    sorting: sorting
  };
}

function getThreadModerationOptions(thread_acl) {
  var options = [];
  MODERATION_PERMISSIONS.forEach(function (perm) {
    if (thread_acl[perm]) {
      options.push(perm);
    }
  });
  return options;
}

function hydrateThread(thread) {
  return Object.assign({}, thread, {
    started_on: (0, _moment2.default)(thread.started_on),
    last_post_on: (0, _moment2.default)(thread.last_post_on),
    moderation: getThreadModerationOptions(thread.acl)
  });
}

function thread() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_THREADS:
      var mergedState = (0, _concatUnique2.default)(action.items.map(hydrateThread), state);
      return mergedState.sort(action.sorting);

    case DELETE_THREAD:
      return state.filter(function (item) {
        return item.id !== action.thread.id;
      });

    case FILTER_THREADS:
      return state.filter(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          // same or sub category
          return true;
        } else if (item.weight == 2) {
          // globally pinned
          return true;
        } else {
          // thread moved outside displayed scope, hide it
          return false;
        }
      });

    case HYDRATE_THREADS:
      return action.items.map(hydrateThread);

    case PATCH_THREAD:
      var patchedState = state.map(function (item) {
        if (item.id === action.thread.id) {
          return Object.assign({}, item, action.patch);
        } else {
          return item;
        }
      });

      if (action.sorting) {
        return patchedState.sort(action.sorting);
      }
      return patchedState;

    case READ_THREADS:
      return state.map(function (item) {
        var itemCategory = action.categoriesMap[item.category];
        if (itemCategory.lft >= action.category.lft && itemCategory.rght <= action.category.rght) {
          return Object.assign({}, item, {
            is_read: true
          });
        } else {
          return item;
        }
      });

    case SORT_THREADS:
      return state.sort(action.sorting);

    default:
      return state;
  }
}

},{"../utils/concat-unique":309,"moment":"moment"}],290:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.doTick = doTick;
exports.default = tick;
var initialState = exports.initialState = {
  tick: 0
};

var TICK = exports.TICK = 'TICK';

function doTick() {
  return {
    type: TICK
  };
}

function tick() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (action.type === TICK) {
    return Object.assign({}, state, {
      tick: state.tick + 1
    });
  } else {
    return state;
  }
}

},{}],291:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.HYDRATE_HISTORY = exports.APPEND_HISTORY = exports.ADD_NAME_CHANGE = undefined;
exports.addNameChange = addNameChange;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateNamechange = hydrateNamechange;
exports.default = username;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _users = require('./users');

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ADD_NAME_CHANGE = exports.ADD_NAME_CHANGE = 'ADD_NAME_CHANGE';
var APPEND_HISTORY = exports.APPEND_HISTORY = 'APPEND_HISTORY';
var HYDRATE_HISTORY = exports.HYDRATE_HISTORY = 'HYDRATE_HISTORY';

function addNameChange(change, user, changedBy) {
  return {
    type: ADD_NAME_CHANGE,
    change: change,
    user: user,
    changedBy: changedBy
  };
}

function append(items) {
  return {
    type: APPEND_HISTORY,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_HISTORY,
    items: items
  };
}

function hydrateNamechange(namechange) {
  return Object.assign({}, namechange, {
    changed_on: (0, _moment2.default)(namechange.changed_on)
  });
}

function username() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case ADD_NAME_CHANGE:
      var newState = state.slice();
      newState.unshift({
        id: Math.floor(Date.now() / 1000), // just small hax for getting id
        changed_by: action.changedBy,
        changed_by_username: action.changedBy.username,
        changed_on: (0, _moment2.default)(),
        new_username: action.change.username,
        old_username: action.user.username
      });
      return newState;

    case APPEND_HISTORY:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateNamechange));

    case HYDRATE_HISTORY:
      return action.items.map(hydrateNamechange);

    case _users.UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            avatars: action.avatars
          });
        }

        return item;
      });

    case _users.UPDATE_USERNAME:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.changed_by && item.changed_by.id === action.userId) {
          item.changed_by = Object.assign({}, item.changed_by, {
            username: action.username,
            slug: action.slug
          });
        }

        return Object.assign({}, item);
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":309,"./users":292,"moment":"moment"}],292:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.UPDATE_USERNAME = exports.UPDATE_AVATAR = exports.HYDRATE_USERS = exports.APPEND_USERS = undefined;
exports.append = append;
exports.hydrate = hydrate;
exports.hydrateStatus = hydrateStatus;
exports.hydrateUser = hydrateUser;
exports.updateAvatar = updateAvatar;
exports.updateUsername = updateUsername;
exports.default = user;

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _concatUnique = require('../utils/concat-unique');

var _concatUnique2 = _interopRequireDefault(_concatUnique);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var APPEND_USERS = exports.APPEND_USERS = 'APPEND_USERS';
var HYDRATE_USERS = exports.HYDRATE_USERS = 'HYDRATE_USERS';
var UPDATE_AVATAR = exports.UPDATE_AVATAR = 'UPDATE_AVATAR';
var UPDATE_USERNAME = exports.UPDATE_USERNAME = 'UPDATE_USERNAME';

function append(items) {
  return {
    type: APPEND_USERS,
    items: items
  };
}

function hydrate(items) {
  return {
    type: HYDRATE_USERS,
    items: items
  };
}

function hydrateStatus(status) {
  if (status) {
    return Object.assign({}, status, {
      last_click: status.last_click ? (0, _moment2.default)(status.last_click) : null,
      banned_until: status.banned_until ? (0, _moment2.default)(status.banned_until) : null
    });
  } else {
    return null;
  }
}

function hydrateUser(user) {
  return Object.assign({}, user, {
    joined_on: (0, _moment2.default)(user.joined_on),
    status: hydrateStatus(user.status)
  });
}

function updateAvatar(user, avatars) {
  return {
    type: UPDATE_AVATAR,
    userId: user.id,
    avatars: avatars
  };
}

function updateUsername(user, username, slug) {
  return {
    type: UPDATE_USERNAME,
    userId: user.id,
    username: username,
    slug: slug
  };
}

function user() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  switch (action.type) {
    case APPEND_USERS:
      return (0, _concatUnique2.default)(state, action.items.map(hydrateUser));

    case HYDRATE_USERS:
      return action.items.map(hydrateUser);

    case UPDATE_AVATAR:
      return state.map(function (item) {
        item = Object.assign({}, item);
        if (item.id === action.userId) {
          item.avatars = action.avatars;
        }

        return item;
      });

    default:
      return state;
  }
}

},{"../utils/concat-unique":309,"moment":"moment"}],293:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ajax = exports.Ajax = function () {
  function Ajax() {
    _classCallCheck(this, Ajax);

    this._cookieName = null;
    this._csrfToken = null;
    this._locks = {};
  }

  _createClass(Ajax, [{
    key: 'init',
    value: function init(cookieName) {
      this._cookieName = cookieName;
    }
  }, {
    key: 'getCsrfToken',
    value: function getCsrfToken() {
      if (document.cookie.indexOf(this._cookieName) !== -1) {
        var cookieRegex = new RegExp(this._cookieName + '\=([^;]*)');
        var cookie = document.cookie.match(cookieRegex)[0];
        return cookie ? cookie.split('=')[1] : null;
      } else {
        return null;
      }
    }
  }, {
    key: 'request',
    value: function request(method, url, data) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: method,
          headers: {
            'X-CSRFToken': self.getCsrfToken()
          },

          data: data ? JSON.stringify(data) : null,
          contentType: "application/json; charset=utf-8",
          dataType: 'json',

          success: function success(data) {
            resolve(data);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }, {
    key: 'get',
    value: function get(url, params, lock) {
      if (params) {
        url += '?' + $.param(params);
      }

      if (lock) {
        var self = this;

        // update url in existing lock?
        if (this._locks[lock]) {
          this._locks[lock].url = url;
        }

        // immediately dereference promise handlers without doing anything
        // we are already waiting for existing response to resolve
        if (this._locks[lock] && this._locks[lock].waiter) {
          return {
            then: function then() {
              return;
            }
          };

          // return promise that will begin when original one resolves
        } else if (this._locks[lock] && this._locks[lock].wait) {
          this._locks[lock].waiter = true;

          return new Promise(function (resolve, reject) {
            var wait = function wait(url) {
              // keep waiting on promise
              if (self._locks[lock].wait) {
                window.setTimeout(function () {
                  wait(url);
                }, 300);

                // poll for new url
              } else if (self._locks[lock].url !== url) {
                wait(self._locks[lock].url);

                // ajax backend for response
              } else {
                self._locks[lock].waiter = false;
                self.request('GET', self._locks[lock].url).then(function (data) {
                  if (self._locks[lock].url === url) {
                    resolve(data);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                }, function (rejection) {
                  if (self._locks[lock].url === url) {
                    reject(rejection);
                  } else {
                    self._locks[lock].waiter = true;
                    wait(self._locks[lock].url);
                  }
                });
              }
            };

            window.setTimeout(function () {
              wait(url);
            }, 300);
          });

          // setup new lock without waiter
        } else {
          this._locks[lock] = {
            url: url,
            wait: true,
            waiter: false
          };

          return new Promise(function (resolve, reject) {
            self.request('GET', url).then(function (data) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                resolve(data);
              }
            }, function (rejection) {
              self._locks[lock].wait = false;
              if (self._locks[lock].url === url) {
                reject(rejection);
              }
            });
          });
        }
      } else {
        return this.request('GET', url);
      }
    }
  }, {
    key: 'post',
    value: function post(url, data) {
      return this.request('POST', url, data);
    }
  }, {
    key: 'patch',
    value: function patch(url, data) {
      return this.request('PATCH', url, data);
    }
  }, {
    key: 'put',
    value: function put(url, data) {
      return this.request('PUT', url, data);
    }
  }, {
    key: 'delete',
    value: function _delete(url) {
      return this.request('DELETE', url);
    }
  }, {
    key: 'upload',
    value: function upload(url, data, progress) {
      var self = this;
      return new Promise(function (resolve, reject) {
        var xhr = {
          url: url,
          method: 'POST',
          headers: {
            'X-CSRFToken': self.getCsrfToken()
          },

          data: data,
          contentType: false,
          processData: false,

          xhr: function xhr() {
            var xhr = new window.XMLHttpRequest();
            xhr.upload.addEventListener("progress", function (evt) {
              if (evt.lengthComputable) {
                progress(Math.round(evt.loaded / evt.total * 100));
              }
            }, false);
            return xhr;
          },

          success: function success(response) {
            resolve(response);
          },

          error: function error(jqXHR) {
            var rejection = jqXHR.responseJSON || {};

            rejection.status = jqXHR.status;

            if (rejection.status === 0) {
              rejection.detail = gettext("Lost connection with application.");
            }

            if (rejection.status === 413 && !rejection.detail) {
              rejection.detail = gettext("Upload was rejected by server as too large.");
            }

            if (rejection.status === 404) {
              if (!rejection.detail || rejection.detail === 'NOT FOUND') {
                rejection.detail = gettext("Action link is invalid.");
              }
            }

            if (rejection.status === 500 && !rejection.detail) {
              rejection.detail = gettext("Unknown error has occured.");
            }

            rejection.statusText = jqXHR.statusText;

            reject(rejection);
          }
        };

        $.ajax(xhr);
      });
    }
  }]);

  return Ajax;
}();

exports.default = new Ajax();

},{}],294:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Auth = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _auth = require('../reducers/auth');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Auth = exports.Auth = function () {
  function Auth() {
    _classCallCheck(this, Auth);
  }

  _createClass(Auth, [{
    key: 'init',
    value: function init(store, local, modal) {
      this._store = store;
      this._local = local;
      this._modal = modal;

      // tell other tabs what auth state is because we are most current with it
      this.syncSession();

      // listen for other tabs to tell us that state changed
      this.watchState();
    }
  }, {
    key: 'syncSession',
    value: function syncSession() {
      var state = this._store.getState().auth;
      if (state.isAuthenticated) {
        this._local.set('auth', {
          isAuthenticated: true,
          username: state.user.username
        });
      } else {
        this._local.set('auth', {
          isAuthenticated: false
        });
      }
    }
  }, {
    key: 'watchState',
    value: function watchState() {
      var _this = this;

      this._local.watch('auth', function (newState) {
        if (newState.isAuthenticated) {
          _this._store.dispatch((0, _auth.signIn)({
            username: newState.username
          }));
        } else {
          _this._store.dispatch((0, _auth.signOut)());
        }
      });
      this._modal.hide();
    }
  }, {
    key: 'signIn',
    value: function signIn(user) {
      this._store.dispatch((0, _auth.signIn)(user));
      this._local.set('auth', {
        isAuthenticated: true,
        username: user.username
      });
      this._modal.hide();
    }
  }, {
    key: 'signOut',
    value: function signOut() {
      this._store.dispatch((0, _auth.signOut)());
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }, {
    key: 'softSignOut',
    value: function softSignOut() {
      this._store.dispatch((0, _auth.signOut)(true));
      this._local.set('auth', {
        isAuthenticated: false
      });
      this._modal.hide();
    }
  }]);

  return Auth;
}();

exports.default = new Auth();

},{"../reducers/auth":279}],295:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Captcha = exports.ReCaptcha = exports.ReCaptchaComponent = exports.QACaptcha = exports.NoCaptcha = exports.BaseCaptcha = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global grecaptcha */
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _formGroup = require('../components/form-group');

var _formGroup2 = _interopRequireDefault(_formGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var BaseCaptcha = exports.BaseCaptcha = function () {
  function BaseCaptcha() {
    _classCallCheck(this, BaseCaptcha);
  }

  _createClass(BaseCaptcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      this._context = context;
      this._ajax = ajax;
      this._include = include;
      this._snackbar = snackbar;
    }
  }]);

  return BaseCaptcha;
}();

var NoCaptcha = exports.NoCaptcha = function (_BaseCaptcha) {
  _inherits(NoCaptcha, _BaseCaptcha);

  function NoCaptcha() {
    _classCallCheck(this, NoCaptcha);

    return _possibleConstructorReturn(this, (NoCaptcha.__proto__ || Object.getPrototypeOf(NoCaptcha)).apply(this, arguments));
  }

  _createClass(NoCaptcha, [{
    key: 'load',
    value: function load() {
      return new Promise(function (resolve) {
        // immediately resolve as we don't have anything to validate
        resolve();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return null;
    }
  }, {
    key: 'component',
    value: function component() {
      return null;
    }
  }]);

  return NoCaptcha;
}(BaseCaptcha);

var QACaptcha = exports.QACaptcha = function (_BaseCaptcha2) {
  _inherits(QACaptcha, _BaseCaptcha2);

  function QACaptcha() {
    _classCallCheck(this, QACaptcha);

    return _possibleConstructorReturn(this, (QACaptcha.__proto__ || Object.getPrototypeOf(QACaptcha)).apply(this, arguments));
  }

  _createClass(QACaptcha, [{
    key: 'load',
    value: function load() {
      var self = this;
      return new Promise(function (resolve, reject) {
        self._ajax.get(self._context.get('CAPTCHA_API')).then(function (data) {
          self.question = data.question;
          self.helpText = data.help_text;
          resolve();
        }, function () {
          self._snackbar.error(gettext("Failed to load CAPTCHA."));
          reject();
        });
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        { label: this.question, 'for': 'id_captcha',
          labelClass: kwargs.labelClass || "col-sm-4",
          controlClass: kwargs.controlClass || "col-sm-8",
          validation: kwargs.form.state.errors.captcha,
          helpText: this.helpText || null },
        _react2.default.createElement('input', { type: 'text', id: 'id_captcha', className: 'form-control',
          'aria-describedby': 'id_captcha_status',
          disabled: kwargs.form.state.isLoading,
          onChange: kwargs.form.bindInput('captcha'),
          value: kwargs.form.state.captcha })
      );
    }
    /* jshint ignore:end */

  }]);

  return QACaptcha;
}(BaseCaptcha);

var ReCaptchaComponent = exports.ReCaptchaComponent = function (_React$Component) {
  _inherits(ReCaptchaComponent, _React$Component);

  function ReCaptchaComponent() {
    _classCallCheck(this, ReCaptchaComponent);

    return _possibleConstructorReturn(this, (ReCaptchaComponent.__proto__ || Object.getPrototypeOf(ReCaptchaComponent)).apply(this, arguments));
  }

  _createClass(ReCaptchaComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this4 = this;

      grecaptcha.render('recaptcha', {
        'sitekey': this.props.siteKey,
        'callback': function callback(response) {
          // fire fakey event to binding
          _this4.props.binding({
            target: {
              value: response
            }
          });
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      /* jshint ignore:start */
      return _react2.default.createElement('div', { id: 'recaptcha' });
      /* jshint ignore:end */
    }
  }]);

  return ReCaptchaComponent;
}(_react2.default.Component);

var ReCaptcha = exports.ReCaptcha = function (_BaseCaptcha3) {
  _inherits(ReCaptcha, _BaseCaptcha3);

  function ReCaptcha() {
    _classCallCheck(this, ReCaptcha);

    return _possibleConstructorReturn(this, (ReCaptcha.__proto__ || Object.getPrototypeOf(ReCaptcha)).apply(this, arguments));
  }

  _createClass(ReCaptcha, [{
    key: 'load',
    value: function load() {
      this._include.include('https://www.google.com/recaptcha/api.js', true);

      return new Promise(function (resolve) {
        var wait = function wait() {
          if (typeof grecaptcha === "undefined") {
            window.setTimeout(function () {
              wait();
            }, 200);
          } else {
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: 'validator',
    value: function validator() {
      return [];
    }

    /* jshint ignore:start */

  }, {
    key: 'component',
    value: function component(kwargs) {
      return _react2.default.createElement(
        _formGroup2.default,
        { label: gettext("Captcha"), 'for': 'id_captcha',
          labelClass: kwargs.labelClass || "col-sm-4",
          controlClass: kwargs.controlClass || "col-sm-8",
          validation: kwargs.form.state.errors.captcha,
          helpText: gettext("Please solve the quick test.") },
        _react2.default.createElement(ReCaptchaComponent, { siteKey: this._context.get('SETTINGS').recaptcha_site_key,
          binding: kwargs.form.bindInput('captcha') })
      );
    }
    /* jshint ignore:end */

  }]);

  return ReCaptcha;
}(BaseCaptcha);

var Captcha = exports.Captcha = function () {
  function Captcha() {
    _classCallCheck(this, Captcha);
  }

  _createClass(Captcha, [{
    key: 'init',
    value: function init(context, ajax, include, snackbar) {
      switch (context.get('SETTINGS').captcha_type) {
        case 'no':
          this._captcha = new NoCaptcha();
          break;

        case 'qa':
          this._captcha = new QACaptcha();
          break;

        case 're':
          this._captcha = new ReCaptcha();
          break;
      }

      this._captcha.init(context, ajax, include, snackbar);
    }

    // accessors for underlying strategy

  }, {
    key: 'load',
    value: function load() {
      return this._captcha.load();
    }
  }, {
    key: 'validator',
    value: function validator() {
      return this._captcha.validator();
    }
  }, {
    key: 'component',
    value: function component(kwargs) {
      return this._captcha.component(kwargs);
    }
  }]);

  return Captcha;
}();

exports.default = new Captcha();

},{"../components/form-group":40,"react":"react"}],296:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Include = exports.Include = function () {
  function Include() {
    _classCallCheck(this, Include);
  }

  _createClass(Include, [{
    key: 'init',
    value: function init(staticUrl) {
      this._staticUrl = staticUrl;
      this._included = [];
    }
  }, {
    key: 'include',
    value: function include(script) {
      var remote = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (this._included.indexOf(script) === -1) {
        this._included.push(script);
        this._include(script, remote);
      }
    }
  }, {
    key: '_include',
    value: function _include(script, remote) {
      $.ajax({
        url: (!remote ? this._staticUrl : '') + script,
        cache: true,
        dataType: 'script'
      });
    }
  }]);

  return Include;
}();

exports.default = new Include();

},{}],297:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var storage = window.localStorage;

var LocalStorage = exports.LocalStorage = function () {
  function LocalStorage() {
    _classCallCheck(this, LocalStorage);
  }

  _createClass(LocalStorage, [{
    key: 'init',
    value: function init(prefix) {
      var _this = this;

      this._prefix = prefix;
      this._watchers = [];

      window.addEventListener('storage', function (e) {
        var newValueJson = JSON.parse(e.newValue);
        _this._watchers.forEach(function (watcher) {
          if (watcher.key === e.key && e.oldValue !== e.newValue) {
            watcher.callback(newValueJson);
          }
        });
      });
    }
  }, {
    key: 'set',
    value: function set(key, value) {
      storage.setItem(this._prefix + key, JSON.stringify(value));
    }
  }, {
    key: 'get',
    value: function get(key) {
      var itemString = storage.getItem(this._prefix + key);
      if (itemString) {
        return JSON.parse(itemString);
      } else {
        return null;
      }
    }
  }, {
    key: 'watch',
    value: function watch(key, callback) {
      this._watchers.push({
        key: this._prefix + key,
        callback: callback
      });
    }
  }]);

  return LocalStorage;
}();

exports.default = new LocalStorage();

},{}],298:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MobileNavbarDropdown = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var MobileNavbarDropdown = exports.MobileNavbarDropdown = function () {
  function MobileNavbarDropdown() {
    _classCallCheck(this, MobileNavbarDropdown);
  }

  _createClass(MobileNavbarDropdown, [{
    key: 'init',
    value: function init(element) {
      this._element = element;
      this._component = null;
    }
  }, {
    key: 'show',
    value: function show(component) {
      if (this._component === component) {
        this.hide();
      } else {
        this._component = component;
        (0, _mountComponent2.default)(component, this._element.id);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'showConnected',
    value: function showConnected(name, component) {
      if (this._component === name) {
        this.hide();
      } else {
        this._component = name;
        (0, _mountComponent2.default)(component, this._element.id, true);
        $(this._element).addClass('open');
      }
    }
  }, {
    key: 'hide',
    value: function hide() {
      $(this._element).removeClass('open');
      this._component = null;
    }
  }]);

  return MobileNavbarDropdown;
}();

exports.default = new MobileNavbarDropdown();

},{"../utils/mount-component":314}],299:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Modal = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Modal = exports.Modal = function () {
  function Modal() {
    _classCallCheck(this, Modal);
  }

  _createClass(Modal, [{
    key: 'init',
    value: function init(element) {
      var _this = this;

      this._element = element;

      this._modal = $(element).modal({ show: false });

      this._modal.on('hidden.bs.modal', function () {
        _reactDom2.default.unmountComponentAtNode(_this._element);
      });
    }
  }, {
    key: 'show',
    value: function show(component) {
      (0, _mountComponent2.default)(component, this._element.id);
      this._modal.modal('show');
    }
  }, {
    key: 'hide',
    value: function hide() {
      this._modal.modal('hide');
    }
  }]);

  return Modal;
}();

exports.default = new Modal();

},{"../utils/mount-component":314,"react-dom":"react-dom"}],300:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.parseYoutubeUrl = parseYoutubeUrl;
exports.cleanUrl = cleanUrl;
exports.getVideoIdFromUrl = getVideoIdFromUrl;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ytRegExp = new RegExp('^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*');

var OneBox = exports.OneBox = function () {
  function OneBox() {
    var _this = this;

    _classCallCheck(this, OneBox);

    this.render = function (domnode) {
      if (!domnode) return;

      _this.highlightCode(domnode);
      _this.embedYoutubePlayers(domnode);
    };

    this._youtube = {};
  }

  // jshint ignore:start


  _createClass(OneBox, [{
    key: 'highlightCode',

    // jshint ignore:end

    value: function highlightCode(domnode) {
      var codeblocks = domnode.querySelectorAll('pre>code');
      for (var i = 0; i < codeblocks.length; i++) {
        var code = codeblocks[i];
        hljs.highlightBlock(code);
      }
    }
  }, {
    key: 'embedYoutubePlayers',
    value: function embedYoutubePlayers(domnode) {
      var anchors = domnode.querySelectorAll('p>a');
      for (var i = 0; i < anchors.length; i++) {
        var a = anchors[i];
        var p = a.parentNode;
        var onlyChild = p.childNodes.length === 1;

        if (!this._youtube[a.href]) {
          this._youtube[a.href] = parseYoutubeUrl(a.href);
        }

        var youtubeMovie = this._youtube[a.href];
        if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {
          this.swapYoutubePlayer(a, youtubeMovie);
        }
      }
    }
  }, {
    key: 'swapYoutubePlayer',
    value: function swapYoutubePlayer(element, youtube) {
      var url = 'https://www.youtube.com/embed/';
      url += youtube.video;
      url += '?rel=0';
      if (youtube.start) {
        url += '&start=' + youtube.start;
      }

      $(element).replaceWith($('<iframe width="560" height="315" src="' + url + '" frameborder="0" allowfullscreen></iframe>'));
    }
  }]);

  return OneBox;
}();

exports.default = new OneBox();
function parseYoutubeUrl(url) {
  var cleanedUrl = cleanUrl(url);
  var video = getVideoIdFromUrl(cleanedUrl);

  if (!video) return null;

  var start = 0;
  if (cleanedUrl.indexOf('?') > 0) {
    var query = cleanedUrl.substr(cleanedUrl.indexOf('?') + 1);
    var timebit = query.split('&').filter(function (i) {
      return i.substr(0, 2) === 't=';
    })[0];

    if (timebit) {
      var bits = timebit.substr(2).split('m');
      if (bits[0].substr(-1) === 's') {
        start += parseInt(bits[0].substr(0, bits[0].length - 1));
      } else {
        start += parseInt(bits[0]) * 60;
        if (!!bits[1] && bits[1].substr(-1) === 's') {
          start += parseInt(bits[1].substr(0, bits[1].length - 1));
        }
      }
    }
  }

  return {
    start: start,
    video: video
  };
}

function cleanUrl(url) {
  var clean = url;

  if (url.substr(0, 8) === 'https://') {
    clean = clean.substr(8);
  } else if (url.substr(0, 7) === 'http://') {
    clean = clean.substr(7);
  }

  if (clean.substr(0, 4) === 'www.') {
    clean = clean.substr(4);
  }

  return clean;
}

function getVideoIdFromUrl(url) {
  var video = url.match(ytRegExp);
  if (video) {
    return video[1];
  }
  return null;
}

},{}],301:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PageTitle = exports.PageTitle = function () {
  function PageTitle() {
    _classCallCheck(this, PageTitle);
  }

  _createClass(PageTitle, [{
    key: 'init',
    value: function init(indexTitle, forumName) {
      this._indexTitle = indexTitle;
      this._forumName = forumName;
    }
  }, {
    key: 'set',
    value: function set(title) {
      if (!title) {
        document.title = this._indexTitle || this._forumName;
        return;
      }

      if (typeof title === 'string') {
        title = { title: title };
      }

      var finalTitle = title.title;

      if (title.page > 1) {
        var pageLabel = interpolate(gettext('page: %(page)s'), {
          page: title.page
        }, true);

        finalTitle += ' (' + pageLabel + ')';
      }

      if (title.parent) {
        finalTitle += ' | ' + title.parent;
      }

      document.title = finalTitle + ' | ' + this._forumName;
    }
  }]);

  return PageTitle;
}();

exports.default = new PageTitle();

},{}],302:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Polls = exports.Polls = function () {
  function Polls() {
    _classCallCheck(this, Polls);
  }

  _createClass(Polls, [{
    key: "init",
    value: function init(ajax, snackbar) {
      this._ajax = ajax;
      this._snackbar = snackbar;

      this._polls = {};
    }
  }, {
    key: "start",
    value: function start(kwargs) {
      var _this = this;

      this.stop(kwargs.poll);

      var poolServer = function poolServer() {
        _this._polls[kwargs.poll] = kwargs;

        _this._ajax.get(kwargs.url, kwargs.data || null).then(function (data) {
          if (!_this._polls[kwargs.poll]._stopped) {
            kwargs.update(data);

            _this._polls[kwargs.poll].timeout = window.setTimeout(poolServer, kwargs.frequency);
          }
        }, function (rejection) {
          if (!_this._polls[kwargs.poll]._stopped) {
            if (kwargs.error) {
              kwargs.error(rejection);
            } else {
              _this._snackbar.apiError(rejection);
            }
          }
        });
      };

      if (kwargs.delayed) {
        this._polls[kwargs.poll] = {
          timeout: window.setTimeout(poolServer, kwargs.frequency)
        };
      } else {
        poolServer();
      }
    }
  }, {
    key: "stop",
    value: function stop(pollId) {
      if (this._polls[pollId]) {
        window.clearTimeout(this._polls[pollId].timeout);
        this._polls[pollId]._stopped = true;
      }
    }
  }]);

  return Polls;
}();

exports.default = new Polls();

},{}],303:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Posting = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // jshint ignore:line
// jshint ignore:line
// jshint ignore:line
// jshint ignore:line


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _poll = require('../components/poll');

var _posting = require('../components/posting');

var _posting2 = _interopRequireDefault(_posting);

var _mountComponent = require('../utils/mount-component');

var _mountComponent2 = _interopRequireDefault(_mountComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// jshint ignore:line

var Posting = exports.Posting = function () {
  function Posting() {
    var _this = this;

    _classCallCheck(this, Posting);

    this.close = function () {
      if (_this._isOpen && !_this._isClosing) {
        _this._isClosing = true;
        _this._placeholder.removeClass('slide-in');

        window.setTimeout(function () {
          _reactDom2.default.unmountComponentAtNode(document.getElementById('posting-mount'));
          _this._isClosing = false;
          _this._isOpen = false;
        }, 300);
      }
    };
  }

  _createClass(Posting, [{
    key: 'init',
    value: function init(ajax, snackbar, placeholder) {
      this._ajax = ajax;
      this._snackbar = snackbar;
      this._placeholder = $(placeholder);

      this._mode = null;

      this._isOpen = false;
      this._isClosing = false;
    }
  }, {
    key: 'open',
    value: function open(props) {
      if (this._isOpen === false) {
        this._mode = props.mode;
        this._isOpen = props.submit;
        this._realOpen(props);
      } else if (this._isOpen !== props.submit) {
        var message = gettext("You are already working on other message. Do you want to discard it?");
        if (this._mode == 'POLL') {
          message = gettext("You are already working on a poll. Do you want to discard it?");
        }

        var changeForm = confirm(message);
        if (changeForm) {
          this._mode = props.mode;
          this._isOpen = props.submit;
          this._realOpen(props);
        }
      } else if (this._mode == 'REPLY' && props.mode == 'REPLY') {
        this._realOpen(props);
      }
    }

    // jshint ignore:start

  }, {
    key: '_realOpen',

    // jshint ignore:end
    value: function _realOpen(props) {
      if (props.mode == 'POLL') {
        (0, _mountComponent2.default)(_react2.default.createElement(_poll.PollForm, props), 'posting-mount');
      } else {
        (0, _mountComponent2.default)(_react2.default.createElement(_posting2.default, props), 'posting-mount');
      }

      this._placeholder.addClass('slide-in');

      $('html, body').animate({
        scrollTop: this._placeholder.offset().top
      }, 1000);
    }
  }]);

  return Posting;
}();

exports.default = new Posting();

},{"../components/poll":72,"../components/posting":89,"../utils/mount-component":314,"react":"react","react-dom":"react-dom"}],304:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Snackbar = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _snackbar = require('../reducers/snackbar');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var HIDE_ANIMATION_LENGTH = 300;
var MESSAGE_SHOW_LENGTH = 5000;

var Snackbar = exports.Snackbar = function () {
  function Snackbar() {
    _classCallCheck(this, Snackbar);
  }

  _createClass(Snackbar, [{
    key: 'init',
    value: function init(store) {
      this._store = store;
      this._timeout = null;
    }
  }, {
    key: 'alert',
    value: function alert(message, type) {
      var _this = this;

      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._store.dispatch((0, _snackbar.hideSnackbar)());

        this._timeout = window.setTimeout(function () {
          _this._timeout = null;
          _this.alert(message, type);
        }, HIDE_ANIMATION_LENGTH);
      } else {
        this._store.dispatch((0, _snackbar.showSnackbar)(message, type));
        this._timeout = window.setTimeout(function () {
          _this._store.dispatch((0, _snackbar.hideSnackbar)());
          _this._timeout = null;
        }, MESSAGE_SHOW_LENGTH);
      }
    }

    // shorthands for message types

  }, {
    key: 'info',
    value: function info(message) {
      this.alert(message, 'info');
    }
  }, {
    key: 'success',
    value: function success(message) {
      this.alert(message, 'success');
    }
  }, {
    key: 'warning',
    value: function warning(message) {
      this.alert(message, 'warning');
    }
  }, {
    key: 'error',
    value: function error(message) {
      this.alert(message, 'error');
    }

    // shorthand for api errors

  }, {
    key: 'apiError',
    value: function apiError(rejection) {
      var message = rejection.detail;

      if (!message) {
        if (rejection.status === 404) {
          message = gettext("Action link is invalid.");
        } else {
          message = gettext("Unknown error has occured.");
        }
      }

      if (rejection.status === 403 && message === "Permission denied") {
        message = gettext("You don't have permission to perform this action.");
      }

      this.error(message);
    }
  }]);

  return Snackbar;
}();

exports.default = new Snackbar();

},{"../reducers/snackbar":287}],305:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StoreWrapper = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _redux = require('redux');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StoreWrapper = exports.StoreWrapper = function () {
  function StoreWrapper() {
    _classCallCheck(this, StoreWrapper);

    this._store = null;
    this._reducers = {};
    this._initialState = {};
  }

  _createClass(StoreWrapper, [{
    key: 'addReducer',
    value: function addReducer(name, reducer, initialState) {
      this._reducers[name] = reducer;
      this._initialState[name] = initialState;
    }
  }, {
    key: 'init',
    value: function init() {
      this._store = (0, _redux.createStore)((0, _redux.combineReducers)(this._reducers), this._initialState);
    }
  }, {
    key: 'getStore',
    value: function getStore() {
      return this._store;
    }

    // Store API

  }, {
    key: 'getState',
    value: function getState() {
      return this._store.getState();
    }
  }, {
    key: 'dispatch',
    value: function dispatch(action) {
      return this._store.dispatch(action);
    }
  }]);

  return StoreWrapper;
}();

exports.default = new StoreWrapper();

},{"redux":"redux"}],306:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global zxcvbn */
var Zxcvbn = exports.Zxcvbn = function () {
  function Zxcvbn() {
    _classCallCheck(this, Zxcvbn);
  }

  _createClass(Zxcvbn, [{
    key: "init",
    value: function init(include) {
      this._include = include;
      this._isLoaded = false;
    }
  }, {
    key: "scorePassword",
    value: function scorePassword(password, inputs) {
      // 0-4 score, the more the stronger password
      if (this._isLoaded) {
        return zxcvbn(password, inputs).score;
      }

      return 0;
    }
  }, {
    key: "load",
    value: function load() {
      if (!this._isLoaded) {
        this._include.include('misago/js/zxcvbn.js');
        return this._loadingPromise();
      } else {
        return this._loadedPromise();
      }
    }
  }, {
    key: "_loadingPromise",
    value: function _loadingPromise() {
      var self = this;

      return new Promise(function (resolve, reject) {
        var wait = function wait() {
          var tries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

          tries += 1;
          if (tries > 200) {
            reject();
          } else if (typeof zxcvbn === "undefined") {
            window.setTimeout(function () {
              wait(tries);
            }, 200);
          } else {
            self._isLoaded = true;
            resolve();
          }
        };
        wait();
      });
    }
  }, {
    key: "_loadedPromise",
    value: function _loadedPromise() {
      // we have already loaded zxcvbn.js, resolve away!
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }]);

  return Zxcvbn;
}();

exports.default = new Zxcvbn();

},{}],307:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (ban, changeState) {
  _reactDom2.default.render(
  /* jshint ignore:start */
  _react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(RedrawedBannedPage, { message: ban.message,
      expires: ban.expires_on ? (0, _moment2.default)(ban.expires_on) : null })
  ),
  /* jshint ignore:end */
  document.getElementById('page-mount'));

  if (typeof changeState === 'undefined' || changeState) {
    var forumName = _index2.default.get('SETTINGS').forum_name;
    document.title = gettext("You are banned") + ' | ' + forumName;
    window.history.pushState({}, "", _index2.default.get('BANNED_URL'));
  }
};

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _bannedPage = require('../components/banned-page');

var _bannedPage2 = _interopRequireDefault(_bannedPage);

var _index = require('../index');

var _index2 = _interopRequireDefault(_index);

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// jshint ignore:line

/* jshint ignore:start */
// jshint ignore:line
// jshint ignore:line
var select = function select(state) {
  return state.tick;
}; // jshint ignore:line
// jshint ignore:line


var RedrawedBannedPage = (0, _reactRedux.connect)(select)(_bannedPage2.default);
/* jshint ignore:end */

},{"../components/banned-page":4,"../index":234,"../services/store":305,"moment":"moment","react":"react","react-dom":"react-dom","react-redux":"react-redux"}],308:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (list, rowWidth) {
  var padding = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  var rows = [];
  var row = [];

  list.forEach(function (element) {
    row.push(element);
    if (row.length === rowWidth) {
      rows.push(row);
      row = [];
    }
  });

  // pad row to required length?
  if (padding !== false && row.length > 0 && row.length < rowWidth) {
    for (var i = row.length; i < rowWidth; i++) {
      row.push(padding);
    }
  }

  if (row.length) {
    rows.push(row);
  }

  return rows;
};

},{}],309:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (a, b) {
  var ids = [];
  return a.concat(b).filter(function (item) {
    if (ids.indexOf(item.id) === -1) {
      ids.push(item.id);
      return true;
    } else {
      return false;
    }
  });
};

},{}],310:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _class = function () {
  function _class(callback, count) {
    _classCallCheck(this, _class);

    this._callback = callback;
    this._count = count;
  }

  _createClass(_class, [{
    key: "count",
    value: function count() {
      this._count -= 1;
      if (this._count === 0) {
        this._callback();
      }
    }
  }]);

  return _class;
}();

exports.default = _class;

},{}],311:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text) {
  return text.replace(/[&<>"']/g, function (m) {
    return map[m];
  });
};

var map = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#039;'
};

},{}],312:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (bytes) {
  if (bytes > 1024 * 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024 * 1024)) + ' GB';
  } else if (bytes > 1024 * 1024) {
    return roundSize(bytes / (1024 * 1024)) + ' MB';
  } else if (bytes > 1024) {
    return roundSize(bytes / 1024) + ' KB';
  } else {
    return roundSize(bytes) + ' B';
  }
};

exports.roundSize = roundSize;
function roundSize(value) {
  return value.toFixed(1);
}

},{}],313:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (str) {
  return URL_PATTERN.test($.trim(str));
};

var URL_PATTERN = new RegExp('^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$', 'i');

},{}],314:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, rootElementId) {
  var connected = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

  var rootElement = document.getElementById(rootElementId);

  /* jshint ignore:start */
  var finalComponent = Component.props ? Component : _react2.default.createElement(Component, null);
  /* jshint ignore:end */

  if (rootElement) {
    if (connected) {
      _reactDom2.default.render(
      /* jshint ignore:start */
      _react2.default.createElement(
        _reactRedux.Provider,
        { store: _store2.default.getStore() },
        finalComponent
      ),
      /* jshint ignore:end */
      rootElement);
    } else {
      /* jshint ignore:start */
      _reactDom2.default.render(finalComponent, rootElement);
      /* jshint ignore:end */
    }
  }
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

},{"../services/store":305,"react":"react","react-dom":"react-dom","react-redux":"react-redux"}],315:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var OrderedList = function () {
  function OrderedList(items) {
    _classCallCheck(this, OrderedList);

    this.isOrdered = false;
    this._items = items || [];
  }

  _createClass(OrderedList, [{
    key: "add",
    value: function add(key, item, order) {
      this._items.push({
        key: key,
        item: item,

        after: order ? order.after || null : null,
        before: order ? order.before || null : null
      });
    }
  }, {
    key: "get",
    value: function get(key, value) {
      for (var i = 0; i < this._items.length; i++) {
        if (this._items[i].key === key) {
          return this._items[i].item;
        }
      }

      return value;
    }
  }, {
    key: "has",
    value: function has(key) {
      return this.get(key) !== undefined;
    }
  }, {
    key: "values",
    value: function values() {
      var values = [];
      for (var i = 0; i < this._items.length; i++) {
        values.push(this._items[i].item);
      }
      return values;
    }
  }, {
    key: "order",
    value: function order(values_only) {
      if (!this.isOrdered) {
        this._items = this._order(this._items);
        this.isOrdered = true;
      }

      if (values_only || typeof values_only === 'undefined') {
        return this.values();
      } else {
        return this._items;
      }
    }
  }, {
    key: "orderedValues",
    value: function orderedValues() {
      return this.order(true);
    }
  }, {
    key: "_order",
    value: function _order(unordered) {
      // Index of unordered items
      var index = [];
      unordered.forEach(function (item) {
        index.push(item.key);
      });

      // Ordered items
      var ordered = [];
      var ordering = [];

      // First pass: register items that
      // don't specify their order
      unordered.forEach(function (item) {
        if (!item.after && !item.before) {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Second pass: register items that
      // specify their before to "_end"
      unordered.forEach(function (item) {
        if (item.before === "_end") {
          ordered.push(item);
          ordering.push(item.key);
        }
      });

      // Third pass: keep iterating items
      // until we hit iterations limit or finish
      // ordering list
      function insertItem(item) {
        var insertAt = -1;
        if (ordering.indexOf(item.key) === -1) {
          if (item.after) {
            insertAt = ordering.indexOf(item.after);
            if (insertAt !== -1) {
              insertAt += 1;
            }
          } else if (item.before) {
            insertAt = ordering.indexOf(item.before);
          }

          if (insertAt !== -1) {
            ordered.splice(insertAt, 0, item);
            ordering.splice(insertAt, 0, item.key);
          }
        }
      }

      var iterations = 200;
      while (iterations > 0 && index.length !== ordering.length) {
        iterations -= 1;
        unordered.forEach(insertItem);
      }

      return ordered;
    }
  }]);

  return OrderedList;
}();

exports.default = OrderedList;

},{}],316:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.int = int;
exports.range = range;
function int(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function range(min, max) {
  var array = new Array(int(min, max));
  for (var i = 0; i < array.length; i++) {
    array[i] = i;
  }

  return array;
}

},{}],317:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  window.scrollTo(0, 0);
};

},{}],318:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (options) {
  var routes = {
    component: options.component || null,
    childRoutes: []
  };

  if (options.root) {
    routes.childRoutes = [{
      path: options.root,
      onEnter: function onEnter(nextState, replaceState) {
        replaceState(null, options.paths[0].path);
      }
    }].concat(options.paths);
  } else {
    routes.childRoutes = options.paths;
  }

  _reactDom2.default.render(_react2.default.createElement(
    _reactRedux.Provider,
    { store: _store2.default.getStore() },
    _react2.default.createElement(_reactRouter.Router, { routes: routes, history: _reactRouter.browserHistory })
  ), rootElement);
};

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactDom = require('react-dom');

var _reactDom2 = _interopRequireDefault(_reactDom);

var _reactRedux = require('react-redux');

var _reactRouter = require('react-router');

var _store = require('../services/store');

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rootElement = document.getElementById('page-mount'); // jshint ignore:start

},{"../services/store":305,"react":"react","react-dom":"react-dom","react-redux":"react-redux","react-router":"react-router"}],319:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.push = push;
exports.remove = remove;
exports.toggle = toggle;
function push(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array;
  }
}

function remove(array, value) {
  if (array.indexOf(value) >= 0) {
    return array.filter(function (i) {
      return i !== value;
    });
  } else {
    return array;
  }
}

function toggle(array, value) {
  if (array.indexOf(value) === -1) {
    var copy = array.slice();
    copy.push(value);
    return copy;
  } else {
    return array.filter(function (i) {
      return i !== value;
    });
  }
}

},{}],320:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (string, subString) {
  string = (string + "").toLowerCase();
  subString = (subString + "").toLowerCase();

  if (subString.length <= 0) return 0;

  var n = 0;
  var pos = 0;
  var step = subString.length;

  while (true) {
    pos = string.indexOf(subString, pos);
    if (pos >= 0) {
      n += 1;
      pos += step;
    } else {
      break;
    }
  }

  return n;
};

},{}],321:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.required = required;
exports.email = email;
exports.minLength = minLength;
exports.maxLength = maxLength;
exports.usernameMinLength = usernameMinLength;
exports.usernameMaxLength = usernameMaxLength;
exports.usernameContent = usernameContent;
exports.passwordMinLength = passwordMinLength;
var EMAIL = /^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
var USERNAME = new RegExp('^[0-9a-z]+$', 'i');

function required() {
  return function (value) {
    if ($.trim(value).length === 0) {
      return gettext("This field is required.");
    }
  };
}

function email(message) {
  return function (value) {
    if (!EMAIL.test(value)) {
      return message || gettext("Enter a valid email address.");
    }
  };
}

function minLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length < limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at least %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function maxLength(limitValue, message) {
  return function (value) {
    var returnMessage = '';
    var length = $.trim(value).length;

    if (length > limitValue) {
      if (message) {
        returnMessage = message(limitValue, length);
      } else {
        returnMessage = ngettext("Ensure this value has at most %(limit_value)s character (it has %(show_value)s).", "Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).", limitValue);
      }
      return interpolate(returnMessage, {
        limit_value: limitValue,
        show_value: length
      }, true);
    }
  };
}

function usernameMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Username must be at least %(limit_value)s character long.", "Username must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}

function usernameMaxLength(lengthMax) {
  var message = function message(lengthMax) {
    return ngettext("Username cannot be longer than %(limit_value)s character.", "Username cannot be longer than %(limit_value)s characters.", lengthMax);
  };
  return maxLength(lengthMax, message);
}

function usernameContent() {
  return function (value) {
    if (!USERNAME.test($.trim(value))) {
      return gettext("Username can only contain latin alphabet letters and digits.");
    }
  };
}

function passwordMinLength(lengthMin) {
  var message = function message(lengthMin) {
    return ngettext("Valid password must be at least %(limit_value)s character long.", "Valid password must be at least %(limit_value)s characters long.", lengthMin);
  };
  return minLength(lengthMin, message);
}

},{}]},{},[234,235,236,237,238,253,254,255,256,257,258,259,260,275,276,277,278,239,240,241,242,243,244,245,246,247,248,249,250,251,252,261,262,263,264,265,266,267,268,269,270,271,272,273,274])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQuanMiLCJzcmMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9hdmF0YXIuanMiLCJzcmMvY29tcG9uZW50cy9iYW5uZWQtcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL2J1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnktc3ViY2F0ZWdvcmllcy5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvY2F0ZWdvcnkuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL2xhc3QtYWN0aXZpdHkuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL3JlYWQtaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3RhdHMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yaWVzL3N1YmNhdGVnb3J5LXN1YmNhdGVnb3JpZXMuanMiLCJzcmMvY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2dhbGxlcnkuanMiLCJzcmMvY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWQuanMiLCJzcmMvY29tcG9uZW50cy9kcm9wZG93bi10b2dnbGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9hY3Rpb24uanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9jb2RlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvZW1waGFzaXMuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYWN0aW9ucy9oci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL2ltYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvbGluay5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hY3Rpb25zL3F1b3RlLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3RyaWtldHJvdWdoLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2FjdGlvbnMvc3Ryb25nLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvY29tcGxldGUuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvYXR0YWNobWVudC9lcnJvci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy9hdHRhY2htZW50L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2F0dGFjaG1lbnQvdXBsb2FkLmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvZWRpdG9yL2F0dGFjaG1lbnRzL2xpc3QuanMiLCJzcmMvY29tcG9uZW50cy9lZGl0b3IvYXR0YWNobWVudHMvdXBsb2FkLWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9hdHRhY2htZW50cy91cGxvYWRlci5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci9tYXJrdXAtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL2VkaXRvci90ZXh0dXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9mb3JtLWdyb3VwLmpzIiwic3JjL2NvbXBvbmVudHMvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL2xpLmpzIiwic3JjL2NvbXBvbmVudHMvbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbWVyZ2UtcG9sbHMuanMiLCJzcmMvY29tcG9uZW50cy9taXNhZ28tbWFya3VwLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9ja2VkLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvZm9ybS5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL2ZvcnVtLW9wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLWVtYWlsLmpzIiwic3JjL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL2NoYW5nZS1wYXNzd29yZC5qcyIsInNyYy9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvcGFnZS1sZWFkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFuZWwtbG9hZGVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZS5qcyIsInNyYy9jb21wb25lbnRzL3BhcnRpY2lwYW50cy9jYXJkcy1saXN0L2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wYXJ0aWNpcGFudHMvY2FyZHMtbGlzdC9tYWtlLW93bmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3QvcmVtb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2NhcmRzLWxpc3Qvcm93LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcGFydGljaXBhbnRzL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGguanMiLCJzcmMvY29tcG9uZW50cy9wb2xsL2Zvcm0vY2hvaWNlcy1jb250cm9sLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9mb3JtL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvaW5mby5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcG9sbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9jaGFydC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9tb2RhbC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvcmVzdWx0cy9vcHRpb25zLmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvaGVscC5qcyIsInNyYy9jb21wb25lbnRzL3BvbGwvdm90aW5nL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3Rpbmcvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9sbC92b3RpbmcvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy9kaWZmLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWNoYW5nZWxvZy90b29sYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cvdXRpbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0LWxpa2VzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9lZGl0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvcmVwbHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3N0YXJ0LXByaXZhdGUuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3N0YXJ0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9hdHRhY2htZW50cy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvY29udGFpbmVyLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdGluZy91dGlscy9sb2FkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL21lc3NhZ2UuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL29wdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0aW5nL3V0aWxzL3VzZXJuYW1lcy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdmFsaWRhdG9ycy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvZXZlbnQvY29udHJvbHMuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2ljb24uanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L2V2ZW50L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9pbmZvLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9ldmVudC9tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9hdHRhY2htZW50cy9hdHRhY2htZW50LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2F0dGFjaG1lbnRzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2JvZHkuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvY29udHJvbHMvYWN0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9jb250cm9scy9tb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2NvbnRyb2xzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2ZsYWdzLmpzIiwic3JjL2NvbXBvbmVudHMvcG9zdHMtbGlzdC9wb3N0L2Zvb3Rlci5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3Bvc3QvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3Bvc3RzLWxpc3QvcG9zdC9zZWxlY3QuanMiLCJzcmMvY29tcG9uZW50cy9wb3N0cy1saXN0L3dheXBvaW50LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9iYW4tZGV0YWlscy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9pbmRleC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9wb3N0cy1saXN0L2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mZWVkL3Bvc3RzLWxpc3QvcG9zdC1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mZWVkL3Bvc3RzLWxpc3QvcG9zdC5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZmVlZC9yb3V0ZS5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93LWJ1dHRvbi5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93ZXJzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9mb2xsb3dzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9oZWFkZXIuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21lc3NhZ2UtYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL2F2YXRhci1jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9jaGFuZ2UtdXNlcm5hbWUuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQuanMiLCJzcmMvY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9uYXZzLmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvcHJvZmlsZS91c2VybmFtZS1oaXN0b3J5LmpzIiwic3JjL2NvbXBvbmVudHMvcXVpY2stc2VhcmNoLmpzIiwic3JjL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvcmVnaXN0ZXIuanMiLCJzcmMvY29tcG9uZW50cy9yZXF1ZXN0LWFjdGl2YXRpb24tbGluay5qcyIsInNyYy9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQuanMiLCJzcmMvY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL2Zvcm0uanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvcGFnZS5qcyIsInNyYy9jb21wb25lbnRzL3NlYXJjaC9zaWRlbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3RocmVhZHMvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy9zZWFyY2gvdGhyZWFkcy9yZXN1bHRzLmpzIiwic3JjL2NvbXBvbmVudHMvc2VhcmNoL3VzZXJzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvc2VsZWN0LmpzIiwic3JjL2NvbXBvbmVudHMvc2lnbi1pbi5qcyIsInNyYy9jb21wb25lbnRzL3NuYWNrYmFyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci9icmVhZGNydW1icy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9oZWFkZXIvaW5kZXguanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvaGVhZGVyL3N0YXRzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL2hlYWRlci90aXRsZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2FjdGlvbnMuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi9wb3N0cy9kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vcG9zdHMvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9tb2RlcmF0aW9uL3Bvc3RzL3NwbGl0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2NvbnRyb2xzLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2luZGV4LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL21vZGVyYXRpb24vdGhyZWFkL2lzLXZpc2libGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbWVyZ2UuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvbW9kZXJhdGlvbi90aHJlYWQvbW92ZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZC9wYWdpbmF0b3IuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcmVwbHktYnV0dG9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWQvc3Vic2NyaXB0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkL3Rvb2xiYXItdG9wLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3Qvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvY2F0ZWdvcnkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvY29tcGFjdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZGV0YWlscy9mdWxsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9mbGFncy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvaWNvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvcmVhZHkuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9jb21wYWN0LmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL21vZGFsLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vb3B0aW9ucy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvY2F0ZWdvcnktcGlja2VyLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9jb250YWluZXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL2hlYWRlci5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbGlzdC1lbXB0eS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9jb250cm9scy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9lcnJvcnMtbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tZXJnZS5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbW9kZXJhdGlvbi9tb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL3NlbGVjdGlvbi5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvbmF2cy5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3RocmVhZHMvcm91dGUuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3Rvb2xiYXIuanMiLCJzcmMvY29tcG9uZW50cy90aHJlYWRzL3V0aWxzLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlci1tZW51L2d1ZXN0LW5hdi5qcyIsInNyYy9jb21wb25lbnRzL3VzZXItbWVudS9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlci1tZW51L3VzZXItbmF2LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlci1zdGF0dXMuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZS1wcmV2aWV3LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtZW1wdHkuanMiLCJzcmMvY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcHJldmlldy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1yZWFkeS5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzLWxpc3QvdXNlci1jYXJkLmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMtbGlzdC91c2VyLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWVtcHR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LWl0ZW0uanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXByZXZpZXcuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5LmpzIiwic3JjL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL25hdnMuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QtbG9hZGluZy5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC5qcyIsInNyYy9jb21wb25lbnRzL3VzZXJzL3JhbmsvcGFnZXIuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yYW5rL3Jvb3QuanMiLCJzcmMvY29tcG9uZW50cy91c2Vycy9yb290LmpzIiwic3JjL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bi5qcyIsInNyYy9jb21wb25lbnRzL3llcy1uby1zd2l0Y2guanMiLCJzcmMvaW5kZXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2FqYXguanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2F1dGgtc3luYy5qcyIsInNyYy9pbml0aWFsaXplcnMvYXV0aC5qcyIsInNyYy9pbml0aWFsaXplcnMvY2FwdGNoYS5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9hdXRoLW1lc3NhZ2UuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvYmFubmVkLXBhZ2UuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvY2F0ZWdvcmllcy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9vcHRpb25zLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3Byb2ZpbGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvcmVxdWVzdC1wYXNzd29yZC1yZXNldC5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9yZXNldC1wYXNzd29yZC1mb3JtLmpzIiwic3JjL2luaXRpYWxpemVycy9jb21wb25lbnRzL3NlYXJjaC5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy9zbmFja2Jhci5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy90aHJlYWQuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvY29tcG9uZW50cy91c2VyLW1lbnUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2NvbXBvbmVudHMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2luY2x1ZGUuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL2xvY2FsLXN0b3JhZ2UuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL21vYmlsZS1uYXZiYXItZHJvcGRvd24uanMiLCJzcmMvaW5pdGlhbGl6ZXJzL21vZGFsLmpzIiwic3JjL2luaXRpYWxpemVycy9tb21lbnQtbG9jYWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9wYWdlLXRpdGxlLmpzIiwic3JjL2luaXRpYWxpemVycy9wb2xscy5qcyIsInNyYy9pbml0aWFsaXplcnMvcG9zdGluZy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvYXV0aC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wb2xsLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvcHJvZmlsZS1oeWRyYXRlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL2luaXRpYWxpemVycy9yZWR1Y2Vycy9zZWFyY2guanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3NlbGVjdGlvbi5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3JlZHVjZXJzL3RocmVhZC5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGhyZWFkcy5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeS5qcyIsInNyYy9pbml0aWFsaXplcnMvcmVkdWNlcnMvdXNlcnMuanMiLCJzcmMvaW5pdGlhbGl6ZXJzL3NuYWNrYmFyLmpzIiwic3JjL2luaXRpYWxpemVycy9zdG9yZS5qcyIsInNyYy9pbml0aWFsaXplcnMvdGljay1zdGFydC5qcyIsInNyYy9pbml0aWFsaXplcnMvenhjdmJuLmpzIiwic3JjL3JlZHVjZXJzL2F1dGguanMiLCJzcmMvcmVkdWNlcnMvcGFydGljaXBhbnRzLmpzIiwic3JjL3JlZHVjZXJzL3BvbGwuanMiLCJzcmMvcmVkdWNlcnMvcG9zdC5qcyIsInNyYy9yZWR1Y2Vycy9wb3N0cy5qcyIsInNyYy9yZWR1Y2Vycy9wcm9maWxlLmpzIiwic3JjL3JlZHVjZXJzL3NlYXJjaC5qcyIsInNyYy9yZWR1Y2Vycy9zZWxlY3Rpb24uanMiLCJzcmMvcmVkdWNlcnMvc25hY2tiYXIuanMiLCJzcmMvcmVkdWNlcnMvdGhyZWFkLmpzIiwic3JjL3JlZHVjZXJzL3RocmVhZHMuanMiLCJzcmMvcmVkdWNlcnMvdGljay5qcyIsInNyYy9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5LmpzIiwic3JjL3JlZHVjZXJzL3VzZXJzLmpzIiwic3JjL3NlcnZpY2VzL2FqYXguanMiLCJzcmMvc2VydmljZXMvYXV0aC5qcyIsInNyYy9zZXJ2aWNlcy9jYXB0Y2hhLmpzIiwic3JjL3NlcnZpY2VzL2luY2x1ZGUuanMiLCJzcmMvc2VydmljZXMvbG9jYWwtc3RvcmFnZS5qcyIsInNyYy9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duLmpzIiwic3JjL3NlcnZpY2VzL21vZGFsLmpzIiwic3JjL3NlcnZpY2VzL29uZS1ib3guanMiLCJzcmMvc2VydmljZXMvcGFnZS10aXRsZS5qcyIsInNyYy9zZXJ2aWNlcy9wb2xscy5qcyIsInNyYy9zZXJ2aWNlcy9wb3N0aW5nLmpzIiwic3JjL3NlcnZpY2VzL3NuYWNrYmFyLmpzIiwic3JjL3NlcnZpY2VzL3N0b3JlLmpzIiwic3JjL3NlcnZpY2VzL3p4Y3Zibi5qcyIsInNyYy91dGlscy9iYW5uZWQtcGFnZS5qcyIsInNyYy91dGlscy9iYXRjaC5qcyIsInNyYy91dGlscy9jb25jYXQtdW5pcXVlLmpzIiwic3JjL3V0aWxzL2NvdW50ZG93bi5qcyIsInNyYy91dGlscy9lc2NhcGUtaHRtbC5qcyIsInNyYy91dGlscy9maWxlLXNpemUuanMiLCJzcmMvdXRpbHMvaXMtdXJsLmpzIiwic3JjL3V0aWxzL21vdW50LWNvbXBvbmVudC5qcyIsInNyYy91dGlscy9vcmRlcmVkLWxpc3QuanMiLCJzcmMvdXRpbHMvcmFuZG9tLmpzIiwic3JjL3V0aWxzL3Jlc2V0LXNjcm9sbC5qcyIsInNyYy91dGlscy9yb3V0ZWQtY29tcG9uZW50LmpzIiwic3JjL3V0aWxzL3NldHMuanMiLCJzcmMvdXRpbHMvc3RyaW5nLWNvdW50LmpzIiwic3JjL3V0aWxzL3ZhbGlkYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztRQ29GZ0IsVyxHQUFBLFc7O0FBbkZoQjs7OztBQUNBOzs7Ozs7Ozs7O0lBRVksWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsrZUFKWjs7Ozs7O0FBWUUsa0JBQVksS0FBWixFQUFtQjtBQUFBOztBQUFBLGdIQUNYLEtBRFc7O0FBQUEsVUFVbkIsZ0JBVm1CLEdBVUEsVUFBQyxLQUFELEVBQVc7QUFDNUIsWUFBSyxXQUFMLENBQWlCLFVBQWpCLEVBQTZCLE1BQU0sTUFBTixDQUFhLEtBQTFDO0FBQ0QsS0Faa0I7O0FBR2pCLFVBQUssS0FBTCxHQUFhO0FBQ1gsaUJBQVcsS0FEQTs7QUFHWCxnQkFBVTtBQUhDLEtBQWI7QUFIaUI7QUFRbEI7Ozs7NEJBTU87QUFDTixVQUFJLENBQUMsS0FBSyxLQUFMLENBQVcsUUFBWCxDQUFvQixJQUFwQixHQUEyQixNQUFoQyxFQUF3QztBQUN0QywyQkFBUyxLQUFULENBQWUsUUFBUSw4QkFBUixDQUFmO0FBQ0EsZUFBTyxLQUFQO0FBQ0Q7O0FBRUQsYUFBTyxJQUFQO0FBQ0Q7OzsyQkFFTTtBQUNMLGFBQU8sZUFBSyxLQUFMLENBQVcsS0FBSyxLQUFMLENBQVcsTUFBWCxDQUFrQixHQUFsQixDQUFzQixLQUFqQyxFQUF3QyxDQUM3QyxFQUFDLElBQUksS0FBTCxFQUFZLE1BQU0sY0FBbEIsRUFBa0MsT0FBTyxLQUFLLEtBQUwsQ0FBVyxRQUFwRCxFQUQ2QyxFQUU3QyxFQUFDLElBQUksS0FBTCxFQUFZLE1BQU0sS0FBbEIsRUFBeUIsT0FBTyxDQUFoQyxFQUY2QyxDQUF4QyxDQUFQO0FB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QUVoQyxvQkFBWTtBQUZvQixPQUEzQixFQUdKLElBSEksQ0FBUDtBQUlEO0FBQ0YsR0FsQkQ7QUFtQkQ7O0FBRU0sU0FBUyxpQkFBVCxDQUEyQixTQUEzQixFQUFzQztBQUMzQyxNQUFJLFVBQVUsU0FBVixPQUFVLENBQVMsU0FBVCxFQUFvQjtBQUNoQyxXQUFPLFNBQ0wsMkRBREssRUFFTCw0REFGSyxFQUdMLFNBSEssQ0FBUDtBQUlELEdBTEQ7QUFNQSxTQUFPLFVBQVUsU0FBVixFQUFxQixPQUFyQixDQUFQO0FBQ0Q7O0FBRU0sU0FBUyxpQkFBVCxDQUEyQixTQUEzQixFQUFzQztBQUMzQyxNQUFJLFVBQVUsU0FBVixPQUFVLENBQVMsU0FBVCxFQUFvQjtBQUNoQyxXQUFPLFNBQ0wsMkRBREssRUFFTCw0REFGSyxFQUdMLFNBSEssQ0FBUDtBQUlELEdBTEQ7QUFNQSxTQUFPLFVBQVUsU0FBVixFQUFxQixPQUFyQixDQUFQO0FBQ0Q7O0FBRU0sU0FBUyxlQUFULEdBQTJCO0FBQ2hDLFNBQU8sVUFBUyxLQUFULEVBQWdCO0FBQ3JCLFFBQUksQ0FBQyxTQUFTLElBQVQsQ0FBYyxFQUFFLElBQUYsQ0FBTyxLQUFQLENBQWQsQ0FBTCxFQUFtQztBQUNqQyxhQUFPLFFBQVEsOERBQVIsQ0FBUDtBQUNEO0FBQ0YsR0FKRDtBQUtEOztBQUVNLFNBQVMsaUJBQVQsQ0FBMkIsU0FBM0IsRUFBc0M7QUFDM0MsTUFBSSxVQUFVLFNBQVYsT0FBVSxDQUFTLFNBQVQsRUFBb0I7QUFDaEMsV0FBTyxTQUNMLGlFQURLLEVBRUwsa0VBRkssRUFHTCxTQUhLLENBQVA7QUFJRCxHQUxEO0FBTUEsU0FBTyxVQUFVLFNBQVYsRUFBcUIsT0FBckIsQ0FBUDtBQUNEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRm9ybSBmcm9tICcuL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJztcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJztcbmltcG9ydCB7IHVwZGF0ZUFjbCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1c2VybmFtZTogJydcbiAgICB9O1xuICB9XG5cbiAgb25Vc2VybmFtZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3VzZXJuYW1lJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXNlcm5hbWUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHVzZXIgbmFtZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdwYXJ0aWNpcGFudHMnLCB2YWx1ZTogdGhpcy5zdGF0ZS51c2VybmFtZX0sXG4gICAgICB7b3A6ICdhZGQnLCBwYXRoOiAnYWNsJywgdmFsdWU6IDF9XG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGRhdGEpIHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVBY2woZGF0YSkpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJOZXcgcGFydGljaXBhbnQgaGFzIGJlZW4gYWRkZWQgdG8gdGhyZWFkLlwiKSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLXNtXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwIGZvcj1cImlkX3VzZXJuYW1lXCIgbGFiZWw9e2dldHRleHQoXCJVc2VyIHRvIGFkZFwiKX0+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVzZXJuYW1lQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwYXJ0aWNpcGFudFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVmcmVzaCgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cblxuICBnZXRNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICAgIGdldHRleHQoXCJZb3UgaGF2ZSBzaWduZWQgaW4gYXMgJSh1c2VybmFtZSlzLiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIiksXG4gICAgICAgIHt1c2VybmFtZTogdGhpcy5wcm9wcy5zaWduZWRJbi51c2VybmFtZX0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaWduZWRPdXQpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91IGhhdmUgYmVlbiBzaWduZWQgb3V0LiBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZSBiZWZvcmUgY29udGludWluZy5cIiksXG4gICAgICAgIHt1c2VybmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNpZ25lZEluIHx8IHRoaXMucHJvcHMuc2lnbmVkT3V0KSB7XG4gICAgICByZXR1cm4gXCJhdXRoLW1lc3NhZ2Ugc2hvd1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJhdXRoLW1lc3NhZ2VcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMuZ2V0TWVzc2FnZSgpfTwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVmcmVzaH0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlJlbG9hZCBwYWdlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPiA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtIHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwib3IgcHJlc3MgRjUga2V5LlwiKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VyOiBzdGF0ZS5hdXRoLnVzZXIsXG4gICAgc2lnbmVkSW46IHN0YXRlLmF1dGguc2lnbmVkSW4sXG4gICAgc2lnbmVkT3V0OiBzdGF0ZS5hdXRoLnNpZ25lZE91dFxuICB9O1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHNpemUgPSBwcm9wcy5zaXplIHx8IDEwMDtcbiAgY29uc3Qgc2l6ZTJ4ID0gcHJvcHMuc2l6ZTJ4IHx8IHNpemU7XG5cbiAgcmV0dXJuIChcbiAgICA8aW1nXG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCAndXNlci1hdmF0YXInfVxuICAgICAgc3JjPXtnZXRTcmMocHJvcHMudXNlciwgc2l6ZSl9XG4gICAgICBzcmNTZXQ9e2dldFNyYyhwcm9wcy51c2VyLCBzaXplMngpfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJVc2VyIGF2YXRhclwiKX1cbiAgICAgIHdpZHRoPXtzaXplfVxuICAgICAgaGVpZ2h0PXtzaXplfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTcmModXNlciwgc2l6ZSkge1xuICBpZiAodXNlciAmJiB1c2VyLmlkKSB7XG4gICAgLy8ganVzdCBhdmF0YXIgaGFzaCwgc2l6ZSBhbmQgdXNlciBpZFxuICAgIHJldHVybiByZXNvbHZlQXZhdGFyRm9yU2l6ZSh1c2VyLmF2YXRhcnMsIHNpemUpLnVybDtcbiAgfSBlbHNlIHtcbiAgICAvLyBqdXN0IGFwcGVuZCBhdmF0YXIgc2l6ZSB0byBmaWxlIHRvIHByb2R1Y2Ugbm8tYXZhdGFyIHBsYWNlaG9sZGVyXG4gICAgcmV0dXJuIG1pc2Fnby5nZXQoJ0JMQU5LX0FWQVRBUl9VUkwnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUF2YXRhckZvclNpemUoYXZhdGFycywgc2l6ZSkge1xuICBsZXQgYXZhdGFyID0gYXZhdGFyc1swXTtcbiAgYXZhdGFycy5mb3JFYWNoKChhdikgPT4ge1xuICAgIGlmIChhdi5zaXplID49IHNpemUpIHtcbiAgICAgIGF2YXRhciA9IGF2O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhdmF0YXI7XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRSZWFzb25NZXNzYWdlKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5tZXNzYWdlLmh0bWwpIHtcbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxlYWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5tZXNzYWdlLmh0bWxcbiAgICAgICAgfX0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e3RoaXMucHJvcHMubWVzc2FnZS5wbGFpbn08L3A+O1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RXhwaXJhdGlvbk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZXhwaXJlcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZXhwaXJlcy5pc0FmdGVyKG1vbWVudCgpKSkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIGxldCB0aXRsZSA9IGludGVycG9sYXRlKFxuICAgICAgICAgIGdldHRleHQoXCJUaGlzIGJhbiBleHBpcmVzIG9uICUoZXhwaXJlc19vbilzLlwiKSwge1xuICAgICAgICAgICAgJ2V4cGlyZXNfb24nOiB0aGlzLnByb3BzLmV4cGlyZXMuZm9ybWF0KCdMTCwgTFQnKVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoXG4gICAgICAgICAgZ2V0dGV4dChcIlRoaXMgYmFuIGV4cGlyZXMgJShleHBpcmVzX29uKXMuXCIpLCB7XG4gICAgICAgICAgICAnZXhwaXJlc19vbic6IHRoaXMucHJvcHMuZXhwaXJlcy5mcm9tTm93KClcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9hYmJyPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaGFzIGV4cGlyZWQuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgYmFuIGlzIHBlcm1hbmVudC5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtZXJyb3IgcGFnZS1lcnJvci1iYW5uZWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5oaWdobGlnaHRfb2ZmPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRSZWFzb25NZXNzYWdlKCl9XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtZXNzYWdlLWZvb3Rub3RlXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldEV4cGlyYXRpb25NZXNzYWdlKCl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZSA9ICdidG4gJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgIGxldCBkaXNhYmxlZCA9IHRoaXMucHJvcHMuZGlzYWJsZWQ7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyBidG4tbG9hZGluZyc7XG4gICAgICBkaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9e3RoaXMucHJvcHMub25DbGljayA/ICdidXR0b24nIDogJ3N1Ym1pdCd9XG4gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja30+XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIHt0aGlzLnByb3BzLmxvYWRpbmcgPyA8TG9hZGVyIC8+IDogbnVsbH1cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5cbkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGNsYXNzTmFtZTogXCJidG4tZGVmYXVsdFwiLFxuXG4gIHR5cGU6IFwic3VibWl0XCIsXG5cbiAgbG9hZGluZzogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZSxcblxuICBvbkNsaWNrOiBudWxsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMYXN0QWN0aXZpdHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9sYXN0LWFjdGl2aXR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhZEljb24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9yZWFkLWljb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTdGF0cyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3N0YXRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3ViY2F0ZWdvcnlTdWJjYXRlZ29yaWVzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvc3ViY2F0ZWdvcnktc3ViY2F0ZWdvcmllcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgU3ViY2F0ZWdvcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSBjYXRlZ29yeS1zdWJjYXRlZ29yeSBzdWJjYXRlZ29yeS0nICsgdGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtIGNhdGVnb3J5LXN1YmNhdGVnb3J5JztcbiAgICB9XG4gIH1cblxuICBnZXREZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5kZXNjcmlwdGlvbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic3ViY2F0ZWdvcnktZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLmNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWxcbiAgICAgICAgICAgICAgICAgIH19IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3ViY2F0ZWdvcmllcygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxTdWJjYXRlZ29yeVN1YmNhdGVnb3JpZXMgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZS1yb3dcIj5cbiAgICAgICAgPGg0PlxuICAgICAgICAgIDxSZWFkSWNvbiBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cbiAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvaDQ+XG4gICAgICAgIDxTdGF0cyBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8TGFzdEFjdGl2aXR5IGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuXG4gICAgICB7dGhpcy5nZXREZXNjcmlwdGlvbigpfVxuICAgICAge3RoaXMuZ2V0U3ViY2F0ZWdvcmllcygpfVxuXG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIGNhdGVnb3J5LXN1YmNhdGVnb3JpZXNcIj5cbiAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4ge1xuICAgICAgICByZXR1cm4gPFN1YmNhdGVnb3J5IGNhdGVnb3J5PXtjYXRlZ29yeX0ga2V5PXtjYXRlZ29yeS5pZH0gLz47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeVN1YmNhdGVnb3JpZXMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9jYXRlZ29yeS1zdWJjYXRlZ29yaWVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGFzdEFjdGl2aXR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvbGFzdC1hY3Rpdml0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWRJY29uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3JpZXMvcmVhZC1pY29uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdGF0cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAncGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1jYXRlZ29yeSBwYW5lbC1jYXRlZ29yeS0nICsgdGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1jYXRlZ29yeSc7XG4gICAgfVxuICB9XG5cbiAgZ2V0SGVhZGluZ0NsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICdwYW5lbC1oZWFkaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdwYW5lbC1oZWFkaW5nIGhlYWRpbmctYWxvbmUnO1xuICAgIH1cbiAgfVxuXG4gIGdldENhdGVnb3J5RGVzY3JpcHRpb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgY2F0ZWdvcnktZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tcbiAgICAgICAgICAgICAgICAgICAgX19odG1sOiB0aGlzLnByb3BzLmNhdGVnb3J5LmRlc2NyaXB0aW9uLmh0bWxcbiAgICAgICAgICAgICAgICAgIH19IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3ViY2F0ZWdvcmllcygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxDYXRlZ29yeVN1YmNhdGVnb3JpZXMgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgaWQ9eydwYW5lbC1jYXRlZ29yeS0nICsgdGhpcy5wcm9wcy5jYXRlZ29yeS5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0SGVhZGluZ0NsYXNzTmFtZSgpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nLWluYmxvY2tcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmctdG9wLXJvd1wiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxSZWFkSWNvbiBjYXRlZ29yeT17dGhpcy5wcm9wcy5jYXRlZ29yeX0gLz5cbiAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5uYW1lfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPFN0YXRzIGNhdGVnb3J5PXt0aGlzLnByb3BzLmNhdGVnb3J5fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxMYXN0QWN0aXZpdHkgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFN1YmNhdGVnb3JpZXMoKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVEhSRUFEX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZSB0aHJlYWQtdGl0bGVcIj4lKHRocmVhZClzPC9hPic7XG5jb25zdCBMQVNUX1BPU1RfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2E+JztcblxuZXhwb3J0IGNsYXNzIExhc3RQb3N0TWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExhc3RQb3N0ZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0ZXJfdXJsKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfVVJMLCB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdGVyX3VybCksXG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShMQVNUX1BPU1RFUl9TUEFOLCB7XG4gICAgICAgIHVzZXI6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy5jYXRlZ29yeS5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFzdFRocmVhZCgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoVEhSRUFEX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF90aHJlYWRfdXJsKSxcbiAgICAgIHRocmVhZDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0TGFzdFJlcGx5RGF0ZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NUX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0X3VybCksXG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfcG9zdF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuY2F0ZWdvcnkubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LWxhc3QtcG9zdFwiXG4gICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogaW50ZXJwb2xhdGUoXG4gICAgICBlc2NhcGVIdG1sKGdldHRleHQoXCJMYXN0IHBvc3QgaW4gJSh0aHJlYWQpcyBieSAlKHVzZXIpcyAlKGRhdGUpc1wiKSksIHtcbiAgICAgICAgdGhyZWFkOiB0aGlzLmdldExhc3RUaHJlYWQoKSxcbiAgICAgICAgZGF0ZTogdGhpcy5nZXRMYXN0UmVwbHlEYXRlKCksXG4gICAgICAgIHVzZXI6IHRoaXMuZ2V0TGFzdFBvc3RlcigpXG4gICAgICB9LCB0cnVlKX19IC8+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVtcHR5TWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGVycm9yX291dGxpbmVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBpcyBlbXB0eS5cIil9XG4gICAgPC9wPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcml2YXRlTWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgPC9zcGFuPlxuICAgICAge2dldHRleHQoXCJUaGlzIGNhdGVnb3J5IGlzIHByaXZhdGUuIFlvdSBjYW4gc2VlIG9ubHkgeW91ciBvd24gdGhyZWFkcyB3aXRoaW4gaXQuXCIpfVxuICAgIDwvcD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvdGVjdGVkTWVzc2FnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRocmVhZC1tZXNzYWdlXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGhpZ2hsaWdodF9vZmZcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiVGhpcyBjYXRlZ29yeSBpcyBwcm90ZWN0ZWQuIFlvdSBjYW4ndCBicm93c2UgaXQncyBjb250ZW50cy5cIil9XG4gICAgPC9wPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmFjbC5jYW5fYnJvd3NlKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMuY2F0ZWdvcnkuYWNsLmNhbl9zZWVfYWxsX3RocmVhZHMpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPFByaXZhdGVNZXNzYWdlIC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5Lmxhc3RfdGhyZWFkX3RpdGxlKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMYXN0UG9zdE1lc3NhZ2UgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcnl9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPEVtcHR5TWVzc2FnZSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxQcm90ZWN0ZWRNZXNzYWdlIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ3JlYWQtc3RhdHVzIGl0ZW0tcmVhZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncmVhZC1zdGF0dXMgaXRlbS1uZXcnO1xuICAgIH1cbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX2Nsb3NlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfcmVhZCkge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5vIG5ldyBwb3N0cy4gKGNsb3NlZClcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgY2F0ZWdvcnkgaGFzIG5ldyBwb3N0cy4gKGNsb3NlZClcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBubyBuZXcgcG9zdHMuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldHRleHQoXCJUaGlzIGNhdGVnb3J5IGhhcyBuZXcgcG9zdHMuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcnkuaXNfY2xvc2VkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiAnbG9ja19vdXRsaW5lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnbG9jayc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmlzX3JlYWQpIHtcbiAgICAgICAgcmV0dXJuICdjaGF0X2J1YmJsZV9vdXRsaW5lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnY2hhdF9idWJibGUnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXRlZ29yeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL2NhdGVnb3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxubGV0IGh5ZHJhdGUgPSBmdW5jdGlvbihjYXRlZ29yeSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2F0ZWdvcnksIHtcbiAgICBsYXN0X3Bvc3Rfb246IGNhdGVnb3J5Lmxhc3RfcG9zdF9vbiA/IG1vbWVudChjYXRlZ29yeS5sYXN0X3Bvc3Rfb24pIDogbnVsbCxcbiAgICBzdWJjYXRlZ29yaWVzOiBjYXRlZ29yeS5zdWJjYXRlZ29yaWVzLm1hcChoeWRyYXRlKVxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY2F0ZWdvcmllczogbWlzYWdvLmdldCgnQ0FURUdPUklFUycpLm1hcChoeWRyYXRlKVxuICAgIH07XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhtaXNhZ28uZ2V0KCdDQVRFR09SSUVTX0FQSScpKTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhhcGkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAnY2F0ZWdvcmllcycsXG4gICAgICB1cmw6IGFwaSxcbiAgICAgIGZyZXF1ZW5jeTogMTgwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhdGVnb3JpZXM6IGRhdGEubWFwKGh5ZHJhdGUpXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHt0aGlzLnN0YXRlLmNhdGVnb3JpZXMubWFwKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e2NhdGVnb3J5fSBrZXk9e2NhdGVnb3J5LmlkfSAvPjtcbiAgICAgIH0pfVxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgfTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFRocmVhZHNDb3VudCgpIHtcbiAgICBsZXQgc3RyaW5nID0gbmdldHRleHQoXG4gICAgICBcIiUodGhyZWFkcylzIHRocmVhZFwiLFxuICAgICAgXCIlKHRocmVhZHMpcyB0aHJlYWRzXCIsXG4gICAgICB0aGlzLnByb3BzLmNhdGVnb3J5LnRocmVhZHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKHN0cmluZywge1xuICAgICAgJ3RocmVhZHMnOiB0aGlzLnByb3BzLmNhdGVnb3J5LnRocmVhZHNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFBvc3RzQ291bnQoKSB7XG4gICAgbGV0IHN0cmluZyA9IG5nZXR0ZXh0KFxuICAgICAgXCIlKHBvc3RzKXMgcG9zdFwiLFxuICAgICAgXCIlKHBvc3RzKXMgcG9zdHNcIixcbiAgICAgIHRoaXMucHJvcHMuY2F0ZWdvcnkucG9zdHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKHN0cmluZywge1xuICAgICAgJ3Bvc3RzJzogdGhpcy5wcm9wcy5jYXRlZ29yeS5wb3N0c1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lIGNhdGVnb3J5LXN0YXRzXCI+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktdGhyZWFkc1wiPlxuICAgICAgICB7dGhpcy5nZXRUaHJlYWRzQ291bnQoKX1cbiAgICAgIDwvbGk+XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiY2F0ZWdvcnktcG9zdHNcIj5cbiAgICAgICAge3RoaXMuZ2V0UG9zdHNDb3VudCgpfVxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdWJjYXRlZ29yeVN1YmNhdGVnb3JpZXMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcmllcy9zdWJjYXRlZ29yeS1zdWJjYXRlZ29yaWVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTdWJjYXRlZ29yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIHJldHVybiAnc3ViY2F0ZWdvcnkgc3ViY2F0ZWdvcnktJyArIHRoaXMucHJvcHMuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3N1YmNhdGVnb3J5JztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGk+XG4gICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybH1cbiAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3J5Lm5hbWV9XG4gICAgICA8L2E+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJsaXN0LWlubGluZSBzdWJjYXRlZ29yaWVzLWxpc3RcIj5cbiAgICAgIHt0aGlzLnByb3BzLmNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4ge1xuICAgICAgICByZXR1cm4gPFN1YmNhdGVnb3J5IGNhdGVnb3J5PXtjYXRlZ29yeX0ga2V5PXtjYXRlZ29yeS5pZH0gLz47XG4gICAgICB9KX1cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c2VsZWN0XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZSB8fCAnZm9ybS1jb250cm9sJ31cbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX1cbiAgICAgIGlkPXtwcm9wcy5pZCB8fCBudWxsfVxuICAgICAgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfVxuICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgID5cbiAgICAgIHtwcm9wcy5jaG9pY2VzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgIGRpc2FibGVkPXtpdGVtLmRpc2FibGVkIHx8IGZhbHNlfVxuICAgICAgICAgICAga2V5PXtpdGVtLnZhbHVlfVxuICAgICAgICAgICAgdmFsdWU9e2l0ZW0udmFsdWV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyctIC0gJy5yZXBlYXQoaXRlbS5sZXZlbCkgKyBpdGVtLmxhYmVsfVxuICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9zZWxlY3Q+XG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgZ2V0QXZhdGFyU2l6ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF90bXAuc2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYy5zaXplO1xuICAgIH1cbiAgfVxuXG4gIGdldEltYWdlUGF0aCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY3JvcF90bXAudXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLnVybDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBsZXQgY3JvcGl0ID0gJCgnLmNyb3AtZm9ybScpO1xuICAgIGNyb3BpdC53aWR0aCh0aGlzLmdldEF2YXRhclNpemUoKSk7XG5cbiAgICBjcm9waXQuY3JvcGl0KHtcbiAgICAgICd3aWR0aCc6IHRoaXMuZ2V0QXZhdGFyU2l6ZSgpLFxuICAgICAgJ2hlaWdodCc6IHRoaXMuZ2V0QXZhdGFyU2l6ZSgpLFxuICAgICAgJ2ltYWdlU3RhdGUnOiB7XG4gICAgICAgICdzcmMnOiB0aGlzLmdldEltYWdlUGF0aCgpXG4gICAgICB9LFxuICAgICAgb25JbWFnZUxvYWRlZDogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy51cGxvYWQpIHtcbiAgICAgICAgICAvLyBjZW50ZXIgdXBsb2FkZWQgaW1hZ2VcbiAgICAgICAgICBsZXQgem9vbUxldmVsID0gY3JvcGl0LmNyb3BpdCgnem9vbScpO1xuICAgICAgICAgIGxldCBpbWFnZVNpemUgPSBjcm9waXQuY3JvcGl0KCdpbWFnZVNpemUnKTtcblxuICAgICAgICAgIC8vIGlzIGl0IHdpZGVyIHRoYW4gdGFsbGVyP1xuICAgICAgICAgIGlmIChpbWFnZVNpemUud2lkdGggPiBpbWFnZVNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheWVkV2lkdGggPSAoaW1hZ2VTaXplLndpZHRoICogem9vbUxldmVsKTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRYID0gKGRpc3BsYXllZFdpZHRoIC0gdGhpcy5nZXRBdmF0YXJTaXplKCkpIC8gLTI7XG5cbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ29mZnNldCcsIHtcbiAgICAgICAgICAgICAgJ3gnOiBvZmZzZXRYLFxuICAgICAgICAgICAgICAneSc6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VTaXplLndpZHRoIDwgaW1hZ2VTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXllZEhlaWdodCA9IChpbWFnZVNpemUuaGVpZ2h0ICogem9vbUxldmVsKTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRZID0gKGRpc3BsYXllZEhlaWdodCAtIHRoaXMuZ2V0QXZhdGFyU2l6ZSgpKSAvIC0yO1xuXG4gICAgICAgICAgICBjcm9waXQuY3JvcGl0KCdvZmZzZXQnLCB7XG4gICAgICAgICAgICAgICd4JzogMCxcbiAgICAgICAgICAgICAgJ3knOiBvZmZzZXRZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnb2Zmc2V0Jywge1xuICAgICAgICAgICAgICAneCc6IDAsXG4gICAgICAgICAgICAgICd5JzogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVzZSBwcmVzZXJ2ZWQgY3JvcFxuICAgICAgICAgIGxldCBjcm9wID0gdGhpcy5wcm9wcy5vcHRpb25zLmNyb3Bfc3JjLmNyb3A7XG4gICAgICAgICAgaWYgKGNyb3ApIHtcbiAgICAgICAgICAgIGNyb3BpdC5jcm9waXQoJ3pvb20nLCBjcm9wLnpvb20pO1xuICAgICAgICAgICAgY3JvcGl0LmNyb3BpdCgnb2Zmc2V0Jywge1xuICAgICAgICAgICAgICAneCc6IGNyb3AueCxcbiAgICAgICAgICAgICAgJ3knOiBjcm9wLnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgJCgnLmNyb3AtZm9ybScpLmNyb3BpdCgnZGlzYWJsZScpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjcm9wQXZhdGFyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcblxuICAgIGxldCBhdmF0YXJUeXBlID0gdGhpcy5wcm9wcy51cGxvYWQgPyAnY3JvcF90bXAnIDogJ2Nyb3Bfc3JjJztcbiAgICBsZXQgY3JvcGl0ID0gJCgnLmNyb3AtZm9ybScpO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhciwge1xuICAgICAgJ2F2YXRhcic6IGF2YXRhclR5cGUsXG4gICAgICAnY3JvcCc6IHtcbiAgICAgICAgJ29mZnNldCc6IGNyb3BpdC5jcm9waXQoJ29mZnNldCcpLFxuICAgICAgICAnem9vbSc6IGNyb3BpdC5jcm9waXQoJ3pvb20nKVxuICAgICAgfVxuICAgIH0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShkYXRhKTtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZGF0YS5kZXRhaWwpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItY3JvcFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyb3AtZm9ybVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3JvcGl0LXByZXZpZXdcIj48L2Rpdj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgY2xhc3NOYW1lPVwiY3JvcGl0LWltYWdlLXpvb20taW5wdXRcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5jcm9wQXZhdGFyfVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnVwbG9hZCA/IGdldHRleHQoXCJTZXQgYXZhdGFyXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiQ3JvcCBpbWFnZVwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeUl0ZW0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdCh0aGlzLnByb3BzLmlkKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uID09PSB0aGlzLnByb3BzLmlkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyIGJ0bi1kaXNhYmxlZCBhdmF0YXItc2VsZWN0ZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBhdmF0YXItc2VsZWN0ZWQnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuICdidG4gYnRuLWF2YXRhciBidG4tZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2J0biBidG4tYXZhdGFyJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdH0+XG4gICAgICA8aW1nIHNyYz17dGhpcy5wcm9wcy51cmx9IC8+XG4gICAgPC9idXR0b24+XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FsbGVyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFycy1nYWxsZXJ5XCI+XG4gICAgICA8aDM+e3RoaXMucHJvcHMubmFtZX08L2gzPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhcnMtZ2FsbGVyeS1pbWFnZXNcIj5cbiAgICAgICAge2JhdGNoKHRoaXMucHJvcHMuaW1hZ2VzLCA0LCBudWxsKS5tYXAoKHJvdywgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIGtleT17aX0+XG4gICAgICAgICAgICB7cm93Lm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtM1wiIGtleT17aX0+XG4gICAgICAgICAgICAgICAge2l0ZW0gPyA8R2FsbGVyeUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdD17dGhpcy5wcm9wcy5zZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5pdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA6IDxkaXYgY2xhc3NOYW1lPVwiYmxhbmstYXZhdGFyXCIgLz59XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnc2VsZWN0aW9uJzogbnVsbCxcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdCA9IChpbWFnZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0aW9uOiBpbWFnZVxuICAgIH0pO1xuICB9O1xuXG4gIHNhdmUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhciwge1xuICAgICAgYXZhdGFyOiAnZ2FsbGVyaWVzJyxcbiAgICAgIGltYWdlOiB0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHJlc3BvbnNlKTtcbiAgICAgIHRoaXMucHJvcHMuc2hvd0luZGV4KCk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1nYWxsZXJ5XCI+XG5cbiAgICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5nYWxsZXJpZXMubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxHYWxsZXJ5IG5hbWU9e2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzPXtpdGVtLmltYWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q9e3RoaXMuc2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9IC8+O1xuICAgICAgICB9KX1cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTYgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5zYXZlfVxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnkgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlbGVjdGlvbiA/IGdldHRleHQoXCJTYXZlIGNob2ljZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXh0KFwiU2VsZWN0IGF2YXRhclwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMucHJvcHMuc2hvd0luZGV4fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNhbGxBcGkoYXZhdGFyVHlwZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC5hdmF0YXIsIHtcbiAgICAgIGF2YXRhcjogYXZhdGFyVHlwZVxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MocmVzcG9uc2UuZGV0YWlsKTtcbiAgICAgIHRoaXMucHJvcHMub25Db21wbGV0ZShyZXNwb25zZSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zaG93RXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2V0R3JhdmF0YXIgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKCdncmF2YXRhcicpO1xuICB9O1xuXG4gIHNldEdlbmVyYXRlZCA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoJ2dlbmVyYXRlZCcpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldEdyYXZhdGFyQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuZ3JhdmF0YXIpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMuc2V0R3JhdmF0YXJ9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrIGJ0bi1hdmF0YXItZ3JhdmF0YXJcIj5cbiAgICAgICAge2dldHRleHQoXCJEb3dubG9hZCBteSBHcmF2YXRhclwiKX1cbiAgICAgIDwvQnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENyb3BCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5jcm9wX3NyYykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93Q3JvcH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tYmxvY2sgYnRuLWF2YXRhci1jcm9wXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmUtY3JvcCB1cGxvYWRlZCBpbWFnZVwiKX1cbiAgICAgIDwvQnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVwbG9hZEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnVwbG9hZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93VXBsb2FkfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLXVwbG9hZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlVwbG9hZCBuZXcgaW1hZ2VcIil9XG4gICAgICA8L0J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRHYWxsZXJ5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMuZ2FsbGVyaWVzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnByb3BzLnNob3dHYWxsZXJ5fVxuICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdhbGxlcnlcIj5cbiAgICAgICAge2dldHRleHQoXCJQaWNrIGF2YXRhciBmcm9tIGdhbGxlcnlcIil9XG4gICAgICA8L0J1dHRvbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRBdmF0YXJQcmV2aWV3KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgdXNlclBldmlldyA9IHtcbiAgICAgIGlkOiB0aGlzLnByb3BzLnVzZXIuaWQsXG4gICAgICBhdmF0YXJzOiB0aGlzLnByb3BzLm9wdGlvbnMuYXZhdGFyc1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkaW5nKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItcHJldmlldyBwcmV2aWV3LWxvYWRpbmdcIj5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt1c2VyUGV2aWV3fSBzaXplPVwiMjAwXCIgLz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXByZXZpZXdcIj5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt1c2VyUGV2aWV3fSBzaXplPVwiMjAwXCIgLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1vZGFsLWF2YXRhci1pbmRleFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNVwiPlxuXG4gICAgICAgICAge3RoaXMuZ2V0QXZhdGFyUHJldmlldygpfVxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC03XCI+XG5cbiAgICAgICAgICB7dGhpcy5nZXRHcmF2YXRhckJ1dHRvbigpfVxuXG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnNldEdlbmVyYXRlZH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9jayBidG4tYXZhdGFyLWdlbmVyYXRlXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkdlbmVyYXRlIG15IGluZGl2aWR1YWwgYXZhdGFyXCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAge3RoaXMuZ2V0Q3JvcEJ1dHRvbigpfVxuICAgICAgICAgIHt0aGlzLmdldFVwbG9hZEJ1dHRvbigpfVxuICAgICAgICAgIHt0aGlzLmdldEdhbGxlcnlCdXR0b24oKX1cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXJJbmRleCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXJVcGxvYWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2hhbmdlLWF2YXRhci91cGxvYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXJHYWxsZXJ5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvZ2FsbGVyeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IHVwZGF0ZUF2YXRhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgQ2hhbmdlQXZhdGFyRXJyb3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRFcnJvclJlYXNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yZWFzb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogdGhpcy5wcm9wcy5yZWFzb259fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHJlbW92ZV9jaXJjbGVfb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIHt0aGlzLmdldEVycm9yUmVhc29uKCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhcikudGhlbigob3B0aW9ucykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdjb21wb25lbnQnOiBBdmF0YXJJbmRleCxcbiAgICAgICAgJ29wdGlvbnMnOiBvcHRpb25zLFxuICAgICAgICAnZXJyb3InOiBudWxsXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNob3dFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93RXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGVycm9yXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd0luZGV4ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2NvbXBvbmVudCc6IEF2YXRhckluZGV4XG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd1VwbG9hZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJVcGxvYWRcbiAgICB9KTtcbiAgfTtcblxuICBzaG93Q3JvcCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJDcm9wXG4gICAgfSk7XG4gIH07XG5cbiAgc2hvd0dhbGxlcnkgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnY29tcG9uZW50JzogQXZhdGFyR2FsbGVyeVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbXBsZXRlRmxvdyA9IChvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQXZhdGFyKHRoaXMucHJvcHMudXNlciwgb3B0aW9ucy5hdmF0YXJzKSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdjb21wb25lbnQnOiBBdmF0YXJJbmRleCxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8Q2hhbmdlQXZhdGFyRXJyb3IgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvci5kZXRhaWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uPXt0aGlzLnN0YXRlLmVycm9yLnJlYXNvbn0gLz47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8dGhpcy5zdGF0ZS5jb21wb25lbnQgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlPXt0aGlzLmNvbXBsZXRlRmxvd31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3I9e3RoaXMuc2hvd0Vycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJbmRleD17dGhpcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nyb3A9e3RoaXMuc2hvd0Nyb3B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1VwbG9hZD17dGhpcy5zaG93VXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dHYWxsZXJ5PXt0aGlzLnNob3dHYWxsZXJ5fSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMb2FkZXIgLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgIGlmICh0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLWNoYW5nZS1hdmF0YXJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwibW9kYWwtZGlhbG9nIG1vZGFsLWNoYW5nZS1hdmF0YXJcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgeW91ciBhdmF0YXJcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge3RoaXMuZ2V0Qm9keSgpfVxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgJ3VzZXInOiBzdGF0ZS5hdXRoLnVzZXJcbiAgfTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXZhdGFyQ3JvcCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jaGFuZ2UtYXZhdGFyL2Nyb3AnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGZpbGVTaXplIGZyb20gJ21pc2Fnby91dGlscy9maWxlLXNpemUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpbWFnZSc6IG51bGwsXG4gICAgICAncHJldmlldyc6IG51bGwsXG4gICAgICAncHJvZ3Jlc3MnOiAwLFxuICAgICAgJ3VwbG9hZGVkJzogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgdmFsaWRhdGVGaWxlKGltYWdlKSB7XG4gICAgaWYgKGltYWdlLnNpemUgPiB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmxpbWl0KSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNlbGVjdGVkIGZpbGUgaXMgdG9vIGJpZy4gKCUoZmlsZXNpemUpcylcIiksIHtcbiAgICAgICAgJ2ZpbGVzaXplJzogZmlsZVNpemUoaW1hZ2Uuc2l6ZSlcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cblxuICAgIGxldCBpbnZhbGlkVHlwZU1zZyA9IGdldHRleHQoXCJTZWxlY3RlZCBmaWxlIHR5cGUgaXMgbm90IHN1cHBvcnRlZC5cIik7XG4gICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQuYWxsb3dlZF9taW1lX3R5cGVzLmluZGV4T2YoaW1hZ2UudHlwZSkgPT09IC0xKSB7XG4gICAgICByZXR1cm4gaW52YWxpZFR5cGVNc2c7XG4gICAgfVxuXG4gICAgbGV0IGV4dGVuc2lvbkZvdW5kID0gZmFsc2U7XG4gICAgbGV0IGxvd2VyZWRGaWxlbmFtZSA9IGltYWdlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3BzLm9wdGlvbnMudXBsb2FkLmFsbG93ZWRfZXh0ZW5zaW9ucy5tYXAoZnVuY3Rpb24oZXh0ZW5zaW9uKSB7XG4gICAgICBpZiAobG93ZXJlZEZpbGVuYW1lLnN1YnN0cihleHRlbnNpb24ubGVuZ3RoICogLTEpID09PSBleHRlbnNpb24pIHtcbiAgICAgICAgZXh0ZW5zaW9uRm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCFleHRlbnNpb25Gb3VuZCkge1xuICAgICAgcmV0dXJuIGludmFsaWRUeXBlTXNnO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgcGlja0ZpbGUgPSAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F2YXRhci1oaWRkZW4tdXBsb2FkJykuY2xpY2soKTtcbiAgfTtcblxuICB1cGxvYWRGaWxlID0gKCkgPT4ge1xuICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdmF0YXItaGlkZGVuLXVwbG9hZCcpLmZpbGVzWzBdO1xuXG4gICAgbGV0IHZhbGlkYXRpb25FcnJvciA9IHRoaXMudmFsaWRhdGVGaWxlKGltYWdlKTtcbiAgICBpZiAodmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih2YWxpZGF0aW9uRXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW1hZ2UsXG4gICAgICAncHJldmlldyc6IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2UpLFxuICAgICAgJ3Byb2dyZXNzJzogMFxuICAgIH0pO1xuXG4gICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBkYXRhLmFwcGVuZCgnYXZhdGFyJywgJ3VwbG9hZCcpO1xuICAgIGRhdGEuYXBwZW5kKCdpbWFnZScsIGltYWdlKTtcblxuICAgIGFqYXgudXBsb2FkKHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmF2YXRhciwgZGF0YSwgKHByb2dyZXNzKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcHJvZ3Jlc3NcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnb3B0aW9ucyc6IGRhdGEsXG4gICAgICAgICd1cGxvYWRlZCc6IGRhdGEuZGV0YWlsXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmluZm8oZ2V0dGV4dChcIllvdXIgaW1hZ2UgaGFzIGJlZW4gdXBsb2FkZWQgYW5kIHlvdSBtYXkgbm93IGNyb3AgaXQuXCIpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwIHx8IHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMykge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuICAgICAgICAgICdpbWFnZSc6IG51bGwsXG4gICAgICAgICAgJ3Byb2dyZXNzJzogMFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuc2hvd0Vycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKG9wdGlvbnMpIHtcbiAgICBsZXQgZXh0ZW5zaW9ucyA9IG9wdGlvbnMuYWxsb3dlZF9leHRlbnNpb25zLm1hcChmdW5jdGlvbihleHRlbnNpb24pIHtcbiAgICAgIHJldHVybiBleHRlbnNpb24uc3Vic3RyKDEpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKGZpbGVzKXMgZmlsZXMgc21hbGxlciB0aGFuICUobGltaXQpc1wiKSwge1xuICAgICAgICAnZmlsZXMnOiBleHRlbnNpb25zLmpvaW4oJywgJyksXG4gICAgICAgICdsaW1pdCc6IGZpbGVTaXplKG9wdGlvbnMubGltaXQpXG4gICAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldFVwbG9hZEJ1dHRvbigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXBpY2stZmlsZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waWNrRmlsZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBpbnB1dFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IGZpbGVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAge3RoaXMuZ2V0VXBsb2FkUmVxdWlyZW1lbnRzKHRoaXMucHJvcHMub3B0aW9ucy51cGxvYWQpfVxuICAgICAgICA8L3A+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzc0xhYmVsKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJShwcm9ncmVzcylzICUgY29tcGxldGVcIiksIHtcbiAgICAgICAgJ3Byb2dyZXNzJzogdGhpcy5zdGF0ZS5wcm9ncmVzc1xuICAgICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBnZXRVcGxvYWRQcm9ncmVzcygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1hdmF0YXItdXBsb2FkXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXByb2dyZXNzXCI+XG4gICAgICAgICAgPGltZyBzcmM9e3RoaXMuc3RhdGUucHJldmlld30gLz5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZ3Jlc3MtYmFyXCIgcm9sZT1cInByb2dyZXNzYmFyXCJcbiAgICAgICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz1cInt0aGlzLnN0YXRlLnByb2dyZXNzfVwiXG4gICAgICAgICAgICAgICAgIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHRoaXMuc3RhdGUucHJvZ3Jlc3MgKyAnJSd9fT5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPnt0aGlzLmdldFVwbG9hZFByb2dyZXNzTGFiZWwoKX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXJVcGxvYWQoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICBpZD1cImF2YXRhci1oaWRkZW4tdXBsb2FkXCJcbiAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW4tZmlsZS11cGxvYWRcIlxuICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwbG9hZEZpbGV9IC8+XG4gICAgICB7dGhpcy5zdGF0ZS5pbWFnZSA/IHRoaXMuZ2V0VXBsb2FkUHJvZ3Jlc3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFVwbG9hZEJ1dHRvbigpfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBjb2wtbWQtb2Zmc2V0LTNcIj5cblxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17dGhpcy5wcm9wcy5zaG93SW5kZXh9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ISF0aGlzLnN0YXRlLmltYWdlfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ3JvcCgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxBdmF0YXJDcm9wIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWQ9e3RoaXMuc3RhdGUudXBsb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU9e3RoaXMucHJvcHMub25Db21wbGV0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yPXt0aGlzLnByb3BzLnNob3dFcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luZGV4PXt0aGlzLnByb3BzLnNob3dJbmRleH0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuICh0aGlzLnN0YXRlLnVwbG9hZGVkID8gdGhpcy5yZW5kZXJDcm9wKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnJlbmRlclVwbG9hZCgpKTtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZHJvcGRvd24pIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBidG4taWNvbiBidG4tZHJvcGRvd24tdG9nZ2xlIG9wZW4gaGlkZGVuLW1kIGhpZGRlbi1sZ1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLWFsaWduZWQgYnRuLWljb24gYnRuLWRyb3Bkb3duLXRvZ2dsZSBoaWRkZW4tbWQgaGlkZGVuLWxnXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVOYXZ9XG4gICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZHJvcGRvd24gPyAndHJ1ZScgOiAnZmFsc2UnfT5cbiAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgbWVudVxuICAgICAgPC9pPlxuICAgIDwvYnV0dG9uPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmVwbGFjZVNlbGVjdGlvbih0aGlzLnByb3BzLmV4ZWNBY3Rpb24pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9eydidG4gYnRuLWljb24gJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRDb2RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgY29kZVwiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZ1bmN0aW9uc1xuICAgICAgPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0Q29kZShzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgY29uc3Qgc3ludGF4ID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbmFtZSBvZiBzeW50YXggb2YgeW91ciBjb2RlIChvcHRpb25hbClcIikgKyAnOicpKTtcbiAgcmVwbGFjZShcIlxcblxcbmBgYFwiICsgc3ludGF4ICsgJ1xcbicgKyBzZWxlY3Rpb24gKyBcIlxcbmBgYFxcblxcblwiKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17bWFrZUVtcGhhc2lzfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJFbXBoYXNlIHNlbGVjdGlvblwiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZvcm1hdF9pdGFsaWNcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VFbXBoYXNpcyhzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCcqJyArIHNlbGVjdGlvbiArICcqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFjdGlvbiBmcm9tICcuL2FjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEFjdGlvblxuICAgICAgZXhlY0FjdGlvbj17aW5zZXJ0SHJ9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIkluc2VydCBob3Jpem9udGFsIHJ1bGVyXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlXG4gICAgICA8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRIcihzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgcmVwbGFjZSgnXFxuXFxuLSAtIC0gLSAtXFxuXFxuJyk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydEltYWdlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgaW1hZ2VcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBpbnNlcnRfcGhvdG9cbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEltYWdlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayB0byBpbWFnZVwiKSArICc6JywgdXJsKSk7XG4gIGxhYmVsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgaW1hZ2UgbGFiZWwgKG9wdGlvbmFsKVwiKSArICc6JywgbGFiZWwpKTtcblxuICBpZiAodXJsLmxlbmd0aCkge1xuICAgIGlmIChsYWJlbC5sZW5ndGggPiAwKSB7XG4gICAgICByZXBsYWNlKCchWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCchKCcgKyB1cmwgKyAnKScpO1xuICAgIH1cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcbmltcG9ydCBpc1VybCBmcm9tICdtaXNhZ28vdXRpbHMvaXMtdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXtpbnNlcnRMaW5rfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgbGlua1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGluc2VydF9saW5rXG4gICAgICA8L3NwYW4+XG4gICAgPC9BY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRMaW5rKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdXJsID0gJyc7XG4gIGxldCBsYWJlbCA9ICcnO1xuXG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgaWYgKGlzVXJsKHNlbGVjdGlvbikpIHtcbiAgICAgIHVybCA9IHNlbGVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFiZWwgPSBzZWxlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgdXJsID0gJC50cmltKHByb21wdChnZXR0ZXh0KFwiRW50ZXIgbGluayBhZGRyZXNzXCIpICsgJzonLCB1cmwpKTtcbiAgbGFiZWwgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBsaW5rIGxhYmVsIChvcHRpb25hbClcIikgKyAnOicsIGxhYmVsKSk7XG5cbiAgaWYgKHVybC5sZW5ndGgpIHtcbiAgICBpZiAobGFiZWwubGVuZ3RoID4gMCkge1xuICAgICAgcmVwbGFjZSgnWycgKyBsYWJlbCArICddKCcgKyB1cmwgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKHVybCk7XG4gICAgfVxuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuaW1wb3J0IGlzVXJsIGZyb20gJ21pc2Fnby91dGlscy9pcy11cmwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e2luc2VydFF1b3RlfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJJbnNlcnQgcXVvdGVcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3JtYXRfcXVvdGVcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFF1b3RlKHNlbGVjdGlvbiwgcmVwbGFjZSkge1xuICBsZXQgdGl0bGUgPSAkLnRyaW0ocHJvbXB0KGdldHRleHQoXCJFbnRlciBxdW90ZSBhdXRvciwgcHJlZml4IHVzZXJuYW1lcyB3aXRoIEBcIikgKyAnOicsIHRpdGxlKSk7XG5cbiAgaWYgKHRpdGxlKSB7XG4gICAgcmVwbGFjZSgnXFxuXFxuW3F1b3RlPVwiJyArIHRpdGxlICsgJ1wiXVxcbicgKyBzZWxlY3Rpb24gKyAnXFxuWy9xdW90ZV1cXG5cXG4nKTtcbiAgfSBlbHNlIHtcbiAgICByZXBsYWNlKCdcXG5cXG5bcXVvdGVdXFxuJyArIHNlbGVjdGlvbiArICdcXG5bL3F1b3RlXVxcblxcbicpO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBY3Rpb24gZnJvbSAnLi9hY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxBY3Rpb25cbiAgICAgIGV4ZWNBY3Rpb249e21ha2VTdHJpa2V0cm91Z2h9XG4gICAgICB0aXRsZT17Z2V0dGV4dChcIlN0cmlrZXRyb3VnaCBzZWxlY3Rpb25cIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBmb3JtYXRfc3RyaWtldGhyb3VnaFxuICAgICAgPC9zcGFuPlxuICAgIDwvQWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVN0cmlrZXRyb3VnaChzZWxlY3Rpb24sIHJlcGxhY2UpIHtcbiAgaWYgKHNlbGVjdGlvbi5sZW5ndGgpIHtcbiAgICByZXBsYWNlKCd+ficgKyBzZWxlY3Rpb24gKyAnfn4nKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWN0aW9uIGZyb20gJy4vYWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QWN0aW9uXG4gICAgICBleGVjQWN0aW9uPXttYWtlU3Ryb25nfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJCb2xkZXIgc2VsZWN0aW9uXCIpfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZm9ybWF0X2JvbGRcbiAgICAgIDwvc3Bhbj5cbiAgICA8L0FjdGlvbj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTdHJvbmcoc2VsZWN0aW9uLCByZXBsYWNlKSB7XG4gIGlmIChzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgcmVwbGFjZSgnKionICsgc2VsZWN0aW9uICsgJyoqJyk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkluc2VydCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLnJlcGxhY2VTZWxlY3Rpb24odGhpcy5pbnNlcnRBdHRhY2htZW50KTtcbiAgfTtcblxuICBpbnNlcnRBdHRhY2htZW50ID0gKHNlbGVjdGlvbiwgcmVwbGFjZSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnByb3BzLml0ZW07XG5cbiAgICBpZiAoaXRlbS5pc19pbWFnZSkge1xuICAgICAgaWYgKGl0ZW0udXJsLnRodW1iKSB7XG4gICAgICAgIHJlcGxhY2UoJ1shWycgKyBpdGVtLmZpbGVuYW1lICsgJ10oJyArIGl0ZW0udXJsLnRodW1iICsgJyldKCcgKyBpdGVtLnVybC5pbmRleCArICcpJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXBsYWNlKCdbIVsnICsgaXRlbS5maWxlbmFtZSArICddKCcgKyBpdGVtLnVybC5pbmRleCArICcpXSgnICsgaXRlbS51cmwuaW5kZXggKyAnKScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXBsYWNlKCdbJyArIGl0ZW0uZmlsZW5hbWUgKyAnXSgnICsgaXRlbS51cmwuaW5kZXggKyAnKScpO1xuICAgIH1cbiAgfTtcblxuICBvblJlbW92ZSA9ICgpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUl0ZW0oe1xuICAgICAgaXNSZW1vdmVkOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgb25VbmRvID0gKCkgPT4ge1xuICAgIHRoaXMudXBkYXRlSXRlbSh7XG4gICAgICBpc1JlbW92ZWQ6IGZhbHNlXG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlSXRlbSA9IChuZXdTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRBdHRhY2htZW50cyA9IHRoaXMucHJvcHMuYXR0YWNobWVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5pZCA9PT0gdGhpcy5wcm9wcy5pdGVtLmlkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCBuZXdTdGF0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodXBkYXRlZEF0dGFjaG1lbnRzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1jb21wbGV0ZVwiPlxuICAgICAgICA8UHJldmlldyB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPEFjdGlvbnNcbiAgICAgICAgICBvbkluc2VydD17dGhpcy5vbkluc2VydH1cbiAgICAgICAgICBvblJlbW92ZT17dGhpcy5vblJlbW92ZX1cbiAgICAgICAgICBvblVuZG89e3RoaXMub25VbmRvfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWRldGFpbHNcIj5cbiAgICAgICAgICA8RmlsZW5hbWUgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPERldGFpbHMgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUHJldmlldyhwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbS5pc19pbWFnZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8SW1hZ2Ugey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxJY29uIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbWFnZShwcm9wcykge1xuICBjb25zdCB0aHVtYm5haWxVcmwgPSBwcm9wcy5pdGVtLnVybC50aHVtYiB8fCBwcm9wcy5pdGVtLnVybC5pbmRleDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtaW1hZ2VcIj5cbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3Byb3BzLml0ZW0udXJsLmluZGV4ICsgJz9zaHZhPTEnfVxuICAgICAgICBzdHlsZT17e2JhY2tncm91bmRJbWFnZTogXCJ1cmwoJ1wiICsgdGh1bWJuYWlsVXJsICsgXCI/c2h2YT0xJylcIn19XG4gICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWljb25cIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgaW5zZXJ0X2RyaXZlX2ZpbGVcbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpbGVuYW1lKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGg0PlxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgIGhyZWY9e3Byb3BzLml0ZW0udXJsLmluZGV4ICsgJz9zaHZhPTEnfVxuICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgPlxuICAgICAgICB7cHJvcHMuaXRlbS5maWxlbmFtZX1cbiAgICAgIDwvYT5cbiAgICA8L2g0PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy5pdGVtLnVybC51cGxvYWRlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXJsLnVwbG9hZGVyKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLml0ZW0udXBsb2FkZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuaXRlbS51cGxvYWRlZF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCB1cGxvYWRlZCBieSAlKHVwbG9hZGVyKXMgJSh1cGxvYWRlZF9vbilzLlwiKSksIHtcbiAgICBmaWxldHlwZTogcHJvcHMuaXRlbS5maWxldHlwZSxcbiAgICBzaXplOiBmb3JtYXRGaWxlc2l6ZShwcm9wcy5pdGVtLnNpemUpLFxuICAgIHVwbG9hZGVyOiB1c2VyLFxuICAgIHVwbG9hZGVkX29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQWN0aW9ucyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIGVkaXRvci1hdHRhY2htZW50LWFjdGlvbnNcIj5cbiAgICAgIDxJbnNlcnQgey4uLnByb3BzfSAvPlxuICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5kbyB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluc2VydChwcm9wcykge1xuICBpZiAoISFwcm9wcy5pdGVtLmlzUmVtb3ZlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc21cIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkluc2VydH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiSW5zZXJ0XCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZShwcm9wcykge1xuICBpZiAoISFwcm9wcy5pdGVtLmlzUmVtb3ZlZCAmJiBwcm9wcy5pdGVtLmFjbC5jYW5fZGVsZXRlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uUmVtb3ZlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJSZW1vdmVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVW5kbyhwcm9wcykge1xuICBpZiAoIXByb3BzLml0ZW0uaXNSZW1vdmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLm9uVW5kb31cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiVW5kbyByZW1vdmFsXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgPC9saT5cbiAgKTtcbn1cbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBTVFJPTkcgPSAnPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZEF0dGFjaG1lbnRzID0gdGhpcy5wcm9wcy5hdHRhY2htZW50cy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmtleSAhPT0gdGhpcy5wcm9wcy5pdGVtLmtleTtcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UoZmlsdGVyZWRBdHRhY2htZW50cyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoU1RST05HLCB7XG4gICAgICBuYW1lOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMuaXRlbS5maWxlbmFtZSlcbiAgICB9LCB0cnVlKTtcblxuICAgIGNvbnN0IHRpdGxlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkVycm9yIHVwbG9hZGluZyAlKGZpbGVuYW1lKXNcIiksIHtcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvcHMuaXRlbS5wcm9ncmVzcyArICclJ1xuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LWVycm9yLWljb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB3YXJuaW5nXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC1lcnJvci1tZXNzYWdlXCI+XG4gICAgICAgICAgPGg0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiB0aXRsZSArICc6J319IC8+XG4gICAgICAgICAgPHA+e3RoaXMucHJvcHMuaXRlbS5lcnJvcn08L3A+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkRpc21pc3NcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59OyIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXR0YWNobWVudENvbXBsZXRlIGZyb20gJy4vY29tcGxldGUnO1xuaW1wb3J0IEF0dGFjaG1lbnRFcnJvciBmcm9tICcuL2Vycm9yJztcbmltcG9ydCBBdHRhY2htZW50VXBsb2FkIGZyb20gJy4vdXBsb2FkJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pdGVtLmlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBdHRhY2htZW50Q29tcGxldGUgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMuaXRlbS5lcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8QXR0YWNobWVudEVycm9yIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8QXR0YWNobWVudFVwbG9hZCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBTVFJPTkcgPSAnPHN0cm9uZz4lKG5hbWUpczwvc3Ryb25nPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IGZpbGVuYW1lID0gaW50ZXJwb2xhdGUoU1RST05HLCB7XG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5pdGVtLmZpbGVuYW1lKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIlVwbG9hZGluZyAlKGZpbGVuYW1lKXMuLi4gJShwcm9ncmVzcylzXCIpLCB7XG4gICAgZmlsZW5hbWUsXG4gICAgcHJvZ3Jlc3M6IHByb3BzLml0ZW0ucHJvZ3Jlc3MgKyAnJSdcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtdXBsb2FkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvci1hdHRhY2htZW50LXByb2dyZXNzLWJhclwiPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnQtcHJvZ3Jlc3NcIlxuICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHByb3BzLml0ZW0ucHJvZ3Jlc3MgKyAnJSd9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8cFxuICAgICAgICBjbGFzc05hbWU9XCJlZGl0b3ItYXR0YWNobWVudC11cGxvYWQtbWVzc2FnZVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX1cbiAgICAgIC8+XG4gICAgPC9saT5cbiAgKTtcbn07IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaXN0IGZyb20gJy4vbGlzdCc7XG5pbXBvcnQgVXBsb2FkZXIgZnJvbSAnLi91cGxvYWRlcic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghbWlzYWdvLmdldCgndXNlcicpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdG9yLWF0dGFjaG1lbnRzXCI+XG4gICAgICA8TGlzdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VXBsb2FkZXIgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXR0YWNobWVudCBmcm9tICcuL2F0dGFjaG1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGVkaXRvci1hdHRhY2htZW50cy1saXN0XCI+XG4gICAgICB7cHJvcHMuYXR0YWNobWVudHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEF0dGFjaG1lbnQgaXRlbT17aXRlbX0ga2V5PXtpdGVtLmlkIHx8IGl0ZW0ua2V5fSB7Li4ucHJvcHN9IC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufTtcbiIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yLXVwbG9hZC1maWVsZCcpLmNsaWNrKCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghbWlzYWdvLmdldCgndXNlcicpLmFjbC5tYXhfYXR0YWNobWVudF9zaXplKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9eydidG4gYnRuLWljb24gJyArIHRoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dCgnVXBsb2FkIGZpbGUnKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBmaWxlX3VwbG9hZFxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9XG59O1xuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTtcbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdXBsb2FkID0ge1xuICAgICAgaWQ6IG51bGwsXG4gICAgICBrZXk6IGdldFJhbmRvbUtleSgpLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGZpbGVuYW1lOiBmaWxlLm5hbWVcbiAgICB9O1xuXG4gICAgdGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlKFt1cGxvYWRdLmNvbmNhdCh0aGlzLnByb3BzLmF0dGFjaG1lbnRzKSk7XG5cbiAgICBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZGF0YS5hcHBlbmQoJ3VwbG9hZCcsIGZpbGUpO1xuXG4gICAgYWpheC51cGxvYWQobWlzYWdvLmdldCgnQVRUQUNITUVOVFNfQVBJJyksIGRhdGEsIChwcm9ncmVzcykgPT4ge1xuICAgICAgdXBsb2FkLnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSk7XG4gICAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgZGF0YS51cGxvYWRlZF9vbiA9IG1vbWVudChkYXRhLnVwbG9hZGVkX29uKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odXBsb2FkLCBkYXRhKTtcbiAgICAgIHRoaXMucHJvcHMub25BdHRhY2htZW50c0NoYW5nZSh0aGlzLnByb3BzLmF0dGFjaG1lbnRzLmNvbmNhdCgpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwIHx8IHJlamVjdGlvbi5zdGF0dXMgPT09IDQxMykge1xuICAgICAgICB1cGxvYWQuZXJyb3IgPSByZWplY3Rpb24uZGV0YWlsO1xuICAgICAgICB0aGlzLnByb3BzLm9uQXR0YWNobWVudHNDaGFuZ2UodGhpcy5wcm9wcy5hdHRhY2htZW50cy5jb25jYXQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIGlkPVwiZWRpdG9yLXVwbG9hZC1maWVsZFwiXG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAvPlxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21LZXkoKSB7XG4gIHJldHVybiAndXBsZC0nICsgTWF0aC5yb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb2RlIGZyb20gJy4vYWN0aW9ucy9jb2RlJztcbmltcG9ydCBFbXBoYXNpcyBmcm9tICcuL2FjdGlvbnMvZW1waGFzaXMnO1xuaW1wb3J0IEhyIGZyb20gJy4vYWN0aW9ucy9ocic7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnLi9hY3Rpb25zL2ltYWdlJztcbmltcG9ydCBMaW5rIGZyb20gJy4vYWN0aW9ucy9saW5rJztcbmltcG9ydCBTdHJpa2V0cm91Z2ggZnJvbSAnLi9hY3Rpb25zL3N0cmlrZXRyb3VnaCc7XG5pbXBvcnQgU3Ryb25nIGZyb20gJy4vYWN0aW9ucy9zdHJvbmcnO1xuaW1wb3J0IFF1b3RlIGZyb20gJy4vYWN0aW9ucy9xdW90ZSc7XG5pbXBvcnQgQXR0YWNobWVudHNFZGl0b3IgZnJvbSAnLi9hdHRhY2htZW50cyc7XG5pbXBvcnQgVXBsb2FkIGZyb20gJy4vYXR0YWNobWVudHMvdXBsb2FkLWJ1dHRvbi8nO1xuaW1wb3J0IE1hcmt1cFByZXZpZXcgZnJvbSAnLi9tYXJrdXAtcHJldmlldyc7XG5pbXBvcnQgKiBhcyB0ZXh0VXRpbHMgZnJvbSAnLi90ZXh0dXRpbHMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1ByZXZpZXdMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBvblByZXZpZXdDbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1ByZXZpZXdMb2FkaW5nOiB0cnVlXG4gICAgfSk7XG5cbiAgICBhamF4LnBvc3QobWlzYWdvLmdldCgnUEFSU0VfTUFSS1VQX0FQSScpLCB7cG9zdDogdGhpcy5wcm9wcy52YWx1ZX0pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIG1vZGFsLnNob3coXG4gICAgICAgIDxNYXJrdXBQcmV2aWV3IG1hcmt1cD17ZGF0YS5wYXJzZWR9IC8+XG4gICAgICApO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNQcmV2aWV3TG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlcGxhY2VTZWxlY3Rpb24gPSAob3BlcmF0aW9uKSA9PiB7XG4gICAgb3BlcmF0aW9uKHRleHRVdGlscy5nZXRTZWxlY3Rpb25UZXh0KCksIHRoaXMuX3JlcGxhY2VTZWxlY3Rpb24pO1xuICB9O1xuXG4gIF9yZXBsYWNlU2VsZWN0aW9uID0gKG5ld1ZhbHVlKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgdmFsdWU6IHRleHRVdGlscy5yZXBsYWNlKG5ld1ZhbHVlKVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItYm9yZGVyXCI+XG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICBpZD1cImVkaXRvci10ZXh0YXJlYVwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgICAgcm93cz1cIjlcIlxuICAgICAgICA+PC90ZXh0YXJlYT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItZm9vdGVyXCI+XG4gICAgICAgICAgPFN0cm9uZ1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxFbXBoYXNpc1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxTdHJpa2V0cm91Z2hcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8SHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICByZXBsYWNlU2VsZWN0aW9uPXt0aGlzLnJlcGxhY2VTZWxlY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxRdW90ZVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxDb2RlXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc1ByZXZpZXdMb2FkaW5nfVxuICAgICAgICAgICAgcmVwbGFjZVNlbGVjdGlvbj17dGhpcy5yZXBsYWNlU2VsZWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPFVwbG9hZFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNQcmV2aWV3TG9hZGluZ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmlzUHJldmlld0xvYWRpbmd9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uUHJldmlld0NsaWNrfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2dldHRleHQoXCJQcmV2aWV3XCIpfVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1zbSBwdWxsLXJpZ2h0XCJcbiAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5zdWJtaXRMYWJlbCB8fCBnZXR0ZXh0KFwiUG9zdFwiKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DYW5jZWx9XG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8UHJvdGVjdFxuICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5wcm9wcy5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMubG9hZGluZ31cbiAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5wcm9wcy5vblByb3RlY3R9XG4gICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5wcm9wcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMucHJvcHMucHJvdGVjdH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEF0dGFjaG1lbnRzRWRpdG9yXG4gICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMucHJvcHMuYXR0YWNobWVudHN9XG4gICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5wcm9wcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIHJlcGxhY2VTZWxlY3Rpb249e3RoaXMucmVwbGFjZVNlbGVjdGlvbn1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3QocHJvcHMpIHtcbiAgaWYgKHByb3BzLmNhblByb3RlY3QpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWljb24gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLnByb3RlY3QgPyBwcm9wcy5vblVucHJvdGVjdCA6IHByb3BzLm9uUHJvdGVjdH1cbiAgICAgICAgdGl0bGU9e3Byb3BzLnByb3RlY3QgPyBnZXR0ZXh0KCdQcm90ZWN0ZWQnKSA6IGdldHRleHQoJ1Byb3RlY3QnKX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7cHJvcHMucHJvdGVjdCA/ICdsb2NrJyA6ICdsb2NrX291dGxpbmUnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlByZXZpZXcgbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5IG1hcmt1cC1wcmV2aWV3XCI+XG4gICAgICAgICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLm1hcmt1cH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCJleHBvcnQgY29uc3QgdGV4dGFyZWFJZCA9ICdlZGl0b3ItdGV4dGFyZWEnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dGFyZWEoKSB7XG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZXh0YXJlYUlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGV4dGFyZWFJZCkudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25SYW5nZShzdGFydCwgZW5kKSB7XG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgZW5kXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpO1xuICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgY3RybC5mb2N1cygpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgY29uc3QgbGVuZ3RoID0gcmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCAtY3RybC52YWx1ZS5sZW5ndGgpO1xuICAgIHJldHVybiBnZXRTZWxlY3Rpb25SYW5nZShyYW5nZS50ZXh0Lmxlbmd0aCAtIGxlbmd0aCwgcmFuZ2UudGV4dC5sZW5ndGgpO1xuICB9IGVsc2UgaWYgKGN0cmwuc2VsZWN0aW9uU3RhcnQgfHwgY3RybC5zZWxlY3Rpb25TdGFydCA9PSAnMCcpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uUmFuZ2UoY3RybC5zZWxlY3Rpb25TdGFydCwgY3RybC5zZWxlY3Rpb25FbmQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UZXh0KCkge1xuICBjb25zdCByYW5nZSA9IGdldFNlbGVjdGlvbigpO1xuICByZXR1cm4gJC50cmltKGdldFZhbHVlKCkuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpKTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKHNlbGVjdGlvblJhbmdlKSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpO1xuICBpZiAoY3RybC5zZXRTZWxlY3Rpb25SYW5nZSkge1xuICAgIGN0cmwuZm9jdXMoKTtcbiAgICBjdHJsLnNldFNlbGVjdGlvblJhbmdlKHNlbGVjdGlvblJhbmdlLnN0YXJ0LCBzZWxlY3Rpb25SYW5nZS5lbmQpO1xuICB9IGVsc2UgaWYgKGN0cmwuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBjdHJsLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgIHJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgc2VsZWN0aW9uUmFuZ2Uuc3RhcnQpO1xuICAgIHJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIHNlbGVjdGlvblJhbmdlLmVuZCk7XG4gICAgcmFuZ2Uuc2VsZWN0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9yZXBsYWNlKG15UmFuZ2UsIHJlcGxhY2VtZW50KSB7XG4gIGNvbnN0IGN0cmwgPSBnZXRUZXh0YXJlYSgpO1xuICBjb25zdCB0ZXh0ID0gY3RybC52YWx1ZTtcbiAgY29uc3Qgc3RhcnRUZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgbXlSYW5nZS5zdGFydCk7XG4gIGN0cmwudmFsdWUgPSB0ZXh0LnN1YnN0cmluZygwLCBteVJhbmdlLnN0YXJ0KSArIHJlcGxhY2VtZW50ICsgdGV4dC5zdWJzdHJpbmcobXlSYW5nZS5lbmQpO1xuICBzZXRTZWxlY3Rpb24oZ2V0U2VsZWN0aW9uUmFuZ2Uoc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aCwgc3RhcnRUZXh0Lmxlbmd0aCArIHJlcGxhY2VtZW50Lmxlbmd0aCkpO1xuICByZXR1cm4gY3RybC52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2UocmVwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIF9yZXBsYWNlKGdldFNlbGVjdGlvbigpLCByZXBsYWNlbWVudCk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGlzVmFsaWRhdGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5wcm9wcy52YWxpZGF0aW9uICE9PSBcInVuZGVmaW5lZFwiO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSAnZm9ybS1ncm91cCc7XG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLWZlZWRiYWNrJztcbiAgICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLXN1Y2Nlc3MnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhc3NOYW1lICs9ICcgaGFzLWVycm9yJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbiAgfVxuXG4gIGdldEZlZWRiYWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnZhbGlkYXRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImhlbHAtYmxvY2sgZXJyb3JzXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24ubWFwKChlcnJvciwgaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8cCBrZXk9e3RoaXMucHJvcHMuZm9yICsgJ0ZlZWRiYWNrSXRlbScgKyBpfT57ZXJyb3J9PC9wPjtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRGZWVkYmFja0ljb24oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZGF0ZWQoKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb24gZm9ybS1jb250cm9sLWZlZWRiYWNrXCJcbiAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIiBrZXk9e3RoaXMucHJvcHMuZm9yICsgJ0ZlZWRiYWNrSWNvbid9PlxuICAgICAgICB7dGhpcy5wcm9wcy52YWxpZGF0aW9uID8gJ2NsZWFyJyA6ICdjaGVjayd9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RmVlZGJhY2tEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkYXRlZCgpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gaWQ9e3RoaXMucHJvcHMuZm9yICsgJ19zdGF0dXMnfSBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgIHt0aGlzLnByb3BzLnZhbGlkYXRpb24gPyBnZXR0ZXh0KCcoZXJyb3IpJykgOiBnZXR0ZXh0KCcoc3VjY2VzcyknKX1cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oZWxwVGV4dCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImhlbHAtYmxvY2tcIj57dGhpcy5wcm9wcy5oZWxwVGV4dH08L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGxhYmVsIGNsYXNzTmFtZT17J2NvbnRyb2wtbGFiZWwgJyArICh0aGlzLnByb3BzLmxhYmVsQ2xhc3MgfHwgJycpfVxuICAgICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuZm9yIHx8ICcnfT5cbiAgICAgICAge3RoaXMucHJvcHMubGFiZWwgKyAnOid9XG4gICAgICA8L2xhYmVsPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY29udHJvbENsYXNzIHx8ICcnfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIHt0aGlzLmdldEZlZWRiYWNrSWNvbigpfVxuICAgICAgICB7dGhpcy5nZXRGZWVkYmFja0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgIHt0aGlzLmdldEZlZWRiYWNrKCl9XG4gICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICAgIHt0aGlzLnByb3BzLmV4dHJhIHx8IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmxldCB2YWxpZGF0ZVJlcXVpcmVkID0gcmVxdWlyZWQoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICB2YWxpZGF0ZSgpIHtcbiAgICBsZXQgZXJyb3JzID0ge307XG4gICAgaWYgKCF0aGlzLnN0YXRlLnZhbGlkYXRvcnMpIHtcbiAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgfVxuXG4gICAgbGV0IHZhbGlkYXRvcnMgPSB7XG4gICAgICByZXF1aXJlZDogdGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycyxcbiAgICAgIG9wdGlvbmFsOiB0aGlzLnN0YXRlLnZhbGlkYXRvcnMub3B0aW9uYWwgfHwge31cbiAgICB9O1xuXG4gICAgbGV0IHZhbGlkYXRlZEZpZWxkcyA9IFtdO1xuXG4gICAgLy8gYWRkIHJlcXVpcmVkIGZpZWxkcyB0byB2YWxpZGF0aW9uXG4gICAgZm9yIChsZXQgbmFtZSBpbiB2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICBpZiAodmFsaWRhdG9ycy5yZXF1aXJlZC5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWRbbmFtZV0pIHtcbiAgICAgICAgdmFsaWRhdGVkRmllbGRzLnB1c2gobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIG9wdGlvbmFsIGZpZWxkcyB0byB2YWxpZGF0aW9uXG4gICAgZm9yIChsZXQgbmFtZSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICBpZiAodmFsaWRhdG9ycy5vcHRpb25hbC5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICAgIHZhbGlkYXRvcnMub3B0aW9uYWxbbmFtZV0pIHtcbiAgICAgICAgdmFsaWRhdGVkRmllbGRzLnB1c2gobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgZmllbGRzIHZhbHVlc1xuICAgIGZvciAobGV0IGkgaW4gdmFsaWRhdGVkRmllbGRzKSB7XG4gICAgICBsZXQgbmFtZSA9IHZhbGlkYXRlZEZpZWxkc1tpXTtcbiAgICAgIGxldCBmaWVsZEVycm9ycyA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCB0aGlzLnN0YXRlW25hbWVdKTtcblxuICAgICAgaWYgKGZpZWxkRXJyb3JzID09PSBudWxsKSB7XG4gICAgICAgIGVycm9yc1tuYW1lXSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkRXJyb3JzKSB7XG4gICAgICAgIGVycm9yc1tuYW1lXSA9IGZpZWxkRXJyb3JzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH1cblxuICBpc1ZhbGlkKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgZm9yIChsZXQgZmllbGQgaW4gZXJyb3JzKSB7XG4gICAgICBpZiAoZXJyb3JzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICBpZiAoZXJyb3JzW2ZpZWxkXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFsaWRhdGVGaWVsZChuYW1lLCB2YWx1ZSkge1xuICAgIGxldCBlcnJvcnMgPSBbXTtcbiAgICBpZiAoIXRoaXMuc3RhdGUudmFsaWRhdG9ycykge1xuICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG5cbiAgICBsZXQgdmFsaWRhdG9ycyA9IHtcbiAgICAgIHJlcXVpcmVkOiAodGhpcy5zdGF0ZS52YWxpZGF0b3JzLnJlcXVpcmVkIHx8IHRoaXMuc3RhdGUudmFsaWRhdG9ycylbbmFtZV0sXG4gICAgICBvcHRpb25hbDogKHRoaXMuc3RhdGUudmFsaWRhdG9ycy5vcHRpb25hbCB8fCB7fSlbbmFtZV1cbiAgICB9O1xuXG4gICAgbGV0IHJlcXVpcmVkRXJyb3IgPSB2YWxpZGF0ZVJlcXVpcmVkKHZhbHVlKSB8fCBmYWxzZTtcblxuICAgIGlmICh2YWxpZGF0b3JzLnJlcXVpcmVkKSB7XG4gICAgICBpZiAocmVxdWlyZWRFcnJvcikge1xuICAgICAgICBlcnJvcnMgPSBbcmVxdWlyZWRFcnJvcl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpIGluIHZhbGlkYXRvcnMucmVxdWlyZWQpIHtcbiAgICAgICAgICBsZXQgdmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdG9ycy5yZXF1aXJlZFtpXSh2YWx1ZSk7XG4gICAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGlvbkVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiBudWxsO1xuICAgIH0gZWxzZSBpZiAocmVxdWlyZWRFcnJvciA9PT0gZmFsc2UgJiYgdmFsaWRhdG9ycy5vcHRpb25hbCkge1xuICAgICAgZm9yIChsZXQgaSBpbiB2YWxpZGF0b3JzLm9wdGlvbmFsKSB7XG4gICAgICAgIGxldCB2YWxpZGF0aW9uRXJyb3IgPSB2YWxpZGF0b3JzLm9wdGlvbmFsW2ldKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbGlkYXRpb25FcnJvcikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRpb25FcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPyBlcnJvcnMgOiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTsgLy8gZmFsc2UgPT09IGZpZWxkIHdhc24ndCB2YWxpZGF0ZWRcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgYmluZElucHV0ID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmNoYW5nZVZhbHVlKG5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNoYW5nZVZhbHVlID0gKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgW25hbWVdOiB2YWx1ZVxuICAgIH07XG5cbiAgICBjb25zdCBmb3JtRXJyb3JzID0gdGhpcy5zdGF0ZS5lcnJvcnMgfHwge307XG4gICAgZm9ybUVycm9yc1tuYW1lXSA9IHRoaXMudmFsaWRhdGVGaWVsZChuYW1lLCBuZXdTdGF0ZVtuYW1lXSk7XG4gICAgbmV3U3RhdGUuZXJyb3JzID0gZm9ybUVycm9ycztcblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jbGVhbigpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IHRydWV9KTtcbiAgICAgIGxldCBwcm9taXNlID0gdGhpcy5zZW5kKCk7XG5cbiAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgICAgICB0aGlzLmhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcyk7XG4gICAgICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0xvYWRpbmc6IGZhbHNlfSk7XG4gICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzTG9hZGluZzogZmFsc2V9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBpc0FjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0NvbnRyb2xsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmlzQWN0aXZlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5wYXRoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKHRoaXMucHJvcHMucGF0aCkgPT09IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHJldHVybiAodGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycpICsgJyAnKyAodGhpcy5wcm9wcy5hY3RpdmVDbGFzc05hbWUgfHwgJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICA8L2xpPjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJsb2FkZXJcIn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRlci1zcGlubmluZy13aGVlbFwiPjwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICcuL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICcuL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHBvbGw6IDAsXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGNvbnN0IGNvbmZpcm1hdGlvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZT8gVGhpcyB3aWxsIGRlbGV0ZSBvdGhlciBwb2xscy5cIikpO1xuICAgIHJldHVybiBjb25maXJtYXRpb25cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgY29uc3QgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMuZGF0YSwge1xuICAgICAgcG9sbDogdGhpcy5zdGF0ZS5wb2xsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuYXBpLCBkYXRhKTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MgPSAoc3VjY2VzcykgPT4ge1xuICAgIHRoaXMucHJvcHMub25TdWNjZXNzKHN1Y2Nlc3MpO1xuICAgIG1vZGFsLmhpZGUoKTtcbiAgfTtcblxuICBoYW5kbGVFcnJvciA9IChyZWplY3Rpb24pID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRXJyb3IocmVqZWN0aW9uKTtcbiAgfTtcblxuICBvblBvbGxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwb2xsJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIk1lcmdlIHBvbGxzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8cD57Z2V0dGV4dChcIlNlbGVjdCBwb2xsIHRvIHVzZSBpbiBtZXJnZWQgdGhyZWFkLiBPdGhlciBwb2xscyB3aWxsIGJlIGRlbGV0ZWQuXCIpfTwvcD5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiUG9sbFwiKX1cbiAgICAgICAgICAgICAgICBmb3I9XCJpZF9wb2xsXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3BvbGxcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25Qb2xsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9sbH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5wb2xscy5tYXAoKHBvbGwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtwb2xsWzBdfSBrZXk9e3BvbGxbMF19PlxuICAgICAgICAgICAgICAgICAgICAgICAge3BvbGxbMV19XG4gICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSBwb2xsc1wiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgb25lYm94IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9vbmUtYm94JztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxhcnRpY2xlXG4gICAgICBjbGFzc05hbWU9XCJtaXNhZ28tbWFya3VwXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBwcm9wcy5tYXJrdXB9fVxuICAgICAgcmVmPXtub2RlID0+IG9uZWJveC5yZW5kZXIobm9kZSl9XG4gICAgLz5cbiAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBtb2RhbC1sb2FkZXJcIj5cbiAgICAgIDxMb2FkZXIgLz5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUGFuZWxNZXNzYWdlIHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmhlbHBUZXh0fVxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmljb24gfHwgJ2luZm9fb3V0bGluZSd9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgICAge3RoaXMuZ2V0SGVscFRleHQoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYW5lbExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPFBhbmVsTG9hZGVyIC8+XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFuZWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhbmVsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRIZWxwVGV4dCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLm5leHRfb24pIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiWW91IHdpbGwgYmUgYWJsZSB0byBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKG5leHRfY2hhbmdlKXMuXCIpLFxuICAgICAgICAgIHsnbmV4dF9jaGFuZ2UnOiB0aGlzLnByb3BzLm9wdGlvbnMubmV4dF9vbi5mcm9tTm93KCl9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgaGF2ZSB1c2VkIHVwIGF2YWlsYWJsZSBuYW1lIGNoYW5nZXMuXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oMz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8UGFuZWxNZXNzYWdlIG1lc3NhZ2U9e2dldHRleHQoXCJZb3UgY2FuJ3QgY2hhbmdlIHlvdXIgdXNlcm5hbWUgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9IC8+XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHVzZXJuYW1lOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1c2VybmFtZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVDb250ZW50KCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1pbkxlbmd0aChwcm9wcy5vcHRpb25zLmxlbmd0aF9taW4pLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNYXhMZW5ndGgocHJvcHMub3B0aW9ucy5sZW5ndGhfbWF4KVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldEhlbHBUZXh0KCkge1xuICAgIGxldCBwaHJhc2VzID0gW107XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdCA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGNhbiBjaGFuZ2UgeW91ciB1c2VybmFtZSAlKGNoYW5nZXNfbGVmdClzIG1vcmUgdGltZS5cIixcbiAgICAgICAgXCJZb3UgY2FuIGNoYW5nZSB5b3VyIHVzZXJuYW1lICUoY2hhbmdlc19sZWZ0KXMgbW9yZSB0aW1lcy5cIixcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLmNoYW5nZXNfbGVmdCk7XG5cbiAgICAgIHBocmFzZXMucHVzaChpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICdjaGFuZ2VzX2xlZnQnOiB0aGlzLnByb3BzLm9wdGlvbnMuY2hhbmdlc19sZWZ0XG4gICAgICB9LCB0cnVlKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZSA+IDApIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIHJlZGVlbSBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXkuXCIsXG4gICAgICAgIFwiVXNlZCBjaGFuZ2VzIHJlZGVlbSBhZnRlciAlKG5hbWVfY2hhbmdlc19leHBpcmUpcyBkYXlzLlwiLFxuICAgICAgICB0aGlzLnByb3BzLnVzZXIuYWNsLm5hbWVfY2hhbmdlc19leHBpcmUpO1xuXG4gICAgICBwaHJhc2VzLnB1c2goaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAnbmFtZV9jaGFuZ2VzX2V4cGlyZSc6IHRoaXMucHJvcHMudXNlci5hY2wubmFtZV9jaGFuZ2VzX2V4cGlyZVxuICAgICAgfSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwaHJhc2VzLmxlbmd0aCA/IHBocmFzZXMuam9pbignICcpIDogbnVsbDtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGxldCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgaWYgKGVycm9ycy51c2VybmFtZSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnVzZXJuYW1lWzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGlmICh0aGlzLnN0YXRlLnVzZXJuYW1lLnRyaW0oKSA9PT0gdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKGdldHRleHQoXCJZb3VyIG5ldyB1c2VybmFtZSBpcyBzYW1lIGFzIGN1cnJlbnQgb25lLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnVzZXIuYXBpX3VybC51c2VybmFtZSwge1xuICAgICAgJ3VzZXJuYW1lJzogdGhpcy5zdGF0ZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAndXNlcm5hbWUnOiAnJ1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5jb21wbGV0ZShzdWNjZXNzLnVzZXJuYW1lLCBzdWNjZXNzLnNsdWcsIHN1Y2Nlc3Mub3B0aW9ucyk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJwYW5lbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJOZXcgdXNlcm5hbWVcIil9IGZvcj1cImlkX3VzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXt0aGlzLmdldEhlbHBUZXh0KCl9PlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF91c2VybmFtZVwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTRcIj5cblxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb3JtTG9hZGluZyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtLWxvYWRpbmcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtTG9ja2VkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvY2hhbmdlLXVzZXJuYW1lL2Zvcm0tbG9ja2VkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL2NoYW5nZS11c2VybmFtZS9mb3JtJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3Rvcnkvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgYWRkTmFtZUNoYW5nZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2VybmFtZS1oaXN0b3J5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyB1cGRhdGVVc2VybmFtZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiQ2hhbmdlIHlvdXIgb3B0aW9uc1wiKVxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgYWpheC5nZXQodGhpcy5wcm9wcy51c2VyLmFwaV91cmwudXNlcm5hbWUpLFxuICAgICAgYWpheC5nZXQobWlzYWdvLmdldCgnVVNFUk5BTUVfQ0hBTkdFU19BUEknKSwge3VzZXI6IHRoaXMucHJvcHMudXNlci5pZH0pXG4gICAgXSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhWzFdLnJlc3VsdHMpKTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY2hhbmdlc19sZWZ0OiBkYXRhWzBdLmNoYW5nZXNfbGVmdCxcbiAgICAgICAgICBsZW5ndGhfbWluOiBkYXRhWzBdLmxlbmd0aF9taW4sXG4gICAgICAgICAgbGVuZ3RoX21heDogZGF0YVswXS5sZW5ndGhfbWF4LFxuICAgICAgICAgIG5leHRfb246IGRhdGFbMF0ubmV4dF9vbiA/IG1vbWVudChkYXRhWzBdLm5leHRfb24pIDogbnVsbCxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ29tcGxldGUgPSAodXNlcm5hbWUsIHNsdWcsIG9wdGlvbnMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWRkTmFtZUNoYW5nZSh7IHVzZXJuYW1lLCBzbHVnIH0sIHRoaXMucHJvcHMudXNlciwgdGhpcy5wcm9wcy51c2VyKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICB1cGRhdGVVc2VybmFtZSh0aGlzLnByb3BzLnVzZXIsIHVzZXJuYW1lLCBzbHVnKSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHVzZXJuYW1lIGhhcyBiZWVuIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LlwiKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q2hhbmdlRm9ybSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUub3B0aW9ucy5jaGFuZ2VzX2xlZnQgPiAwKSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxGb3JtIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUub3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlPXt0aGlzLm9uQ29tcGxldGV9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPEZvcm1Mb2NrZWQgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtTG9hZGluZyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIHt0aGlzLmdldENoYW5nZUZvcm0oKX1cbiAgICAgIDxVc2VybmFtZUhpc3RvcnkgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXM9e3RoaXMucHJvcHNbJ3VzZXJuYW1lLWhpc3RvcnknXX0gLz5cbiAgICA8L2Rpdj5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgWWVzTm9Td2l0Y2ggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMveWVzLW5vLXN3aXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnaXNfaGlkaW5nX3ByZXNlbmNlJzogcHJvcHMudXNlci5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICAnbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8nOiBwcm9wcy51c2VyLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgJ3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMnOiBwcm9wcy51c2VyLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHMsXG4gICAgICAnc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyc6IHByb3BzLnVzZXIuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkcyxcblxuICAgICAgJ2Vycm9ycyc6IHt9XG4gICAgfTtcblxuICAgIHRoaXMucHJpdmF0ZVRocmVhZEludml0ZXNDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdoZWxwX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiRXZlcnlib2R5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdkb25lX2FsbCcsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJVc2VycyBJIGZvbGxvd1wiKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnaGlnaGxpZ2h0X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb2JvZHlcIilcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgdGhpcy5zdWJzY3JpYmVUb0Nob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3N0YXJfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdzdGFyX2hhbGYnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90aWZ5XCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdzdGFyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdGlmeSB3aXRoIGUtbWFpbFwiKVxuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwub3B0aW9ucywge1xuICAgICAgaXNfaGlkaW5nX3ByZXNlbmNlOiB0aGlzLnN0YXRlLmlzX2hpZGluZ19wcmVzZW5jZSxcbiAgICAgIGxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvOiB0aGlzLnN0YXRlLmxpbWl0c19wcml2YXRlX3RocmVhZF9pbnZpdGVzX3RvLFxuICAgICAgc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fc3RhcnRlZF90aHJlYWRzLFxuICAgICAgc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkczogdGhpcy5zdGF0ZS5zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHtcbiAgICAgIGlzX2hpZGluZ19wcmVzZW5jZTogdGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2UsXG4gICAgICBsaW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190bzogdGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190byxcbiAgICAgIHN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcyxcbiAgICAgIHN1YnNjcmliZV90b19yZXBsaWVkX3RocmVhZHM6IHRoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1xuICAgIH0pKTtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIGZvcnVtIG9wdGlvbnMgaGF2ZSBiZWVuIGNoYW5nZWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJQbGVhc2UgcmVsb2FkIHBhZ2UgYW5kIHRyeSBhZ2Fpbi5cIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkZvcnVtIG9wdGlvbnNcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgZm9ydW0gb3B0aW9uc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiUHJpdmFjeSBzZXR0aW5nc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2VcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiSWYgeW91IGhpZGUgeW91ciBwcmVzZW5jZSwgb25seSBtZW1iZXJzIHdpdGggcGVybWlzc2lvbiB0byBzZWUgaGlkZGVuIHVzZXJzIHdpbGwgc2VlIHdoZW4geW91IGFyZSBvbmxpbmUuXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2ggaWQ9XCJpZF9pc19oaWRpbmdfcHJlc2VuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9uPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkhpZGUgbXkgcHJlc2VuY2UgZnJvbSBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiU2hvdyBteSBwcmVzZW5jZSB0byBvdGhlciB1c2Vyc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkaW5nX3ByZXNlbmNlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRpbmdfcHJlc2VuY2V9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlByaXZhdGUgdGhyZWFkIGludml0YXRpb25zXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbGltaXRzX3ByaXZhdGVfdGhyZWFkX2ludml0ZXNfdG8nKX1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5saW1pdHNfcHJpdmF0ZV90aHJlYWRfaW52aXRlc190b31cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnByaXZhdGVUaHJlYWRJbnZpdGVzQ2hvaWNlc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICA8bGVnZW5kPntnZXR0ZXh0KFwiQXV0b21hdGljIHN1YnNjcmlwdGlvbnNcIil9PC9sZWdlbmQ+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWRzIEkgc3RhcnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3N1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHNcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgICA8U2VsZWN0IGlkPVwiaWRfc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnc3Vic2NyaWJlX3RvX3N0YXJ0ZWRfdGhyZWFkcycpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnN1YnNjcmliZV90b19zdGFydGVkX3RocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdWJzY3JpYmVUb0Nob2ljZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZHMgSSByZXBseSB0b1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc1wiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9zdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzXCJcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdzdWJzY3JpYmVfdG9fcmVwbGllZF90aHJlYWRzJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc3Vic2NyaWJlX3RvX3JlcGxpZWRfdGhyZWFkc31cbiAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN1YnNjcmliZVRvQ2hvaWNlc30gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvZmllbGRzZXQ+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLXNtLW9mZnNldC00XCI+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTaWRlTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsaXN0LWdyb3VwIG5hdi1zaWRlXCI+XG4gICAgICB7dGhpcy5wcm9wcy5vcHRpb25zLm1hcCgob3B0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiA8TGluayB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIlxuICAgICAgICAgICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7b3B0aW9uLmljb259XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtvcHRpb24ubmFtZX1cbiAgICAgICAgPC9MaW5rPjtcbiAgICAgIH0pfVxuICAgIDwvZGl2PjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0TmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gPExpIHBhdGg9e3RoaXMucHJvcHMuYmFzZVVybCArIG9wdGlvbi5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAgICAga2V5PXtvcHRpb24uY29tcG9uZW50fT5cbiAgICAgICAgICA8TGluayB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgb3B0aW9uLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmhpZGVOYXZ9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgICB7b3B0aW9uLmljb259XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICB7b3B0aW9uLm5hbWV9XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L0xpPjtcbiAgICAgIH0pfVxuICAgIDwvdWw+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBTaWRlTmF2LCBDb21wYWN0TmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2hhbmdlRm9ydW1PcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvZm9ydW0tb3B0aW9ucyc7XG5pbXBvcnQgQ2hhbmdlVXNlcm5hbWUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9jaGFuZ2UtdXNlcm5hbWUvcm9vdCc7XG5pbXBvcnQgQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvb3B0aW9ucy9zaWduLWluLWNyZWRlbnRpYWxzL3Jvb3QnO1xuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBXaXRoRHJvcGRvd24ge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1vcHRpb25zXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicHVsbC1sZWZ0XCI+e2dldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpfTwvaDE+XG5cbiAgICAgICAgICA8RHJvcGRvd25Ub2dnbGUgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd249e3RoaXMuc3RhdGUuZHJvcGRvd259IC8+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbXBhY3ROYXZDbGFzc05hbWUoKX0+XG5cbiAgICAgICAgPENvbXBhY3ROYXYgb3B0aW9ucz17bWlzYWdvLmdldCgnVVNFUl9PUFRJT05TJyl9XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX1cbiAgICAgICAgICAgICAgICAgICAgaGlkZU5hdj17dGhpcy5oaWRlTmF2fSAvPlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cblxuICAgICAgICAgICAgPFNpZGVOYXYgb3B0aW9ucz17bWlzYWdvLmdldCgnVVNFUl9PUFRJT05TJyl9XG4gICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyl9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJuYW1lLWhpc3RvcnknOiBzdG9yZVsndXNlcm5hbWUtaGlzdG9yeSddXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnZm9ydW0tb3B0aW9ucy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlRm9ydW1PcHRpb25zKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUkNQX1VSTCcpICsgJ2NoYW5nZS11c2VybmFtZS8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlVXNlcm5hbWUpXG4gICAgfSxcbiAgICB7XG4gICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJykgKyAnc2lnbi1pbi1jcmVkZW50aWFscy8nLFxuICAgICAgY29tcG9uZW50OiBjb25uZWN0KHNlbGVjdCkoQ2hhbmdlU2lnbkluQ3JlZGVudGlhbHMpXG4gICAgfVxuICBdO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19lbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgbmV3X2VtYWlsOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICAgIF0sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfZW1haWwudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucGFzc3dvcmQudHJpbSgpLmxlbmd0aFxuICAgIF07XG5cbiAgICBpZiAobGVuZ3Rocy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZpbGwgb3V0IGFsbCBmaWVsZHMuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3JzLm5ld19lbWFpbCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLm5ld19lbWFpbFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy51c2VyLmFwaV91cmwuY2hhbmdlX2VtYWlsLCB7XG4gICAgICBuZXdfZW1haWw6IHRoaXMuc3RhdGUubmV3X2VtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuc3RhdGUucGFzc3dvcmQsXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdfZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgfSk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKHJlc3BvbnNlLmRldGFpbCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLm5ld19lbWFpbCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ubmV3X2VtYWlsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wYXNzd29yZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgIDxpbnB1dCB0eXBlPVwidHlwZVwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkNoYW5nZSBlLW1haWwgYWRkcmVzc1wiKX08L2gzPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTmV3IGUtbWFpbFwiKX0gZm9yPVwiaWRfbmV3X2VtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX25ld19lbWFpbFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnbmV3X2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubmV3X2VtYWlsfSAvPlxuICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiWW91ciBjdXJyZW50IHBhc3N3b3JkXCIpfSBmb3I9XCJpZF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXNtLTggY29sLXNtLW9mZnNldC00XCI+XG5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBlLW1haWxcIil9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5ld19wYXNzd29yZDogJycsXG4gICAgICByZXBlYXRfcGFzc3dvcmQ6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIG5ld19wYXNzd29yZDogW10sXG4gICAgICAgIHJlcGVhdF9wYXNzd29yZDogW10sXG4gICAgICAgIHBhc3N3b3JkOiBbXVxuICAgICAgfSxcblxuICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBsZXQgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuICAgIGxldCBsZW5ndGhzID0gW1xuICAgICAgdGhpcy5zdGF0ZS5uZXdfcGFzc3dvcmQudHJpbSgpLmxlbmd0aCxcbiAgICAgIHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkLnRyaW0oKS5sZW5ndGgsXG4gICAgICB0aGlzLnN0YXRlLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGhcbiAgICBdO1xuXG4gICAgaWYgKGxlbmd0aHMuaW5kZXhPZigwKSAhPT0gLTEpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGaWxsIG91dCBhbGwgZmllbGRzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5uZXdfcGFzc3dvcmQpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5uZXdfcGFzc3dvcmRbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLm5ld19wYXNzd29yZC50cmltKCkgIT09IHRoaXMuc3RhdGUucmVwZWF0X3Bhc3N3b3JkLnRyaW0oKSkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIk5ldyBwYXNzd29yZHMgYXJlIGRpZmZlcmVudC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudXNlci5hcGlfdXJsLmNoYW5nZV9wYXNzd29yZCwge1xuICAgICAgbmV3X3Bhc3N3b3JkOiB0aGlzLnN0YXRlLm5ld19wYXNzd29yZCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBuZXdfcGFzc3dvcmQ6ICcnLFxuICAgICAgcmVwZWF0X3Bhc3N3b3JkOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJ1xuICAgIH0pO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhyZXNwb25zZS5kZXRhaWwpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5uZXdfcGFzc3dvcmQpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLm5ld19wYXNzd29yZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucGFzc3dvcmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fSAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLWZvcm1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInBhbmVsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgcGFzc3dvcmRcIil9PC9oMz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keVwiPlxuXG4gICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBwYXNzd29yZFwiKX0gZm9yPVwiaWRfbmV3X3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJpZF9uZXdfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ25ld19wYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLm5ld19wYXNzd29yZH0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJSZXBlYXQgcGFzc3dvcmRcIil9IGZvcj1cImlkX3JlcGVhdF9wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcmVwZWF0X3Bhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdyZXBlYXRfcGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5yZXBlYXRfcGFzc3dvcmR9IC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJZb3VyIGN1cnJlbnQgcGFzc3dvcmRcIil9IGZvcj1cImlkX3Bhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJpZF9wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTRcIj5cblxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZUVtYWlsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvc2lnbi1pbi1jcmVkZW50aWFscy9jaGFuZ2UtZW1haWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VQYXNzd29yZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9vcHRpb25zL3NpZ24taW4tY3JlZGVudGlhbHMvY2hhbmdlLXBhc3N3b3JkJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aXRsZS5zZXQoe1xuICAgICAgdGl0bGU6IGdldHRleHQoXCJDaGFuZ2UgZW1haWwgb3IgcGFzc3dvcmRcIiksXG4gICAgICBwYXJlbnQ6IGdldHRleHQoXCJDaGFuZ2UgeW91ciBvcHRpb25zXCIpXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPENoYW5nZUVtYWlsIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gLz5cbiAgICAgIDxDaGFuZ2VQYXNzd29yZCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG5cbiAgICAgIDxwIGNsYXNzTmFtZT1cIm1lc3NhZ2UtbGluZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgd2FybmluZ1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ0ZPUkdPVFRFTl9QQVNTV09SRF9VUkwnKX0+XG4gICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgZm9yZ290dGVuIHBhc3N3b3JkXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3RyaW5nQ291bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3N0cmluZy1jb3VudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNvcHkgJiYgdGhpcy5wcm9wcy5jb3B5Lmxlbmd0aCkge1xuICAgICAgaWYgKHN0cmluZ0NvdW50KHRoaXMucHJvcHMuY29weSwgJzxwJykgPT09IDEgJiYgdGhpcy5wcm9wcy5jb3B5LmluZGV4T2YoJzxicicpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gJ3BhZ2UtbGVhZCBsZWFkJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJ3BhZ2UtbGVhZCc7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY29weSAmJiB0aGlzLnByb3BzLmNvcHkubGVuZ3RoKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgIF9faHRtbDogdGhpcy5wcm9wcy5jb3B5XG4gICAgICB9fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWxvYWRpbmdcIj5cbiAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwibG9hZGVyIGxvYWRlci1zcGFjZWRcIiAvPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscFRleHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuaGVscFRleHQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cCBjbGFzc05hbWU9XCJoZWxwLWJsb2NrXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmhlbHBUZXh0fVxuICAgICAgPC9wPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1tZXNzYWdlLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uIHx8ICdpbmZvX291dGxpbmUnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICAgIHt0aGlzLmdldEhlbHBUZXh0KCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgcGFydGljaXBhbnRzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wYXJ0aWNpcGFudHMnO1xuaW1wb3J0IHsgdXBkYXRlQWNsIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gbGVhdmUodGhyZWFkLCBwYXJ0aWNpcGFudCkge1xuICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICB7b3A6ICdyZW1vdmUnLCBwYXRoOiAncGFydGljaXBhbnRzJywgdmFsdWU6IHBhcnRpY2lwYW50LmlkfVxuICBdKS50aGVuKCgpID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3UgaGF2ZSBsZWZ0IHRoaXMgdGhyZWFkLlwiKSk7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gbWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX1VSTCcpO1xuICAgIH0sIDMgKiAxMDAwKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAge29wOiAncmVtb3ZlJywgcGF0aDogJ3BhcnRpY2lwYW50cycsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZH0sXG4gICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiAxfVxuICBdKS50aGVuKChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCIlKHVzZXIpcyBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhpcyB0aHJlYWQuXCIpO1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICB9LCB0cnVlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZU93bmVyKHRocmVhZCwgcGFydGljaXBhbnQpIHtcbiAgYWpheC5wYXRjaCh0aHJlYWQuYXBpLmluZGV4LCBbXG4gICAge29wOiAncmVwbGFjZScsIHBhdGg6ICdvd25lcicsIHZhbHVlOiBwYXJ0aWNpcGFudC5pZH0sXG4gICAge29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiAxfVxuICBdKS50aGVuKChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlQWNsKGRhdGEpKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwYXJ0aWNpcGFudHMucmVwbGFjZShkYXRhLnBhcnRpY2lwYW50cykpO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCIlKHVzZXIpcyBoYXMgYmVlbiBtYWRlIG5ldyB0aHJlYWQgb3duZXIuXCIpO1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgdXNlcjogcGFydGljaXBhbnQudXNlcm5hbWVcbiAgICB9LCB0cnVlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICB9KTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1ha2VPd25lciBmcm9tICcuL21ha2Utb3duZXInO1xuaW1wb3J0IFJlbW92ZSBmcm9tICcuL3JlbW92ZSc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGNvbnN0IHBhcnRpY2lwYW50ID0gcHJvcHMucGFydGljaXBhbnQ7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIHBhcnRpY2lwYW50LWNhcmRcIj5cbiAgICAgIDxhIGNsYXNzTmFtZT1cImF2YXRhci1saW5rXCIgaHJlZj17cGFydGljaXBhbnQudXJsfT5cbiAgICAgICAgPEF2YXRhciB1c2VyPXtwYXJ0aWNpcGFudH0gc2l6ZT1cIjUwXCIgLz5cbiAgICAgIDwvYT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFydGljaXBhbnQtcHJvZmlsZVwiPlxuICAgICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cGFydGljaXBhbnQudXJsfT5cbiAgICAgICAgICB7cGFydGljaXBhbnQudXNlcm5hbWV9XG4gICAgICAgIDwvYT5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8T3duZXJCYWRnZSB7Li4ucGFydGljaXBhbnR9IC8+XG4gICAgICAgICAgPE1ha2VPd25lciB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgPFJlbW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE93bmVyQmFkZ2UocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5pc19vd25lcikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicGFydGljaXBhbnQtb3duZXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZ3JhZGVcbiAgICAgIDwvc3Bhbj5cbiAgICAgIHtnZXR0ZXh0KFwiT3duZXJcIil9XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJvdyBmcm9tICcuL3Jvdyc7XG5pbXBvcnQgYmF0Y2ggZnJvbSAnbWlzYWdvL3V0aWxzL2JhdGNoJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhcnRpY2lwYW50cy1jYXJkc1wiPlxuICAgICAge2JhdGNoKHByb3BzLnBhcnRpY2lwYW50cywgNCkubWFwKChyb3cpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gcm93Lm1hcCgoaSkgPT4gaS5pZCkuam9pbignXycpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSb3dcbiAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgcGFydGljaXBhbnRzPXtyb3d9XG4gICAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgICAgICB1c2VySXNPd25lcj17cHJvcHMudXNlcklzT3duZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjaGFuZ2VPd25lciB9IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkO1xuICB9XG5cbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgY29uZmlybWVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gdGFrZSBvdmVyIHRoaXMgdGhyZWFkP1wiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNoYW5nZSB0aHJlYWQgb3duZXIgdG8gJSh1c2VyKXM/XCIpO1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgIHVzZXI6IHRoaXMucHJvcHMucGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuO1xuXG4gICAgY2hhbmdlT3duZXIodGhpcy5wcm9wcy50aHJlYWQsIHRoaXMucHJvcHMucGFydGljaXBhbnQpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYXJ0aWNpcGFudC5pc19vd25lcikgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2NoYW5nZV9vd25lcikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9IGNsYXNzTmFtZT1cImJ0bi1saW5rIGJ0bi1zbVwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTWFrZSBvd25lclwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVtb3ZlLCBsZWF2ZSB9IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLmlzVXNlciA9IHByb3BzLnBhcnRpY2lwYW50LmlkID09PSBwcm9wcy51c2VyLmlkO1xuICB9XG5cbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBsZXQgY29uZmlybWVkID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyB0aHJlYWQ/XCIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlICUodXNlcilzIGZyb20gdGhpcyB0aHJlYWQ/XCIpO1xuICAgICAgY29uZmlybWVkID0gY29uZmlybShpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgIHVzZXI6IHRoaXMucHJvcHMucGFydGljaXBhbnQudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuaXNVc2VyKSB7XG4gICAgICBsZWF2ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSh0aGlzLnByb3BzLnRocmVhZCwgdGhpcy5wcm9wcy5wYXJ0aWNpcGFudCk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc01vZGVyYXRvciA9IHRoaXMucHJvcHMudXNlci5hY2wuY2FuX21vZGVyYXRlX3ByaXZhdGVfdGhyZWFkcztcblxuICAgIGlmICghKHRoaXMucHJvcHMudXNlcklzT3duZXIgfHwgdGhpcy5pc1VzZXIgfHwgaXNNb2RlcmF0b3IpKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmsgYnRuLXNtXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfSB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAge3RoaXMuaXNVc2VyID8gZ2V0dGV4dChcIkxlYXZlIHRocmVhZFwiKSA6IGdldHRleHQoXCJSZW1vdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYXJkIGZyb20gJy4vY2FyZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgIHtwcm9wcy5wYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICBrZXk9e3BhcnRpY2lwYW50LmlkfVxuICAgICAgICAgICAgcGFydGljaXBhbnQ9e3BhcnRpY2lwYW50fVxuICAgICAgICAgICAgdGhyZWFkPXtwcm9wcy50aHJlYWR9XG4gICAgICAgICAgICB1c2VyPXtwcm9wcy51c2VyfVxuICAgICAgICAgICAgdXNlcklzT3duZXI9e3Byb3BzLnVzZXJJc093bmVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhcmRzTGlzdCBmcm9tICcuL2NhcmRzLWxpc3QnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMucGFydGljaXBhbnRzLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtcGFydGljaXBhbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPENhcmRzTGlzdFxuICAgICAgICAgIHVzZXJJc093bmVyPXtnZXRVc2VySXNPd25lcihwcm9wcy51c2VyLCBwcm9wcy5wYXJ0aWNpcGFudHMpfVxuICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICAgPHA+e3V0aWxzLmdldFBhcnRpY2lwYW50c0NvcHkocHJvcHMucGFydGljaXBhbnRzKX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJJc093bmVyKHVzZXIsIHBhcnRpY2lwYW50cykge1xuICByZXR1cm4gcGFydGljaXBhbnRzWzBdLmlkID09PSB1c2VyLmlkXG59IiwiZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnRpY2lwYW50c0NvcHkocGFydGljaXBhbnRzKSB7XG4gIGNvbnN0IGNvdW50ID0gcGFydGljaXBhbnRzLmxlbmd0aDtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiVGhpcyB0aHJlYWQgaGFzICUodXNlcnMpcyBwYXJ0aWNpcGFudC5cIixcbiAgICBcIlRoaXMgdGhyZWFkIGhhcyAlKHVzZXJzKXMgcGFydGljaXBhbnRzLlwiLFxuICAgIGNvdW50KTtcblxuICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgIHVzZXJzOiBjb3VudFxuICB9LCB0cnVlKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHp4Y3ZibiBmcm9tICdtaXNhZ28vc2VydmljZXMvenhjdmJuJztcblxuZXhwb3J0IGNvbnN0IFNUWUxFUyA9IFtcbiAgJ3Byb2dyZXNzLWJhci1kYW5nZXInLFxuICAncHJvZ3Jlc3MtYmFyLXdhcm5pbmcnLFxuICAncHJvZ3Jlc3MtYmFyLXdhcm5pbmcnLFxuICAncHJvZ3Jlc3MtYmFyLXByaW1hcnknLFxuICAncHJvZ3Jlc3MtYmFyLXN1Y2Nlc3MnXG5dO1xuXG5leHBvcnQgY29uc3QgTEFCRUxTID0gW1xuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB2ZXJ5IHdlYWsuXCIpLFxuICBnZXR0ZXh0KFwiRW50ZXJlZCBwYXNzd29yZCBpcyB3ZWFrLlwiKSxcbiAgZ2V0dGV4dChcIkVudGVyZWQgcGFzc3dvcmQgaXMgYXZlcmFnZS5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHN0cm9uZy5cIiksXG4gIGdldHRleHQoXCJFbnRlcmVkIHBhc3N3b3JkIGlzIHZlcnkgc3Ryb25nLlwiKVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuX3Njb3JlID0gMDtcbiAgICB0aGlzLl9wYXNzd29yZCA9IG51bGw7XG4gICAgdGhpcy5faW5wdXRzID0gW107XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB6eGN2Ym4ubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRlZDogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNjb3JlKHBhc3N3b3JkLCBpbnB1dHMpIHtcbiAgICBsZXQgY2FjaGVTdGFsZSA9IGZhbHNlO1xuXG4gICAgaWYgKHBhc3N3b3JkLnRyaW0oKSAhPT0gdGhpcy5fcGFzc3dvcmQpIHtcbiAgICAgIGNhY2hlU3RhbGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpbnB1dHMubGVuZ3RoICE9PSB0aGlzLl9pbnB1dHMubGVuZ3RoKSB7XG4gICAgICBjYWNoZVN0YWxlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRzLm1hcCgodmFsdWUsIGkpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSAhPT0gdGhpcy5faW5wdXRzW2ldKSB7XG4gICAgICAgICAgY2FjaGVTdGFsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjYWNoZVN0YWxlKSB7XG4gICAgICB0aGlzLl9zY29yZSA9IHp4Y3Zibi5zY29yZVBhc3N3b3JkKHBhc3N3b3JkLCBpbnB1dHMpO1xuICAgICAgdGhpcy5fcGFzc3dvcmQgPSBwYXNzd29yZC50cmltKCk7XG4gICAgICB0aGlzLl9pbnB1dHMgPSBpbnB1dHMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fc2NvcmU7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmxvYWRlZCkgcmV0dXJuIG51bGw7XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IHNjb3JlID0gdGhpcy5nZXRTY29yZSh0aGlzLnByb3BzLnBhc3N3b3JkLCB0aGlzLnByb3BzLmlucHV0cyk7XG5cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoZWxwLWJsb2NrIHBhc3N3b3JkLXN0cmVuZ3RoXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInByb2dyZXNzLWJhciBcIiArIFNUWUxFU1tzY29yZV19XG4gICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogKDIwICsgKDIwICogc2NvcmUpKSArICclJ319XG4gICAgICAgICAgICAgcm9sZT1cInByb2dyZXNzLWJhclwiXG4gICAgICAgICAgICAgYXJpYS12YWx1ZW5vdz17c2NvcmV9XG4gICAgICAgICAgICAgYXJpYS12YWx1ZW1pbj1cIjBcIlxuICAgICAgICAgICAgIGFyaWEtdmFsdWVtYXg9XCI0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAge0xBQkVMU1tzY29yZV19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbWFsbFwiPlxuICAgICAgICB7TEFCRUxTW3Njb3JlXX1cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25BZGQgPSAoKSA9PiB7XG4gICAgbGV0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMuc2xpY2UoKTtcbiAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgaGFzaDogZ2VuZXJhdGVSYW5kb21IYXNoKCksXG4gICAgICBsYWJlbDogJydcbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKTtcbiAgfTtcblxuICBvbkNoYW5nZSA9IChoYXNoLCBsYWJlbCkgPT4ge1xuICAgIGNvbnN0IGNob2ljZXMgPSB0aGlzLnByb3BzLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgIGlmIChjaG9pY2UuaGFzaCA9PT0gaGFzaCkge1xuICAgICAgICBjaG9pY2UubGFiZWwgPSBsYWJlbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNob2ljZVxuICAgIH0pO1xuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKTtcbiAgfTtcblxuICBvbkRlbGV0ZSA9IChoYXNoKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlcyA9IHRoaXMucHJvcHMuY2hvaWNlcy5maWx0ZXIoKGNob2ljZSkgPT4ge1xuICAgICAgcmV0dXJuIGNob2ljZS5oYXNoICE9PSBoYXNoO1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMuc2V0Q2hvaWNlcyhjaG9pY2VzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9sbC1jaG9pY2VzLWNvbnRyb2xcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8UG9sbENob2ljZVxuICAgICAgICAgICAgICAgIGNhbkRlbGV0ZT17dGhpcy5wcm9wcy5jaG9pY2VzLmxlbmd0aCA+IDJ9XG4gICAgICAgICAgICAgICAgY2hvaWNlPXtjaG9pY2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5vbkRlbGV0ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQWRkfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgY2hvaWNlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9sbENob2ljZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh0aGlzLnByb3BzLmNob2ljZS5oYXNoLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uRGVsZXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZUl0ZW0gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY2hvaWNlP1wiKSk7XG4gICAgaWYgKGRlbGV0ZUl0ZW0pIHtcbiAgICAgIHRoaXMucHJvcHMub25EZWxldGUodGhpcy5wcm9wcy5jaG9pY2UuaGFzaCk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICBkaXNhYmxlZD17IXRoaXMucHJvcHMuY2FuRGVsZXRlIHx8IHRoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRlbGV0ZX1cbiAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkRlbGV0ZSB0aGlzIGNob2ljZVwiKX1cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNsb3NlXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgbWF4bGVuZ3RoPVwiMjU1XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcImNob2ljZSBsYWJlbFwiKX1cbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfVxuICAgICAgICAvPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUhhc2goKSB7XG4gIGxldCByYW5kb21IYXNoID0gJyc7XG4gIHdoaWxlIChyYW5kb21IYXNoLmxlbmd0aCAhPSAxMikge1xuICAgIHJhbmRvbUhhc2ggPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcnKS5zdWJzdHIoMSwgMTIpO1xuICB9XG4gIHJldHVybiByYW5kb21IYXNoO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hvaWNlc0NvbnRyb2wgZnJvbSAnLi9jaG9pY2VzLWNvbnRyb2wnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnO1xuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnO1xuaW1wb3J0ICogYXMgcG9sbCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9sbCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHBvbGwgPSBwcm9wcy5wb2xsIHx8IHtcbiAgICAgIHF1ZXN0aW9uOiAnJyxcbiAgICAgIGNob2ljZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGhhc2g6ICdjaG9pY2UtMTAwMDAnLFxuICAgICAgICAgIGxhYmVsOiAnJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaGFzaDogJ2Nob2ljZS0yMDAwMCcsXG4gICAgICAgICAgbGFiZWw6ICcnXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBsZW5ndGg6IDAsXG4gICAgICBhbGxvd2VkX2Nob2ljZXM6IDEsXG4gICAgICBhbGxvd19yZXZvdGVzOiAwLFxuICAgICAgaXNfcHVibGljOiAwXG4gICAgfTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFZGl0OiAhIXBvbGwucXVlc3Rpb24sXG5cbiAgICAgIHF1ZXN0aW9uOiBwb2xsLnF1ZXN0aW9uLFxuICAgICAgY2hvaWNlczogcG9sbC5jaG9pY2VzLFxuICAgICAgbGVuZ3RoOiBwb2xsLmxlbmd0aCxcbiAgICAgIGFsbG93ZWRfY2hvaWNlczogcG9sbC5hbGxvd2VkX2Nob2ljZXMsXG4gICAgICBhbGxvd19yZXZvdGVzOiBwb2xsLmFsbG93X3Jldm90ZXMsXG4gICAgICBpc19wdWJsaWM6IHBvbGwuaXNfcHVibGljLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHF1ZXN0aW9uOiBbXSxcbiAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgIGxlbmd0aDogW10sXG4gICAgICAgIGFsbG93ZWRfY2hvaWNlczogW11cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgc2V0Q2hvaWNlcyA9IChjaG9pY2VzKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LmFzc2lnbih7fSwgZXJyb3JzLCB7Y2hvaWNlczogbnVsbH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaG9pY2VzLFxuICAgICAgZXJyb3JzXG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgcG9sbD9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2VuZCgpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgcXVlc3Rpb246IHRoaXMuc3RhdGUucXVlc3Rpb24sXG4gICAgICBjaG9pY2VzOiB0aGlzLnN0YXRlLmNob2ljZXMsXG4gICAgICBsZW5ndGg6IHRoaXMuc3RhdGUubGVuZ3RoLFxuICAgICAgYWxsb3dlZF9jaG9pY2VzOiB0aGlzLnN0YXRlLmFsbG93ZWRfY2hvaWNlcyxcbiAgICAgIGFsbG93X3Jldm90ZXM6IHRoaXMuc3RhdGUuYWxsb3dfcmV2b3RlcyxcbiAgICAgIGlzX3B1YmxpYzogdGhpcy5zdGF0ZS5pc19wdWJsaWNcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFZGl0KSB7XG4gICAgICByZXR1cm4gYWpheC5wdXQodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCwgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvbGwsIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pc0VkaXQpIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvbGwgaGFzIGJlZW4gZWRpdGVkLlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvbGwgaGFzIGJlZW4gcG9zdGVkLlwiKSk7XG4gICAgfVxuXG4gICAgcG9zdGluZy5jbG9zZSgpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5ub25fZmllbGRfZXJyb3JzKSB7XG4gICAgICAgIHJlamVjdGlvbi5hbGxvd2VkX2Nob2ljZXMgPSByZWplY3Rpb24ubm9uX2ZpZWxkX2Vycm9ycztcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICdlcnJvcnMnOiBPYmplY3QuYXNzaWduKHt9LCByZWplY3Rpb24pXG4gICAgICB9KTtcblxuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvbGwtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsIHBhbmVsLWRlZmF1bHQgcGFuZWwtZm9ybVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cblxuICAgICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+e2dldHRleHQoXCJRdWVzdGlvbiBhbmQgY2hvaWNlc1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGwgcXVlc3Rpb25cIil9XG4gICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3F1ZXN0aW9uc1wiXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMucXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfcXVlc3Rpb25zXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3F1ZXN0aW9uJyl9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIG1heGxlbmd0aD1cIjI1NVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkF2YWlsYWJsZSBjaG9pY2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNob2ljZXN9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDaG9pY2VzQ29udHJvbFxuICAgICAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q2hvaWNlcz17dGhpcy5zZXRDaG9pY2VzfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuXG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgICAgPGxlZ2VuZD57Z2V0dGV4dChcIlZvdGluZ1wiKX08L2xlZ2VuZD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIlBvbGwgbGVuZ3RoXCIpfVxuICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIkVudGVyIG51bWJlciBvZiBkYXlzIGZvciB3aGljaCB2b3RpbmcgaW4gdGhpcyBwb2xsIHNob3VsZCBiZSBwb3NzaWJsZSBvciB6ZXJvIHRvIHJ1biB0aGlzIHBvbGwgaW5kZWZpbml0ZWx5LlwiKX1cbiAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfbGVuZ3RoXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfbGVuZ3RoXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2xlbmd0aCcpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkFsbG93ZWQgY2hvaWNlc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXt0aGlzLnN0YXRlLmVycm9ycy5hbGxvd2VkX2Nob2ljZXN9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaWRfYWxsb3dlZF9jaG9pY2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2FsbG93ZWRfY2hvaWNlcycpfVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBtYXhsZW5ndGg9XCIyNTVcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFsbG93ZWRfY2hvaWNlc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiQWxsb3cgdm90ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9hbGxvd19yZXZvdGVzXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2FsbG93X3Jldm90ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBpY29uT249XCJjaGVja1wiXG4gICAgICAgICAgICAgICAgICAgICAgaWNvbk9mZj1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiQWxsb3cgcGFydGljaXBhbnRzIHRvIGNoYW5nZSB0aGVpciB2b3RlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiRG9uJ3QgYWxsb3cgcGFydGljaXBhbnRzIHRvIGNoYW5nZSB0aGVpciB2b3RlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnYWxsb3dfcmV2b3RlcycpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFsbG93X3Jldm90ZXN9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgICAgICAgPFBvbGxQdWJsaWNTd2l0Y2hcbiAgICAgICAgICAgICAgICAgICAgYmluZElucHV0PXt0aGlzLmJpbmRJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBpc0VkaXQ9e3RoaXMuc3RhdGUuaXNFZGl0fVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19wdWJsaWN9XG4gICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTRcIj5cblxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNFZGl0ID8gZ2V0dGV4dChcIlNhdmUgY2hhbmdlc1wiKSA6IGdldHRleHQoXCJQb3N0IHBvbGxcIil9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsUHVibGljU3dpdGNoKHByb3BzKSB7XG4gIGlmIChwcm9wcy5pc0VkaXQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPEZvcm1Hcm91cFxuICAgICAgbGFiZWw9e2dldHRleHQoXCJNYWtlIHZvdGluZyBwdWJsaWNcIil9XG4gICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIk1ha2luZyB2b3RpbmcgcHVibGljIHdpbGwgYWxsb3cgZXZlcnlvbmUgdG8gYWNjZXNzIGRldGFpbGVkIGxpc3Qgb2Ygdm90ZXMsIHNob3dpbmcgd2hpY2ggdXNlcnMgdm90ZWQgZm9yIHdoaWNoIGNob2ljZXMgYW5kIGF0IHdoaWNoIHRpbWVzLiBUaGlzIG9wdGlvbiBjYW4ndCBiZSBjaGFuZ2VkIGFmdGVyIHBvbGwncyBjcmVhdGlvbi4gTW9kZXJhdG9ycyBtYXkgc2VlIHZvdGluZyBkZXRhaWxzIGZvciBhbGwgcG9sbHMuXCIpfVxuICAgICAgZm9yPVwiaWRfaXNfcHVibGljXCJcbiAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICA+XG4gICAgICA8WWVzTm9Td2l0Y2hcbiAgICAgICAgaWQ9XCJpZF9pc19wdWJsaWNcIlxuICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgIGljb25Pbj1cInZpc2liaWxpdHlcIlxuICAgICAgICBpY29uT2ZmPVwidmlzaWJpbGl0eV9vZmZcIlxuICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiVm90ZXMgYXJlIHB1YmxpY1wiKX1cbiAgICAgICAgbGFiZWxPZmY9e2dldHRleHQoXCJWb3RlcyBhcmUgaGlkZGVuXCIpfVxuICAgICAgICBvbkNoYW5nZT17cHJvcHMuYmluZElucHV0KCdpc19wdWJsaWMnKX1cbiAgICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgLz5cbiAgICA8L0Zvcm1Hcm91cD5cbiAgKTtcbn0iLCJpbXBvcnQgUG9sbCBmcm9tICcuL3BvbGwnO1xuaW1wb3J0IFBvbGxGb3JtIGZyb20gJy4vZm9ybSc7XG5cbmV4cG9ydCB7IFBvbGwgfTtcbmV4cG9ydCB7IFBvbGxGb3JtIH07IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1pbmxpbmUgcG9sbC1kZXRhaWxzXCI+XG4gICAgICA8UG9sbENyZWF0aW9uIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICA8UG9sbExlbmd0aCBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgPFBvbGxWb3RlcyB2b3Rlcz17cHJvcHMucG9sbC52b3Rlc30gLz5cbiAgICAgIDxQb2xsSXNQdWJsaWMgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9sbENyZWF0aW9uKHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCJQb3N0ZWQgYnkgJShwb3N0ZXIpcyAlKHBvc3RlZF9vbilzLlwiKSksIHtcbiAgICBwb3N0ZXI6IGdldFBvc3Rlcihwcm9wcy5wb2xsKSxcbiAgICBwb3N0ZWRfb246IGdldFBvc3RlZE9uKHByb3BzLnBvbGwpXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBjbGFzc05hbWU9XCJwb2xsLWluZm8tY3JlYXRpb25cIlxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0ZXIocG9sbCkge1xuICBpZiAocG9sbC51cmwucG9zdGVyKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocG9sbC51cmwucG9zdGVyKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJldHVybiBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICB1c2VyOiBlc2NhcGVIdG1sKHBvbGwucG9zdGVyX25hbWUpXG4gIH0sIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdGVkT24ocG9sbCkge1xuICByZXR1cm4gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocG9sbC5wb3N0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxMZW5ndGgocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb2xsLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIlZvdGluZyBlbmRzICUoZW5kc19vbilzLlwiKSksIHtcbiAgICBlbmRzX29uOiBnZXRFbmRzT24ocHJvcHMucG9sbClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bGlcbiAgICAgIGNsYXNzTmFtZT1cInBvbGwtaW5mby1lbmRzLW9uXCJcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kc09uKHBvbGwpIHtcbiAgcmV0dXJuIGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHBvbGwuZW5kc09uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHBvbGwuZW5kc09uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb2xsVm90ZXMocHJvcHMpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFwiJSh2b3RlcylzIHZvdGVcIiwgXCIlKHZvdGVzKXMgdm90ZXNcIiwgcHJvcHMudm90ZXMpO1xuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAndm90ZXMnOiBwcm9wcy52b3Rlc1xuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWluZm8tdm90ZXNcIj57bGFiZWx9PC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxJc1B1YmxpYyhwcm9wcykge1xuICBpZiAoIXByb3BzLnBvbGwuaXNfcHVibGljKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWluZm8tcHVibGljXCI+e2dldHRleHQoXCJWb3RlcyBhcmUgcHVibGljLlwiKX08L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUmVzdWx0cyBmcm9tICcuL3Jlc3VsdHMnO1xuaW1wb3J0IFZvdGluZyBmcm9tICcuL3ZvdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBsZXQgc2hvd1Jlc3VsdHMgPSB0cnVlO1xuICAgIGlmIChwcm9wcy51c2VyLmlkICYmICFwcm9wcy5wb2xsLmhhc1NlbGVjdGVkQ2hvaWNlcykge1xuICAgICAgc2hvd1Jlc3VsdHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1Jlc3VsdHNcbiAgICB9O1xuICB9XG5cbiAgc2hvd1Jlc3VsdHMgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93UmVzdWx0czogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIHNob3dWb3RpbmcgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93UmVzdWx0czogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5wb2xsKSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IGlzUG9sbE92ZXIgPSBnZXRJc1BvbGxPdmVyKHRoaXMucHJvcHMucG9sbCk7XG5cbiAgICBpZiAoIWlzUG9sbE92ZXIgJiYgdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fdm90ZSAmJiAhdGhpcy5zdGF0ZS5zaG93UmVzdWx0cykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZvdGluZyBzaG93UmVzdWx0cz17dGhpcy5zaG93UmVzdWx0c30gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVzdWx0c1xuICAgICAgICAgIGlzUG9sbE92ZXI9e2lzUG9sbE92ZXJ9XG4gICAgICAgICAgc2hvd1ZvdGluZz17dGhpcy5zaG93Vm90aW5nfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldElzUG9sbE92ZXIocG9sbCkge1xuICBpZiAocG9sbC5sZW5ndGgpIHtcbiAgICByZXR1cm4gbW9tZW50KCkuaXNBZnRlcihwb2xsLmVuZHNPbik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgcG9sbC1jaG9pY2VzLWJhcnNcIj5cbiAgICAgIHtwcm9wcy5wb2xsLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UG9sbENob2ljZVxuICAgICAgICAgICAgY2hvaWNlPXtjaG9pY2V9XG4gICAgICAgICAgICBrZXk9e2Nob2ljZS5oYXNofVxuICAgICAgICAgICAgcG9sbD17cHJvcHMucG9sbH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDaG9pY2UocHJvcHMpIHtcbiAgbGV0IHByb2MgPSAwO1xuICBpZiAocHJvcHMuY2hvaWNlLnZvdGVzICYmIHByb3BzLnBvbGwudm90ZXMpIHtcbiAgICBwcm9jID0gTWF0aC5jZWlsKHByb3BzLmNob2ljZS52b3RlcyAqIDEwMCAvIHByb3BzLnBvbGwudm90ZXMpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZSBwb2xsLWNoYXJ0XCI+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWNoYXItbGFiZWxcIj5cbiAgICAgICAgICA8c3Ryb25nPntwcm9wcy5jaG9pY2UubGFiZWx9PC9zdHJvbmc+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIDxDaG9pY2VWb3Rlc1xuICAgICAgICAgIHByb2M9e3Byb2N9XG4gICAgICAgICAgdm90ZXM9e3Byb3BzLmNob2ljZS52b3Rlc31cbiAgICAgICAgLz5cbiAgICAgICAgPFVzZXJDaG9pY2Ugc2VsZWN0ZWQ9e3Byb3BzLmNob2ljZS5zZWxlY3RlZH0gLz5cbiAgICAgIDwvdWw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2dyZXNzXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJwcm9ncmVzcy1iYXJcIlxuICAgICAgICAgIHJvbGU9XCJwcm9ncmVzc2JhclwiXG4gICAgICAgICAgYXJpYS12YWx1ZW5vdz17cHJvY31cbiAgICAgICAgICBhcmlhLXZhbHVlbWluPVwiMFwiXG4gICAgICAgICAgYXJpYS12YWx1ZW1heD1cIjEwMFwiXG4gICAgICAgICAgc3R5bGU9e3t3aWR0aDogcHJvYyArICclJ319XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICB7Z2V0Vm90ZXNMYWJlbChwcm9wcy52b3RlcywgcHJvcHMucHJvYyl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaG9pY2VWb3Rlcyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWNoYXJ0LXZvdGVzXCI+XG4gICAgICB7Z2V0Vm90ZXNMYWJlbChwcm9wcy52b3RlcywgcHJvcHMucHJvYyl9XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZvdGVzTGFiZWwodm90ZXMsIHByb2MpIHtcbiAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgIFwiJSh2b3RlcylzIHZvdGUsICUocHJvYylzJSBvZiB0b3RhbC5cIixcbiAgICBcIiUodm90ZXMpcyB2b3RlcywgJShwcm9jKXMlIG9mIHRvdGFsLlwiLCB2b3Rlcyk7XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAndm90ZXMnOiB2b3RlcyxcbiAgICAncHJvYyc6IHByb2NcbiAgfSwgdHJ1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyQ2hvaWNlKHByb3BzKSB7XG4gIGlmICghcHJvcHMuc2VsZWN0ZWQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtY2hhcnQtc2VsZWN0ZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgY2hlY2tfY2lyY2xlXG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIllvdXIgY2hvaWNlLlwiKX1cbiAgICA8L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hhcnQgZnJvbSAnLi9jaGFydCc7XG5pbXBvcnQgT3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IFBvbGxJbmZvIGZyb20gJy4uL2luZm8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb2xsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgPGgyPntwcm9wcy5wb2xsLnF1ZXN0aW9ufTwvaDI+XG4gICAgICAgIDxQb2xsSW5mbyBwb2xsPXtwcm9wcy5wb2xsfSAvPlxuICAgICAgICA8Q2hhcnQgcG9sbD17cHJvcHMucG9sbH0gLz5cbiAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICBpc1BvbGxPdmVyPXtwcm9wcy5pc1BvbGxPdmVyfVxuICAgICAgICAgIHBvbGw9e3Byb3BzLnBvbGx9XG4gICAgICAgICAgc2hvd1ZvdGluZz17cHJvcHMuc2hvd1ZvdGluZ31cbiAgICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGRhdGE6IFtdXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucG9sbC5hcGkudm90ZXMpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGh5ZHJhdGVkRGF0YSA9IGRhdGEubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGNob2ljZSwge1xuICAgICAgICAgIHZvdGVyczogY2hvaWNlLnZvdGVycy5tYXAoKHZvdGVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdm90ZXIsIHtcbiAgICAgICAgICAgICAgdm90ZWRfb246IG1vbWVudCh2b3Rlci52b3RlZF9vbilcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGRhdGE6IGh5ZHJhdGVkRGF0YVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9eydtb2RhbC1kaWFsb2cnICsgKHRoaXMuc3RhdGUuZXJyb3IgPyAnIG1vZGFsLW1lc3NhZ2UnIDogJyBtb2RhbC1zbScpfVxuICAgICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQb2xsIHZvdGVzXCIpfTwvaDQ+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8TW9kYWxCb2R5XG4gICAgICAgICAgICBkYXRhPXt0aGlzLnN0YXRlLmRhdGF9XG4gICAgICAgICAgICBlcnJvcj17dGhpcy5zdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgIGlzTG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgLz5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsQm9keShwcm9wcykge1xuICBpZiAocHJvcHMuaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMb2FkZXIgLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLmVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNZXNzYWdlXG4gICAgICAgIGljb249J2Vycm9yX291dGxpbmUnXG4gICAgICAgIG1lc3NhZ2U9e3Byb3BzLmVycm9yfVxuICAgICAgLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8Q2hvaWNlc0xpc3RcbiAgICAgICAgZGF0YT17cHJvcHMuZGF0YX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlc0xpc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIHZvdGVzLWRldGFpbHNcIj5cbiAgICAgICAge3Byb3BzLmRhdGEubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPENob2ljZURldGFpbHNcbiAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaGFzaH1cbiAgICAgICAgICAgICAgey4uLmNob2ljZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hvaWNlRGV0YWlscyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxoND57cHJvcHMubGFiZWx9PC9oND5cbiAgICAgIDxWb3Rlc0NvdW50IHZvdGVzPXtwcm9wcy52b3Rlc30gLz5cbiAgICAgIDxWb3Rlc0xpc3Qgdm90ZXJzPXtwcm9wcy52b3RlcnN9IC8+XG4gICAgICA8aHIvPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBWb3Rlc0NvdW50KHByb3BzKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICBcIiUodm90ZXMpcyB1c2VyIGhhcyB2b3RlZCBmb3IgdGhpcyBjaG9pY2UuXCIsXG4gICAgXCIlKHZvdGVzKXMgdXNlcnMgaGF2ZSB2b3RlZCBmb3IgdGhpcyBjaG9pY2UuXCIsXG4gICAgcHJvcHMudm90ZXMpO1xuXG4gIGNvbnN0IGxhYmVsID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICd2b3Rlcyc6IHByb3BzLnZvdGVzXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHA+e2xhYmVsfTwvcD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFZvdGVzTGlzdChwcm9wcykge1xuICBpZiAoIXByb3BzLnZvdGVycy5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgIHtwcm9wcy52b3RlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFZvdGVyXG4gICAgICAgICAgICBrZXk9e3VzZXIuc2x1Z31cbiAgICAgICAgICAgIHsuLi51c2VyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzLnVybCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgICAgaHJlZj17cHJvcHMudXJsfVxuICAgICAgICA+XG4gICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgICZuYnNwO1xuICAgICAgICA8Vm90ZURhdGUgdm90ZWRfb249e3Byb3BzLnZvdGVkX29ufSAvPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8c3Ryb25nPntwcm9wcy51c2VybmFtZX08L3N0cm9uZz5cbiAgICAgICZuYnNwO1xuICAgICAgPFZvdGVEYXRlIHZvdGVkX29uPXtwcm9wcy52b3RlZF9vbn0gLz5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVm90ZURhdGUocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8YWJiclxuICAgICAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiXG4gICAgICB0aXRsZT17cHJvcHMudm90ZWRfb24uZm9ybWF0KCdMTEwnKX1cbiAgICA+XG4gICAgICB7cHJvcHMudm90ZWRfb24uZnJvbU5vdygpfVxuICAgIDwvYWJicj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE1vZGFsIGZyb20gJy4vbW9kYWwnO1xuaW1wb3J0ICogYXMgcG9sbCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9sbCc7XG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghaXNWaXNpYmxlKHByb3BzLmlzUG9sbE92ZXIsIHByb3BzLnBvbGwuYWNsLCBwcm9wcy5wb2xsKSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZCBsaXN0LWlubGluZSBwb2xsLW9wdGlvbnNcIj5cbiAgICAgIDxDaGFuZ2VWb3RlXG4gICAgICAgIGlzUG9sbE92ZXI9e3Byb3BzLmlzUG9sbE92ZXJ9XG4gICAgICAgIHBvbGw9e3Byb3BzLnBvbGx9XG4gICAgICAgIHNob3dWb3Rpbmc9e3Byb3BzLnNob3dWb3Rpbmd9XG4gICAgICAvPlxuICAgICAgPFNlZVZvdGVzIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgICA8RWRpdFxuICAgICAgICBwb2xsPXtwcm9wcy5wb2xsfVxuICAgICAgICB0aHJlYWQ9e3Byb3BzLnRocmVhZH1cbiAgICAgIC8+XG4gICAgICA8RGVsZXRlIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShpc1BvbGxPdmVyLCBhY2wsIHBvbGwpIHtcbiAgcmV0dXJuIChcbiAgICBwb2xsLmlzX3B1YmxpYyB8fFxuICAgIGFjbC5jYW5fZGVsZXRlIHx8XG4gICAgYWNsLmNhbl9lZGl0IHx8XG4gICAgYWNsLmNhbl9zZWVfdm90ZXMgfHxcbiAgICAoYWNsLmNhbl92b3RlICYmICFpc1BvbGxPdmVyICYmICghcG9sbC5oYXNTZWxlY3RlZENob2ljZXMgfHwgcG9sbC5hbGxvd19yZXZvdGVzKSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYW5nZVZvdGUocHJvcHMpIHtcbiAgY29uc3QgY2FuVm90ZSA9IHByb3BzLnBvbGwuYWNsLmNhbl92b3RlO1xuICBjb25zdCBjYW5DaGFuZ2VWb3RlID0gIXByb3BzLnBvbGwuaGFzU2VsZWN0ZWRDaG9pY2VzIHx8IHByb3BzLnBvbGwuYWxsb3dfcmV2b3RlcztcblxuICBpZiAoIShjYW5Wb3RlICYmIGNhbkNoYW5nZVZvdGUpKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5zaG93Vm90aW5nfVxuICAgICAgPlxuICAgICAgICB7Z2V0dGV4dChcIlZvdGVcIil9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgU2VlVm90ZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW9kYWwgcG9sbD17dGhpcy5wcm9wcy5wb2xsfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlZVZvdGVzID0gdGhpcy5wcm9wcy5wb2xsLmlzX3B1YmxpYyB8fCB0aGlzLnByb3BzLnBvbGwuYWNsLmNhbl9zZWVfdm90ZXM7XG4gICAgaWYgKCFzZWVWb3RlcykgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5wb2xsLmlzQnVzeX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgID5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlZSB2b3Rlc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICB0aHJlYWQ6IHRoaXMucHJvcHMudGhyZWFkLFxuICAgICAgcG9sbDogdGhpcy5wcm9wcy5wb2xsLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIG1vZGU6ICdQT0xMJ1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9sbC5hY2wuY2FuX2VkaXQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMucG9sbC5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBkZWxldGVQb2xsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHBvbGw/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlLlwiKSk7XG4gICAgaWYgKGRlbGV0ZVBvbGwpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwuYnVzeSgpKTtcblxuICAgICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy5wb2xsLmFwaS5pbmRleCkudGhlbihcbiAgICAgICAgdGhpcy5oYW5kbGVTdWNjZXNzLCB0aGlzLmhhbmRsZUVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlU3VjY2VzcyA9IChuZXdUaHJlYWRBY2wpID0+IHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKFwiUG9sbCBoYXMgYmVlbiBkZWxldGVkXCIpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVtb3ZlKCkpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGVBY2wobmV3VGhyZWFkQWNsKSk7XG4gIH07XG5cbiAgaGFuZGxlRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICBzdG9yZS5kaXNwYXRjaChwb2xsLnJlbGVhc2UoKSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5wb2xsLmFjbC5jYW5fZGVsZXRlKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvbGwuaXNCdXN5fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBEQVRFX0FCQlIgPSAnPGFiYnIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+JztcbmNvbnN0IFVTRVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgVVNFUl9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cIml0ZW0tdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaW5saW5lIHBvbGwtaGVscFwiPlxuICAgICAgPFBvbGxDaG9pY2VzTGVmdCBjaG9pY2VzTGVmdD17cHJvcHMuY2hvaWNlc0xlZnR9IC8+XG4gICAgICA8UG9sbEFsbG93UmV2b3RlIHBvbGw9e3Byb3BzLnBvbGx9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxDaG9pY2VzTGVmdChwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCJZb3UgY2FuIHNlbGVjdCAlKGNob2ljZXMpcyBjaG9pY2UuXCIsXG4gICAgXCJZb3UgY2FuIHNlbGVjdCAlKGNob2ljZXMpcyBjaG9pY2VzLlwiLFxuICAgIHByb3BzLmNob2ljZXNMZWZ0KTtcblxuICBjb25zdCBsYWJlbCA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAnY2hvaWNlcyc6IHByb3BzLmNob2ljZXNMZWZ0XG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInBvbGwtaGVscC1jaG9pY2VzLWxlZnRcIj57bGFiZWx9PC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvbGxBbGxvd1Jldm90ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9sbC5hbGxvd19yZXZvdGVzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtYWxsb3ctcmV2b3Rlc1wiPntnZXR0ZXh0KFwiWW91IGNhbiBjaGFuZ2UgeW91ciB2b3RlIGxhdGVyLlwiKX08L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwb2xsLWhlbHAtbm8tcmV2b3Rlc1wiPntnZXR0ZXh0KFwiVm90ZXMgYXJlIGZpbmFsLlwiKX08L2xpPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hvaWNlc0hlbHAgZnJvbSAnLi9oZWxwJztcbmltcG9ydCBDaG9pY2VzU2VsZWN0IGZyb20gJy4vc2VsZWN0JztcbmltcG9ydCB7IGdldENob2ljZXNMZWZ0LCBnZXRDaG9pY2VGcm9tSGFzaCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IFBvbGxJbmZvIGZyb20gJy4uL2luZm8nO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb2xsJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIGNob2ljZXM6IHByb3BzLnBvbGwuY2hvaWNlcyxcbiAgICAgIGNob2ljZXNMZWZ0OiBnZXRDaG9pY2VzTGVmdChwcm9wcy5wb2xsLCBwcm9wcy5wb2xsLmNob2ljZXMpXG4gICAgfTtcbiAgfVxuXG4gIHRvZ2dsZUNob2ljZSA9IChoYXNoKSA9PiB7XG4gICAgY29uc3QgY2hvaWNlID0gZ2V0Q2hvaWNlRnJvbUhhc2godGhpcy5zdGF0ZS5jaG9pY2VzLCBoYXNoKTtcblxuICAgIGxldCBjaG9pY2VzID0gbnVsbFxuICAgIGlmICghY2hvaWNlLnNlbGVjdGVkKSB7XG4gICAgICBjaG9pY2VzID0gdGhpcy5zZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hvaWNlcyA9IHRoaXMuZGVzZWxlY3RDaG9pY2UoY2hvaWNlLCBoYXNoKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNob2ljZXMsXG4gICAgICBjaG9pY2VzTGVmdDogZ2V0Q2hvaWNlc0xlZnQodGhpcy5wcm9wcy5wb2xsLCBjaG9pY2VzKVxuICAgIH0pO1xuICB9O1xuXG4gIHNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICBjb25zdCBjaG9pY2VzTGVmdCA9IGdldENob2ljZXNMZWZ0KHRoaXMucHJvcHMucG9sbCwgdGhpcy5zdGF0ZS5jaG9pY2VzKTtcblxuICAgIGlmICghY2hvaWNlc0xlZnQpIHtcbiAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLmNob2ljZXMuc2xpY2UoKSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zdGF0ZS5jaG9pY2VzW2ldO1xuICAgICAgICBpZiAoaXRlbS5zZWxlY3RlZCAmJiBpdGVtLmhhc2ggIT0gaGFzaCkge1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjaG9pY2UsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNob2ljZS5oYXNoID09IGhhc2ggPyB0cnVlIDogY2hvaWNlLnNlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBkZXNlbGVjdENob2ljZSA9IChjaG9pY2UsIGhhc2gpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2hvaWNlLCB7XG4gICAgICAgIHNlbGVjdGVkOiBjaG9pY2UuaGFzaCA9PSBoYXNoID8gZmFsc2UgOiBjaG9pY2Uuc2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmNob2ljZXNMZWZ0ID09PSB0aGlzLnByb3BzLnBvbGwuYWxsb3dlZF9jaG9pY2VzKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IG5lZWQgdG8gc2VsZWN0IGF0IGxlYXN0IG9uZSBjaG9pY2VcIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLnN0YXRlLmNob2ljZXMuc2xpY2UoKSkge1xuICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3RhdGUuY2hvaWNlc1tpXTtcbiAgICAgIGlmIChpdGVtLnNlbGVjdGVkKSB7XG4gICAgICAgIGRhdGEucHVzaChpdGVtLmhhc2gpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnBvbGwuYXBpLnZvdGVzLCBkYXRhKTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoZGF0YSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvbGwucmVwbGFjZShkYXRhKSk7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB2b3RlIGhhcyBiZWVuIHNhdmVkLlwiKSk7XG5cbiAgICB0aGlzLnByb3BzLnNob3dSZXN1bHRzKCk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb2xsXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICA8aDI+e3RoaXMucHJvcHMucG9sbC5xdWVzdGlvbn08L2gyPlxuICAgICAgICAgICAgPFBvbGxJbmZvIHBvbGw9e3RoaXMucHJvcHMucG9sbH0gLz5cbiAgICAgICAgICAgIDxDaG9pY2VzU2VsZWN0XG4gICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2hvaWNlc31cbiAgICAgICAgICAgICAgdG9nZ2xlQ2hvaWNlPXt0aGlzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8Q2hvaWNlc0hlbHBcbiAgICAgICAgICAgICAgY2hvaWNlc0xlZnQ9e3RoaXMuc3RhdGUuY2hvaWNlc0xlZnR9XG4gICAgICAgICAgICAgIHBvbGw9e3RoaXMucHJvcHMucG9sbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTYXZlIHlvdXIgdm90ZVwiKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5zaG93UmVzdWx0c31cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2VlIHJlc3VsdHNcIil9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgcG9sbC1zZWxlY3QtY2hvaWNlc1wiPlxuICAgICAge3Byb3BzLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2hvaWNlU2VsZWN0XG4gICAgICAgICAgICBjaG9pY2U9e2Nob2ljZX1cbiAgICAgICAgICAgIGtleT17Y2hvaWNlLmhhc2h9XG4gICAgICAgICAgICB0b2dnbGVDaG9pY2U9e3Byb3BzLnRvZ2dsZUNob2ljZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIENob2ljZVNlbGVjdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy50b2dnbGVDaG9pY2UodGhpcy5wcm9wcy5jaG9pY2UuaGFzaCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPVwicG9sbC1zZWxlY3QtY2hvaWNlXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gJ2J0biBidG4tc2VsZWN0ZWQnIDogJ2J0bid9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLnNlbGVjdGVkID8gJ2NoZWNrX2NpcmNsZScgOiAnY2hlY2snfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlLmxhYmVsfVxuICAgICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VGcm9tSGFzaChjaG9pY2VzLCBoYXNoKSB7XG4gIGZvciAoY29uc3QgaSBpbiBjaG9pY2VzKSB7XG4gICAgY29uc3QgY2hvaWNlID0gY2hvaWNlc1tpXTtcbiAgICBpZiAoY2hvaWNlLmhhc2ggPT09IGhhc2gpIHtcbiAgICAgIHJldHVybiBjaG9pY2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaG9pY2VzTGVmdChwb2xsLCBjaG9pY2VzKSB7XG4gIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgZm9yIChjb25zdCBpIGluIGNob2ljZXMpIHtcbiAgICBjb25zdCBjaG9pY2UgPSBjaG9pY2VzW2ldO1xuICAgIGlmIChjaG9pY2Uuc2VsZWN0ZWQpIHtcbiAgICAgIHNlbGVjdGlvbi5wdXNoKGNob2ljZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBvbGwuYWxsb3dlZF9jaG9pY2VzIC0gc2VsZWN0aW9uLmxlbmd0aDtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keSBwb3N0LWNoYW5nZWxvZy1kaWZmXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC11bnN0eWxlZFwiPlxuICAgICAgICB7cHJvcHMuZGlmZi5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPERpZmZJdGVtIGl0ZW09e2l0ZW19IGtleT17aX0gLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEaWZmSXRlbShwcm9wcykge1xuICBpZiAocHJvcHMuaXRlbVswXSA9PT0gJz8nKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9e2dldEl0ZW1DbGFzc05hbWUocHJvcHMuaXRlbSl9PlxuICAgICAge2NsZWFuSXRlbShwcm9wcy5pdGVtKX1cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUNsYXNzTmFtZShpdGVtKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnZGlmZi1pdGVtJztcbiAgaWYgKGl0ZW1bMF0gPT09ICctJykge1xuICAgIGNsYXNzTmFtZSArPSAnIGRpZmYtaXRlbS1zdWInO1xuICB9IGVsc2UgaWYgKGl0ZW1bMF0gPT09ICcrJykge1xuICAgIGNsYXNzTmFtZSArPSAnIGRpZmYtaXRlbS1hZGQnO1xuICB9XG4gIHJldHVybiBjbGFzc05hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkl0ZW0oaXRlbSkge1xuICByZXR1cm4gaXRlbS5zdWJzdHIoMik7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEaWZmIGZyb20gJy4vZGlmZic7XG5pbXBvcnQgVG9vbGJhciBmcm9tICcuL3Rvb2xiYXInO1xuaW1wb3J0IHsgaHlkcmF0ZUVkaXQgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIGNhblJldmVydDogcHJvcHMucG9zdC5hY2wuY2FuX2VkaXQsXG5cbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgZWRpdDogbnVsbFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmdvVG9FZGl0KCk7XG4gIH1cblxuICBnb1RvRWRpdCA9IChlZGl0PW51bGwpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgbGV0IHVybCA9IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdHM7XG4gICAgaWYgKGVkaXQgIT09IG51bGwpIHtcbiAgICAgIHVybCArPSAnP2VkaXQ9JyArIGVkaXQ7XG4gICAgfVxuXG4gICAgYWpheC5nZXQodXJsKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgaXNCdXN5OiBmYWxzZSxcbiAgICAgICAgZWRpdDogaHlkcmF0ZUVkaXQoZGF0YSlcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1JlYWR5OiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV2ZXJ0RWRpdCA9IChlZGl0KSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNCdXN5KSByZXR1cm47XG5cbiAgICBjb25zdCBjb25maXJtYXRpb24gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdpdGggdG8gcmV2ZXJ0IHRoaXMgcG9zdCB0byB0aGUgc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0P1wiKSk7XG4gICAgaWYgKCFjb25maXJtYXRpb24pIHJldHVybjtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNCdXN5OiB0cnVlXG4gICAgfSk7XG5cbiAgICBjb25zdCB1cmwgPSB0aGlzLnByb3BzLnBvc3QuYXBpLmVkaXRzICsgJz9lZGl0PScgKyBlZGl0O1xuICAgIGFqYXgucG9zdCh1cmwpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGh5ZHJhdGVkUG9zdCA9IHBvc3QuaHlkcmF0ZShkYXRhKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goZGF0YSwgaHlkcmF0ZWRQb3N0KSk7XG5cbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvc3QgaGFzIGJlZW4gcmV2ZXJ0ZWQgdG8gcHJldmlvdXMgc3RhdGUuXCIpKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxEaWFsb2cgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nIG1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICA8TWVzc2FnZVxuICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5zdGF0ZS5lcnJvcn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L01vZGFsRGlhbG9nPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGFsRGlhbG9nPlxuICAgICAgICAgIDxUb29sYmFyXG4gICAgICAgICAgICBjYW5SZXZlcnQ9e3RoaXMuc3RhdGUuY2FuUmV2ZXJ0fVxuICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgICAgZWRpdD17dGhpcy5zdGF0ZS5lZGl0fVxuICAgICAgICAgICAgZ29Ub0VkaXQ9e3RoaXMuZ29Ub0VkaXR9XG4gICAgICAgICAgICByZXZlcnRFZGl0PXt0aGlzLnJldmVydEVkaXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8RGlmZiBkaWZmPXt0aGlzLnN0YXRlLmVkaXQuZGlmZn0gLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbERpYWxvZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lIHx8IFwibW9kYWwtZGlhbG9nXCJ9XG4gICAgICByb2xlPVwiZG9jdW1lbnRcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJQb3N0IGVkaXRzIGhpc3RvcnlcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IERBVEVfQUJCUiA9ICc8YWJiciB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYWJicj4nO1xuY29uc3QgVVNFUl9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBVU0VSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9hPic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ29MYXN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQoKTtcbiAgfTtcblxuICBnb0ZvcndhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5nb1RvRWRpdCh0aGlzLnByb3BzLmVkaXQubmV4dCk7XG4gIH07XG5cbiAgZ29CYWNrID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuZ29Ub0VkaXQodGhpcy5wcm9wcy5lZGl0LnByZXZpb3VzKTtcbiAgfTtcblxuICByZXZlcnRFZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMucmV2ZXJ0RWRpdCh0aGlzLnByb3BzLmVkaXQuaWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLXRvb2xiYXJcIj5cbiAgICAgICAgPEdvQmFja0J0blxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvQmFja31cbiAgICAgICAgLz5cbiAgICAgICAgPEdvRm9yd2FyZEJ0blxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvRm9yd2FyZH1cbiAgICAgICAgLz5cbiAgICAgICAgPEdvTGFzdEJ0blxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmdvTGFzdH1cbiAgICAgICAgLz5cbiAgICAgICAgPExhYmVsIGVkaXQ9e3RoaXMucHJvcHMuZWRpdH0gLz5cbiAgICAgICAgPFJldmVydEJ0blxuICAgICAgICAgIGNhblJldmVydD17dGhpcy5wcm9wcy5jYW5SZXZlcnR9XG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5yZXZlcnRFZGl0fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR29CYWNrQnRuKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLWljb24gYnRuLXNtIHB1bGwtbGVmdFwiXG4gICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWQgfHwgIXByb3BzLmVkaXQucHJldmlvdXN9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJTZWUgcHJldmlvdXMgY2hhbmdlXCIpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgY2hldnJvbl9sZWZ0XG4gICAgICA8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvRm9yd2FyZEJ0bihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1pY29uIGJ0bi1zbSBwdWxsLWxlZnRcIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkIHx8ICFwcm9wcy5lZGl0Lm5leHR9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdGl0bGU9e2dldHRleHQoXCJTZWUgcHJldmlvdXMgY2hhbmdlXCIpfVxuICAgID5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgY2hldnJvbl9yaWdodFxuICAgICAgPC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHb0xhc3RCdG4ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uXG4gICAgICBjbGFzc05hbWU9XCJidG4tZGVmYXVsdCBidG4taWNvbiBidG4tc20gcHVsbC1sZWZ0XCJcbiAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZCB8fCAhcHJvcHMuZWRpdC5uZXh0fVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiU2VlIHByZXZpb3VzIGNoYW5nZVwiKX1cbiAgICA+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGxhc3RfcGFnZVxuICAgICAgPC9zcGFuPlxuICAgIDwvQnV0dG9uPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXZlcnRCdG4ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5jYW5SZXZlcnQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgY2xhc3NOYW1lPVwiYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcIlxuICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgb25DbGljaz17cHJvcHMub25DbGlja31cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUmV2ZXJ0IHBvc3QgdG8gc3RhdGUgZnJvbSBiZWZvcmUgdGhpcyBlZGl0LlwiKX1cbiAgICA+XG4gICAgICB7Z2V0dGV4dChcIlJldmVydFwiKX1cbiAgICA8L0J1dHRvbj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFiZWwocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMuZWRpdC51cmwuZWRpdG9yKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC51cmwuZWRpdG9yKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0b3JfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLmVkaXQuZWRpdG9yX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9BQkJSLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuZWRpdC5lZGl0ZWRfb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiQnkgJShlZGl0ZWRfYnkpcyAlKGVkaXRlZF9vbilzLlwiKSksIHtcbiAgICBlZGl0ZWRfYnk6IHVzZXIsXG4gICAgZWRpdGVkX29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cInB1bGwtbGVmdFwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19XG4gICAgLz5cbiAgKTtcbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlRWRpdChqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgZWRpdGVkX29uOiBtb21lbnQoanNvbi5lZGl0ZWRfb24pXG4gIH0pO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1tZXNzYWdlJztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIGxpa2VzOiBbXVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnBvc3QuYXBpLmxpa2VzKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgICAgbGlrZXM6IGRhdGEubWFwKGh5ZHJhdGVMaWtlKVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzUmVhZHk6IHRydWUsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2VcbiAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzUmVhZHkpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmxpa2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgICAgIDxMaWtlc0xpc3RcbiAgICAgICAgICAgICAgbGlrZXM9e3RoaXMuc3RhdGUubGlrZXN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvTW9kYWxEaWFsb2c+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbERpYWxvZyBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgPE1lc3NhZ2VcbiAgICAgICAgICAgIG1lc3NhZ2U9e2dldHRleHQoXCJObyB1c2VycyBoYXZlIGxpa2VkIHRoaXMgcG9zdC5cIil9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbERpYWxvZz5cbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgPC9Nb2RhbERpYWxvZz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlTGlrZShkYXRhKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgbGlrZWRfb246IG1vbWVudChkYXRhLmxpa2VkX29uKVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsRGlhbG9nKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtcIm1vZGFsLWRpYWxvZyBtb2RhbC1zbSBcIiArIChwcm9wcy5jbGFzc05hbWUgfHwgJycpfVxuICAgICAgcm9sZT1cImRvY3VtZW50XCJcbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiUG9zdCBMaWtlc1wiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VzTGlzdChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ0YWJsZVwiPlxuICAgICAgPHRib2R5PlxuICAgICAgICB7cHJvcHMubGlrZXMubWFwKChsaWtlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxMaWtlRGV0YWlsc1xuICAgICAgICAgICAgICBrZXk9e2xpa2UuaWR9XG4gICAgICAgICAgICAgIHsuLi5saWtlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpa2VEZXRhaWxzKHByb3BzKSB7XG4gIGlmIChwcm9wcy51cmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHRyPlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwiY29sLW1kLTZcIj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiXG4gICAgICAgICAgICBocmVmPXtwcm9wcy51cmx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Byb3BzLnVzZXJuYW1lfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPExpa2VEYXRlIGxpa2VkT249e3Byb3BzLmxpa2VkX29ufSAvPlxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dHI+XG4gICAgICA8dGQgY2xhc3NOYW1lPVwiY29sLW1kLTZcIj5cbiAgICAgICAgPHN0cm9uZz57cHJvcHMudXNlcm5hbWV9PC9zdHJvbmc+XG4gICAgICA8L3RkPlxuICAgICAgPExpa2VEYXRlIGxpa2VkT249e3Byb3BzLmxpa2VkX29ufSAvPlxuICAgIDwvdHI+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaWtlRGF0ZShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx0ZCBjbGFzc05hbWU9XCJjb2wtbWQtNlwiPlxuICAgICAgPGFiYnJcbiAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiXG4gICAgICAgIHRpdGxlPXtwcm9wcy5saWtlZE9uLmZvcm1hdCgnTExMJyl9XG4gICAgICA+XG4gICAgICAgIHtwcm9wcy5saWtlZE9uLmZyb21Ob3coKX1cbiAgICAgIDwvYWJicj5cbiAgICA8L3RkPlxuICApO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRWRpdG9yIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2VkaXRvcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi91dGlscy9jb250YWluZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICcuL3V0aWxzL2xvYWRlcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL3V0aWxzL21lc3NhZ2UnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSAnLi91dGlscy9hdHRhY2htZW50cyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycyB9IGZyb20gJy4vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcmVkOiBmYWxzZSxcblxuICAgICAgcG9zdDogJycsXG4gICAgICBhdHRhY2htZW50czogW10sXG4gICAgICBwcm90ZWN0OiBmYWxzZSxcblxuICAgICAgY2FuUHJvdGVjdDogZmFsc2UsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuaHlkcmF0ZShkYXRhLmF0dGFjaG1lbnRzKSxcbiAgICAgIHByb3RlY3Q6IGRhdGEuaXNfcHJvdGVjdGVkLFxuXG4gICAgICBjYW5Qcm90ZWN0OiBkYXRhLmNhbl9wcm90ZWN0XG4gICAgfSk7XG4gIH07XG5cbiAgbG9hZEVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgY2hhbmdlcz9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25Qcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogdHJ1ZVxuICAgIH0pO1xuICB9O1xuXG4gIG9uVW5wcm90ZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHJvdGVjdDogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBvblBvc3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwb3N0JywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gKGF0dGFjaG1lbnRzKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnBvc3QpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy5wb3N0WzBdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucHV0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICBwb3N0OiB0aGlzLnN0YXRlLnBvc3QsXG4gICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMuY2xlYW4odGhpcy5zdGF0ZS5hdHRhY2htZW50cyksXG4gICAgICBwcm90ZWN0OiB0aGlzLnN0YXRlLnByb3RlY3RcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlJlcGx5IGhhcyBiZWVuIGVkaXRlZC5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsLmluZGV4O1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBpZiAocmVqZWN0aW9uLmNhdGVnb3J5KSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5jYXRlZ29yeVswXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi50aXRsZSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24udGl0bGVbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24ucG9zdCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24ucG9zdFswXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cblxuICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzPXt0aGlzLnN0YXRlLmF0dGFjaG1lbnRzfVxuICAgICAgICAgICAgICAgICAgY2FuUHJvdGVjdD17dGhpcy5zdGF0ZS5jYW5Qcm90ZWN0fVxuICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBvbkF0dGFjaG1lbnRzQ2hhbmdlPXt0aGlzLm9uQXR0YWNobWVudHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5vbkNhbmNlbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uUHJvdGVjdD17dGhpcy5vblByb3RlY3R9XG4gICAgICAgICAgICAgICAgICBvblVucHJvdGVjdD17dGhpcy5vblVucHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIHByb3RlY3Q9e3RoaXMuc3RhdGUucHJvdGVjdH1cbiAgICAgICAgICAgICAgICAgIHN1Ym1pdExhYmVsPXtnZXR0ZXh0KFwiRWRpdCByZXBseVwiKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcmVkfSAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExvYWRlciAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTdGFydCBmcm9tICcuL3N0YXJ0JztcbmltcG9ydCBTdGFydFByaXZhdGUgZnJvbSAnLi9zdGFydC1wcml2YXRlJztcbmltcG9ydCBSZXBseSBmcm9tICcuL3JlcGx5JztcbmltcG9ydCBFZGl0IGZyb20gJy4vZWRpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5tb2RlID09PSAnU1RBUlQnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTdGFydCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnU1RBUlRfUFJJVkFURScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFN0YXJ0UHJpdmF0ZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnUkVQTFknKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5tb2RlID09PSAnRURJVCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEVkaXQgey4uLnByb3BzfSAvPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEVkaXRvciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9lZGl0b3InOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vdXRpbHMvY29udGFpbmVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnLi91dGlscy9sb2FkZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgZ2V0UG9zdFZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzUmVhZHk6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRXJyb3JlZDogZmFsc2UsXG5cbiAgICAgIHBvc3Q6ICcnLFxuICAgICAgYXR0YWNobWVudHM6IFtdLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuY29uZmlnLCB0aGlzLnByb3BzLmNvbnRleHQgfHwgbnVsbCkudGhlbih0aGlzLmxvYWRTdWNjZXNzLCB0aGlzLmxvYWRFcnJvcik7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnByb3BzLmNvbnRleHQ7XG4gICAgY29uc3QgbmV3Q29udGV4dCA9IG5leHRQcm9wcy5jb250ZXh0O1xuXG4gICAgaWYgKGNvbnRleHQgJiYgbmV3Q29udGV4dCAmJiBjb250ZXh0LnJlcGx5ID09PSBuZXdDb250ZXh0LnJlcGx5KSByZXR1cm47XG5cbiAgICBhamF4LmdldChuZXh0UHJvcHMuY29uZmlnLCBuZXh0UHJvcHMuY29udGV4dCB8fCBudWxsKS50aGVuKHRoaXMuYXBwZW5kRGF0YSwgc25hY2tiYXIuYXBpRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1JlYWR5OiB0cnVlLFxuXG4gICAgICBwb3N0OiBkYXRhLnBvc3QgPyAoJ1txdW90ZT1cIkAnICsgIGRhdGEucG9zdGVyICsgJ1wiXVxcbicgKyBkYXRhLnBvc3QgKyAnXFxuWy9xdW90ZV0nKSA6ICcnXG4gICAgfSk7XG4gIH07XG5cbiAgbG9hZEVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFcnJvcmVkOiByZWplY3Rpb24uZGV0YWlsXG4gICAgfSk7XG4gIH07XG5cbiAgYXBwZW5kRGF0YSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgbmV3UG9zdCA9IGRhdGEucG9zdCA/ICgnW3F1b3RlPVwiQCcgKyAgZGF0YS5wb3N0ZXIgKyAnXCJdXFxuJyArIGRhdGEucG9zdCArICdcXG5bL3F1b3RlXVxcblxcbicpIDogJyc7XG5cbiAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICBpZiAocHJldlN0YXRlLnBvc3QubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBvc3Q6IHByZXZTdGF0ZS5wb3N0ICsgJ1xcblxcbicgKyBuZXdQb3N0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc3Q6IG5ld1Bvc3RcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgeW91ciByZXBseT9cIikpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIHBvc3RpbmcuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgb25Qb3N0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgncG9zdCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25BdHRhY2htZW50c0NoYW5nZSA9IChhdHRhY2htZW50cykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXR0YWNobWVudHNcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUucG9zdC50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYSBtZXNzYWdlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHBvc3Q6IHRoaXMuc3RhdGUucG9zdCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5jbGVhbih0aGlzLnN0YXRlLmF0dGFjaG1lbnRzKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciByZXBseSBoYXMgYmVlbiBwb3N0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybC5pbmRleDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jYXRlZ29yeSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uY2F0ZWdvcnlbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24udGl0bGUpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnRpdGxlWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnBvc3QpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvc3RbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIj5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IG1ldGhvZD1cIlBPU1RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIlBvc3QgcmVwbHlcIil9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wb3N0fVxuICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcmVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TWVzc2FnZSBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3JlZH0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRWRpdG9yIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2VkaXRvcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBDb250YWluZXIgZnJvbSAnLi91dGlscy9jb250YWluZXInOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi91dGlscy9tZXNzYWdlJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIGF0dGFjaG1lbnRzIGZyb20gJy4vdXRpbHMvYXR0YWNobWVudHMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGNsZWFuVXNlcm5hbWVzIGZyb20gJy4vdXRpbHMvdXNlcm5hbWVzJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGdldFBvc3RWYWxpZGF0b3JzLCBnZXRUaXRsZVZhbGlkYXRvcnMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRvcnMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3QgdG8gPSAocHJvcHMudG8gfHwgW10pLm1hcCgodXNlcikgPT4gdXNlci51c2VybmFtZSkuam9pbignLCAnKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0bzogdG8sXG4gICAgICB0aXRsZTogJycsXG4gICAgICBwb3N0OiAnJyxcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKCksXG4gICAgICAgIHBvc3Q6IGdldFBvc3RWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRpc2NhcmQgcHJpdmF0ZSB0aHJlYWQ/XCIpKTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uVG9DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd0bycsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25UaXRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3RpdGxlJywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvblBvc3RDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwb3N0JywgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfTtcblxuICBvbkF0dGFjaG1lbnRzQ2hhbmdlID0gKGF0dGFjaG1lbnRzKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhdHRhY2htZW50c1xuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNsZWFuKCkge1xuICAgIGlmICghY2xlYW5Vc2VybmFtZXModGhpcy5zdGF0ZS50bykubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgYXQgbGVhc3Qgb25lIHJlY2lwaWVudC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS50aXRsZS50cmltKCkubGVuZ3RoKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiWW91IGhhdmUgdG8gZW50ZXIgdGhyZWFkIHRpdGxlLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnBvc3QudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGEgbWVzc2FnZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGVycm9ycy5wb3N0KSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMucG9zdFswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy5zdWJtaXQsIHtcbiAgICAgIHRvOiBjbGVhblVzZXJuYW1lcyh0aGlzLnN0YXRlLnRvKSxcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpLFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiWW91ciB0aHJlYWQgaGFzIGJlZW4gcG9zdGVkLlwiKSk7XG4gICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzcy51cmw7XG5cbiAgICAvLyBrZWVwIGZvcm0gbG9hZGluZ1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgJ2lzTG9hZGluZyc6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIGlmIChyZWplY3Rpb24udG8pIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnRvWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnRpdGxlKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi50aXRsZVswXSk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5wb3N0KSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5wb3N0WzBdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctZm9ybVwiIHdpdGhGaXJzdFJvdz17dHJ1ZX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuXG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVG9DaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB1c2VyIG5hbWVzLCBlZy46IERhbm55LCBMaXNhXCIpfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50b31cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgZmlyc3Qtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMlwiPlxuXG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVGl0bGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJUaHJlYWQgdGl0bGVcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtMTJcIj5cblxuICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHM9e3RoaXMuc3RhdGUuYXR0YWNobWVudHN9XG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLm9uQ2FuY2VsfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUG9zdENoYW5nZX1cbiAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIlBvc3QgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnBvc3R9XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NvbnRhaW5lcj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBFZGl0b3IgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZWRpdG9yJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL3V0aWxzL2NvbnRhaW5lcic7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJy4vdXRpbHMvbG9hZGVyJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4vdXRpbHMvbWVzc2FnZSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgT3B0aW9ucyBmcm9tICcuL3V0aWxzL29wdGlvbnMnOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgYXR0YWNobWVudHMgZnJvbSAnLi91dGlscy9hdHRhY2htZW50cyc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBnZXRQb3N0VmFsaWRhdG9ycywgZ2V0VGl0bGVWYWxpZGF0b3JzIH0gZnJvbSAnLi91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc1JlYWR5OiBmYWxzZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0Vycm9yZWQ6IGZhbHNlLFxuXG4gICAgICBzaG93T3B0aW9uczogZmFsc2UsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IG51bGwsXG5cbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGNhdGVnb3J5OiBwcm9wcy5jYXRlZ29yeSB8fCBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgICBwb3N0OiAnJyxcbiAgICAgIGF0dGFjaG1lbnRzOiBbXSxcbiAgICAgIGNsb3NlOiBmYWxzZSxcbiAgICAgIGhpZGU6IGZhbHNlLFxuICAgICAgcGluOiAwLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBnZXRUaXRsZVZhbGlkYXRvcnMoKSxcbiAgICAgICAgcG9zdDogZ2V0UG9zdFZhbGlkYXRvcnMoKVxuICAgICAgfSxcbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5jb25maWcpLnRoZW4odGhpcy5sb2FkU3VjY2VzcywgdGhpcy5sb2FkRXJyb3IpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkU3VjY2VzcyA9IChkYXRhKSA9PiB7XG4gICAgbGV0IGNhdGVnb3J5ID0gbnVsbDtcbiAgICBsZXQgc2hvd09wdGlvbnMgPSBmYWxzZTtcbiAgICBsZXQgY2F0ZWdvcnlPcHRpb25zID0gbnVsbDtcblxuICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIC8vIHBpY2sgZmlyc3QgY2F0ZWdvcnkgdGhhdCBhbGxvd3MgcG9zdGluZyBhbmQgaWYgaXQgbWF5LCBvdmVycmlkZSBpdCB3aXRoIGluaXRpYWwgb25lXG4gICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAoIWNhdGVnb3J5IHx8IGl0ZW0uaWQgPT0gdGhpcy5zdGF0ZS5jYXRlZ29yeSkpIHtcbiAgICAgICAgY2F0ZWdvcnkgPSBpdGVtLmlkO1xuICAgICAgICBjYXRlZ29yeU9wdGlvbnMgPSBpdGVtLnBvc3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLnBvc3QgJiYgKGl0ZW0ucG9zdC5jbG9zZSB8fCBpdGVtLnBvc3QuaGlkZSB8fCBpdGVtLnBvc3QucGluKSkge1xuICAgICAgICBzaG93T3B0aW9ucyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgIHZhbHVlOiBpdGVtLmlkXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNSZWFkeTogdHJ1ZSxcbiAgICAgIHNob3dPcHRpb25zLFxuXG4gICAgICBjYXRlZ29yaWVzLFxuICAgICAgY2F0ZWdvcnksXG4gICAgICBjYXRlZ29yeU9wdGlvbnNcbiAgICB9KTtcbiAgfTtcblxuICBsb2FkRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0Vycm9yZWQ6IHJlamVjdGlvbi5kZXRhaWxcbiAgICB9KTtcbiAgfTtcblxuICBvbkNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW5jZWwgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY2FyZCB0aHJlYWQ/XCIpKTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBwb3N0aW5nLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIG9uVGl0bGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd0aXRsZScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gdGhpcy5zdGF0ZS5jYXRlZ29yaWVzLmZpbmQoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBldmVudC50YXJnZXQudmFsdWUgPT0gaXRlbS52YWx1ZTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHNlbGVjdGVkIHBpbiBpcyBncmVhdGVyIHRoYW4gYWxsb3dlZCwgcmVkdWNlIGl0XG4gICAgbGV0IHBpbiA9IHRoaXMuc3RhdGUucGluO1xuICAgIGlmIChjYXRlZ29yeS5wb3N0LnBpbiAmJiBjYXRlZ29yeS5wb3N0LnBpbiA8IHBpbikge1xuICAgICAgcGluID0gY2F0ZWdvcnkucG9zdC5waW47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnkuaWQsXG4gICAgICBjYXRlZ29yeU9wdGlvbnM6IGNhdGVnb3J5LnBvc3QsXG5cbiAgICAgIHBpblxuICAgIH0pO1xuICB9O1xuXG4gIG9uUG9zdENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3Bvc3QnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIG9uQXR0YWNobWVudHNDaGFuZ2UgPSAoYXR0YWNobWVudHMpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGF0dGFjaG1lbnRzXG4gICAgfSk7XG4gIH07XG5cbiAgb25DbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjbG9zZScsIHRydWUpO1xuICB9O1xuXG4gIG9uT3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjbG9zZScsIGZhbHNlKTtcbiAgfTtcblxuICBvblBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDIpO1xuICB9O1xuXG4gIG9uUGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdwaW4nLCAxKTtcbiAgfTtcblxuICBvblVucGluID0gKCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3BpbicsIDApO1xuICB9O1xuXG4gIG9uSGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdoaWRlJywgdHJ1ZSk7XG4gIH07XG5cbiAgb25VbmhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jaGFuZ2VWYWx1ZSgnaGlkZScsIGZhbHNlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHRocmVhZCB0aXRsZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zdGF0ZS5wb3N0LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBhIG1lc3NhZ2UuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICBpZiAoZXJyb3JzLnRpdGxlKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihlcnJvcnMudGl0bGVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChlcnJvcnMucG9zdCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZXJyb3JzLnBvc3RbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMuc3VibWl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgcG9zdDogdGhpcy5zdGF0ZS5wb3N0LFxuICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLmNsZWFuKHRoaXMuc3RhdGUuYXR0YWNobWVudHMpLFxuICAgICAgY2xvc2U6IHRoaXMuc3RhdGUuY2xvc2UsXG4gICAgICBoaWRlOiB0aGlzLnN0YXRlLmhpZGUsXG4gICAgICBwaW46IHRoaXMuc3RhdGUucGluXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpIHtcbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJZb3VyIHRocmVhZCBoYXMgYmVlbiBwb3N0ZWQuXCIpKTtcbiAgICB3aW5kb3cubG9jYXRpb24gPSBzdWNjZXNzLnVybDtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jYXRlZ29yeSkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uY2F0ZWdvcnlbMF0pO1xuICAgICAgfSBlbHNlIGlmIChyZWplY3Rpb24udGl0bGUpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnRpdGxlWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnBvc3QpIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLnBvc3RbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWZvcm1cIiB3aXRoRmlyc3RSb3c9e3RydWV9PlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBmaXJzdC1yb3dcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuc3RhdGUuc2hvd09wdGlvbnMgPyAnY29sLW1kLTYnIDogJ2NvbC1tZC04J30+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25UaXRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXsnY29sLW1kLTQnfT5cbiAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPE9wdGlvbnNcbiAgICAgICAgICAgICAgICBjbG9zZT17dGhpcy5zdGF0ZS5jbG9zZX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgaGlkZT17dGhpcy5zdGF0ZS5oaWRlfVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25DbG9zZX1cbiAgICAgICAgICAgICAgICBvbkhpZGU9e3RoaXMub25IaWRlfVxuICAgICAgICAgICAgICAgIG9uT3Blbj17dGhpcy5vbk9wZW59XG4gICAgICAgICAgICAgICAgb25QaW5HbG9iYWxseT17dGhpcy5vblBpbkdsb2JhbGx5fVxuICAgICAgICAgICAgICAgIG9uUGluTG9jYWxseT17dGhpcy5vblBpbkxvY2FsbHl9XG4gICAgICAgICAgICAgICAgb25VbmhpZGU9e3RoaXMub25VbmhpZGV9XG4gICAgICAgICAgICAgICAgb25VbnBpbj17dGhpcy5vblVucGlufVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuc3RhdGUuY2F0ZWdvcnlPcHRpb25zfVxuICAgICAgICAgICAgICAgIHBpbj17dGhpcy5zdGF0ZS5waW59XG4gICAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3RoaXMuc3RhdGUuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG5cbiAgICAgICAgICAgICAgICA8RWRpdG9yXG4gICAgICAgICAgICAgICAgICBhdHRhY2htZW50cz17dGhpcy5zdGF0ZS5hdHRhY2htZW50c31cbiAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgb25BdHRhY2htZW50c0NoYW5nZT17dGhpcy5vbkF0dGFjaG1lbnRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblBvc3RDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBzdWJtaXRMYWJlbD17Z2V0dGV4dChcIlBvc3QgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucG9zdH1cbiAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzRXJyb3JlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1lc3NhZ2UgbWVzc2FnZT17dGhpcy5zdGF0ZS5pc0Vycm9yZWR9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICApO1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbihhdHRhY2htZW50cykge1xuICBjb25zdCBjb21wbGV0ZWRBdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzLmZpbHRlcigoYXR0YWNobWVudCkgPT4ge1xuICAgIHJldHVybiBhdHRhY2htZW50LmlkICYmICFhdHRhY2htZW50LmlzUmVtb3ZlZDtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBsZXRlZEF0dGFjaG1lbnRzLm1hcCgoYSkgPT4geyByZXR1cm4gYS5pZDsgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGF0dGFjaG1lbnRzKSB7XG4gIHJldHVybiBhdHRhY2htZW50cy5tYXAoKGF0dGFjaG1lbnQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgYXR0YWNobWVudCwge1xuICAgICAgdXBsb2FkZWRfb246IG1vbWVudChhdHRhY2htZW50LnVwbG9hZGVkX29uKVxuICAgIH0pO1xuICB9KTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgPGRpdiBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICcuL2NvbnRhaW5lcic7XG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2xvYWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBjbGFzc05hbWU9XCJwb3N0aW5nLWxvYWRlclwiPlxuICAgICAgPExvYWRlciAvPlxuICAgIDwvQ29udGFpbmVyPlxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyIGNsYXNzTmFtZT1cInBvc3RpbmctbWVzc2FnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgZXJyb3Jfb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7cHJvcHMubWVzc2FnZX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBvbkNsaWNrPXtwb3N0aW5nLmNsb3NlfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRpc21pc3NcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnNob3dPcHRpb25zKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTIgcG9zdGluZy1vcHRpb25zXCI+XG4gICAgICAgIDxQaW5PcHRpb25zXG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIG9uUGluR2xvYmFsbHk9e3Byb3BzLm9uUGluR2xvYmFsbHl9XG4gICAgICAgICAgb25QaW5Mb2NhbGx5PXtwcm9wcy5vblBpbkxvY2FsbHl9XG4gICAgICAgICAgb25VbnBpbj17cHJvcHMub25VbnBpbn1cbiAgICAgICAgICBwaW49e3Byb3BzLnBpbn1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLnBpbn1cbiAgICAgICAgLz5cbiAgICAgICAgPEhpZGVPcHRpb25zXG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICAgIGhpZGU9e3Byb3BzLmhpZGV9XG4gICAgICAgICAgb25IaWRlPXtwcm9wcy5vbkhpZGV9XG4gICAgICAgICAgb25VbmhpZGU9e3Byb3BzLm9uVW5oaWRlfVxuICAgICAgICAgIHNob3c9e3Byb3BzLm9wdGlvbnMuaGlkZX1cbiAgICAgICAgLz5cbiAgICAgICAgPENsb3NlT3B0aW9uc1xuICAgICAgICAgIGNsb3NlPXtwcm9wcy5jbG9zZX1cbiAgICAgICAgICBkaXNhYmxlZD17cHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgb25DbG9zZT17cHJvcHMub25DbG9zZX1cbiAgICAgICAgICBvbk9wZW49e3Byb3BzLm9uT3Blbn1cbiAgICAgICAgICBzaG93PXtwcm9wcy5vcHRpb25zLmNsb3NlfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2xvc2VPcHRpb25zKHByb3BzKSB7XG4gIGlmIChwcm9wcy5zaG93KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLmRpc2FibGVkfVxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5jbG9zZSA/IHByb3BzLm9uT3BlbiA6IHByb3BzLm9uQ2xvc2V9XG4gICAgICAgIHRpdGxlPXtwcm9wcy5jbG9zZSA/IGdldHRleHQoJ0Nsb3NlZCcpIDogZ2V0dGV4dCgnT3BlbicpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5jbG9zZSA/ICdsb2NrJyA6ICdsb2NrX291dGxpbmUnfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRlT3B0aW9ucyhwcm9wcykge1xuICBpZiAocHJvcHMuc2hvdykge1xuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17cHJvcHMuaGlkZSA/IHByb3BzLm9uVW5oaWRlIDogcHJvcHMub25IaWRlfVxuICAgICAgICB0aXRsZT17cHJvcHMuaGlkZSA/IGdldHRleHQoJ0hpZGRlbicpIDogZ2V0dGV4dCgnTm90IGhpZGRlbicpfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHtwcm9wcy5oaWRlID8gJ3Zpc2liaWxpdHlfb2ZmJyA6ICd2aXNpYmlsaXR5J31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUGluT3B0aW9ucyhwcm9wcykge1xuICBpZiAocHJvcHMuc2hvdykge1xuICAgIGxldCBpY29uID0gbnVsbDtcbiAgICBsZXQgb25DbGljayA9IG51bGw7XG4gICAgbGV0IHRvb2x0aXAgPSBudWxsO1xuXG4gICAgc3dpdGNoIChwcm9wcy5waW4pIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgaWNvbiA9ICdyYWRpb19idXR0b25fdW5jaGVja2VkJztcbiAgICAgICAgb25DbGljayA9IHByb3BzLm9uUGluTG9jYWxseTtcbiAgICAgICAgdG9vbHRpcCA9IGdldHRleHQoXCJVbnBpbm5lZFwiKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWNvbiA9ICdpbmZvX291dGxpbmUnO1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25QaW5HbG9iYWxseTtcbiAgICAgICAgdG9vbHRpcCA9IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKTtcblxuICAgICAgICBpZiAocHJvcHMuc2hvdyA9PSAyKSB7XG4gICAgICAgICAgb25DbGljayA9IHByb3BzLm9uUGluR2xvYmFsbHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25DbGljayA9IHByb3BzLm9uVW5waW47XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICBpY29uID0gJ2luZm8nO1xuICAgICAgICBvbkNsaWNrID0gcHJvcHMub25VbnBpbjtcbiAgICAgICAgdG9vbHRpcCA9IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgIGRpc2FibGVkPXtwcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgdGl0bGU9e3Rvb2x0aXB9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge2ljb259XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih1c2VybmFtZXMpIHtcbiAgY29uc3Qgbm9ybWFsaXNlZE5hbWVzID0gdXNlcm5hbWVzLnNwbGl0KCcsJykubWFwKChpKSA9PiBpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgY29uc3QgcmVtb3ZlZEJsYW5rcyA9IG5vcm1hbGlzZWROYW1lcy5maWx0ZXIoKGkpID0+IGkubGVuZ3RoID4gMCk7XG4gIGNvbnN0IHJlbW92ZWREdXBsaWNhdGVzID0gcmVtb3ZlZEJsYW5rcy5maWx0ZXIoKG5hbWUsIHBvcykgPT4ge1xuICAgICAgcmV0dXJuIHJlbW92ZWRCbGFua3MuaW5kZXhPZihuYW1lKSA9PSBwb3M7XG4gIH0pO1xuXG4gIHJldHVybiByZW1vdmVkRHVwbGljYXRlcztcbn0iLCJpbXBvcnQgeyBtYXhMZW5ndGgsIG1pbkxlbmd0aCB9IGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRpdGxlVmFsaWRhdG9ycygpIHtcbiAgcmV0dXJuIFtcbiAgICBnZXRUaXRsZUxlbmd0aE1pbigpLFxuICAgIGdldFRpdGxlTGVuZ3RoTWF4KClcbiAgXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RWYWxpZGF0b3JzKCkge1xuICBpZiAobWlzYWdvLmdldCgnU0VUVElOR1MnKS5wb3N0X2xlbmd0aF9tYXgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgdmFsaWRhdGVQb3N0TGVuZ3RoTWluKCksXG4gICAgICB2YWxpZGF0ZVBvc3RMZW5ndGhNYXgoKVxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHZhbGlkYXRlUG9zdExlbmd0aE1pbigpXG4gICAgXTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVMZW5ndGhNaW4oKSB7XG4gIHJldHVybiBtaW5MZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKS50aHJlYWRfdGl0bGVfbGVuZ3RoX21pbiwgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhyZWFkIHRpdGxlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBcIlRocmVhZCB0aXRsZSBzaG91bGQgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGl0bGVMZW5ndGhNYXgoKSB7XG4gIHJldHVybiBtYXhMZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKS50aHJlYWRfdGl0bGVfbGVuZ3RoX21heCwgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiVGhyZWFkIHRpdGxlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgXCJUaHJlYWQgdGl0bGUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBvc3RMZW5ndGhNaW4oKSB7XG4gIHJldHVybiBtaW5MZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKS5wb3N0X2xlbmd0aF9taW4sIChsaW1pdFZhbHVlLCBsZW5ndGgpID0+IHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlBvc3RlZCBtZXNzYWdlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIGxvbmcgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBcIlBvc3RlZCBtZXNzYWdlIHNob3VsZCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgbGltaXRWYWx1ZSk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICBzaG93X3ZhbHVlOiBsZW5ndGhcbiAgICB9LCB0cnVlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBvc3RMZW5ndGhNYXgoKSB7XG4gIHJldHVybiBtYXhMZW5ndGgobWlzYWdvLmdldCgnU0VUVElOR1MnKS5wb3N0X2xlbmd0aF9tYXggfHwgMTAwMDAwMCwgKGxpbWl0VmFsdWUsIGxlbmd0aCkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiUG9zdGVkIG1lc3NhZ2UgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICBcIlBvc3RlZCBtZXNzYWdlIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgIGxpbWl0VmFsdWUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIGxpbWl0X3ZhbHVlOiBsaW1pdFZhbHVlLFxuICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgfSwgdHJ1ZSk7XG4gIH0pO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChpc1Zpc2libGUocHJvcHMucG9zdC5hY2wpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJldmVudC1jb250cm9sc1wiPlxuICAgICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxVbmhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGFjbCkge1xuICByZXR1cm4gYWNsLmNhbl9oaWRlO1xufVxuXG5leHBvcnQgY2xhc3MgSGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogdGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lLFxuICAgICAgdXJsOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMucG9zdC51cmwsIHtcbiAgICAgICAgaGlkZGVuX2J5OiB0aGlzLnByb3BzLnVzZXIuYWJzb2x1dGVfdXJsXG4gICAgICB9KVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wID0geydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogdHJ1ZX07XG5cbiAgICBhamF4LnBhdGNoKHRoaXMucHJvcHMucG9zdC5hcGkuaW5kZXgsIFtvcF0pLnRoZW4oKHBhdGNoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwgcGF0Y2gpKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHtcbiAgICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5oaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNfaGlkZGVuOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wID0geydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogZmFsc2V9O1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4LCBbb3BdKS50aGVuKChwYXRjaCkgPT4ge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaCh0aGlzLnByb3BzLnBvc3QsIHBhdGNoKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzX2hpZGRlbjogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuaGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZGVjaXNpb24gPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdpc2ggdG8gZGVsZXRlIHRoaXMgZXZlbnQ/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gICAgaWYgKGRlY2lzaW9uKSB7XG4gICAgICB0aGlzLmRlbGV0ZSgpXG4gICAgfVxuICB9O1xuXG4gIGRlbGV0ZSA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuXG4gICAgYWpheC5kZWxldGUodGhpcy5wcm9wcy5wb3N0LmFwaS5pbmRleCkudGhlbigoKSA9PiB7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJFdmVudCBoYXMgYmVlbiBkZWxldGVkLlwiKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IElDT04gPSB7XG4gIGNoYW5nZWRfdGl0bGU6ICdlZGl0JyxcblxuICBwaW5uZWRfZ2xvYmFsbHk6ICdib29rbWFyaycsXG4gIHBpbm5lZF9sb2NhbGx5OiAnYm9va21hcmtfYm9yZGVyJyxcbiAgdW5waW5uZWQ6ICdwYW5vcmFtYV9maXNoX2V5ZScsXG5cbiAgbW92ZWQ6ICdhcnJvd19mb3J3YXJkJyxcbiAgbWVyZ2VkOiAnY2FsbF9tZXJnZScsXG5cbiAgYXBwcm92ZWQ6ICdkb25lJyxcblxuICBvcGVuZWQ6ICdsb2NrX29wZW4nLFxuICBjbG9zZWQ6ICdsb2NrX291dGxpbmUnLFxuXG4gIHVuaGlkOiAndmlzaWJpbGl0eScsXG4gIGhpZDogJ3Zpc2liaWxpdHlfb2ZmJyxcblxuICBjaGFuZ2VkX293bmVyOiAnZ3JhZGUnLFxuICB0b29rb3ZlcjogJ2dyYWRlJyxcblxuICBhZGRlZF9wYXJ0aWNpcGFudDogJ3BlcnNvbl9hZGQnLFxuXG4gIG93bmVyX2xlZnQ6ICdwZXJzb25fb3V0bGluZScsXG4gIHBhcnRpY2lwYW50X2xlZnQ6ICdwZXJzb25fb3V0bGluZScsXG4gIHJlbW92ZWRfcGFydGljaXBhbnQ6ICdyZW1vdmVfY2lyY2xlX291dGxpbmUnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1hdmF0YXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge0lDT05bcHJvcHMucG9zdC5ldmVudF90eXBlXX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9pY29uJztcbmltcG9ydCBJbmZvIGZyb20gJy4vaW5mbyc7XG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL21lc3NhZ2UnO1xuaW1wb3J0IFdheXBvaW50IGZyb20gJy4uL3dheXBvaW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgbGV0IGNsYXNzTmFtZSA9ICdldmVudCc7XG4gIGlmIChwcm9wcy5wb3N0LmlzRGVsZXRlZCkge1xuICAgIGNsYXNzTmFtZSA9ICdoaWRlJztcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmlzX2hpZGRlbiAmJiAhcHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW4pIHtcbiAgICBjbGFzc05hbWUgPSAnZXZlbnQgcG9zdC1oaWRkZW4nO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9eydwb3N0LScgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9yZGVyXCI+XG5cbiAgICAgICAgPEljb24gey4uLnByb3BzfSAvPlxuICAgICAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICAgICAgPE1lc3NhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgICAgIDxJbmZvIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPC9XYXlwb2ludD5cblxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBEQVRFX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgZXZlbnQtaW5mb1wiPlxuICAgICAgPEhpZGRlbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxJcCB7Li4ucHJvcHN9IC8+XG4gICAgICA8Q29udHJvbHMgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuKSB7XG4gICAgbGV0IHVzZXIgPSBudWxsO1xuICAgIGlmIChwcm9wcy5wb3N0LnVybC5oaWRkZW5fYnkpIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaGlkZGVuX2J5KSxcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KCdMTEwnKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmhpZGRlbl9vbi5mcm9tTm93KCkpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoZXZlbnRfYnkpcyAlKGV2ZW50X29uKXMuXCIpKSwge1xuICAgICAgZXZlbnRfYnk6IHVzZXIsXG4gICAgICBldmVudF9vbjogZGF0ZVxuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9XCJldmVudC1oaWRkZW4tbWVzc2FnZVwiXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyKHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyKSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKFVTRVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXIuYWJzb2x1dGVfdXJsKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5wb3N0ZXJfbmFtZSlcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoVVNFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVyX25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoREFURV9VUkwsIHtcbiAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMucG9zdC51cmwuaW5kZXgpLFxuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdCgnTExMJykpLFxuICAgIHJlbGF0aXZlOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QucG9zdGVkX29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcIkJ5ICUoZXZlbnRfYnkpcyAlKGV2ZW50X29uKXMuXCIpKSwge1xuICAgIGV2ZW50X2J5OiB1c2VyLFxuICAgIGV2ZW50X29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cImV2ZW50LXBvc3RlcnNcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJcChwcm9wcykge1xuICBpZiAocHJvcHMudXNlci5hY2wuY2FuX3NlZV91c2Vyc19pcHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cImV2ZW50LWlwXCI+XG4gICAgICAgIDxhYmJyIHRpdGxlPXtwcm9wcy5wb3N0LnBvc3Rlcl9pcH0+XG4gICAgICAgICAge2dldHRleHQoXCJJUCByZWNvcmRlZFwiKX1cbiAgICAgICAgPC9hYmJyPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IE1FU1NBR0UgPSB7XG4gIHBpbm5lZF9nbG9iYWxseTogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgZ2xvYmFsbHkuXCIpLFxuICBwaW5uZWRfbG9jYWxseTogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBwaW5uZWQgbG9jYWxseS5cIiksXG4gIHVucGlubmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHVucGlubmVkLlwiKSxcblxuICBhcHByb3ZlZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBhcHByb3ZlZC5cIiksXG5cbiAgb3BlbmVkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG9wZW5lZC5cIiksXG4gIGNsb3NlZDogZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBjbG9zZWQuXCIpLFxuXG4gIHVuaGlkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHJldmVhbGVkLlwiKSxcbiAgaGlkOiBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1hZGUgaGlkZGVuLlwiKSxcblxuICB0b29rb3ZlcjogZ2V0dGV4dChcIlRvb2sgdGhyZWFkIG92ZXIuXCIpLFxuXG4gIG93bmVyX2xlZnQ6IGdldHRleHQoXCJPd25lciBoYXMgbGVmdCB0aHJlYWQuIFRoaXMgdGhyZWFkIGlzIG5vdyBjbG9zZWQuXCIpLFxuICBwYXJ0aWNpcGFudF9sZWZ0OiBnZXR0ZXh0KFwiUGFydGljaXBhbnQgaGFzIGxlZnQgdGhyZWFkLlwiKSxcbn1cblxuY29uc3QgSVRFTV9MSU5LID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JShuYW1lKXM8L2E+J1xuY29uc3QgSVRFTV9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUobmFtZSlzPC9zcGFuPic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChNRVNTQUdFW3Byb3BzLnBvc3QuZXZlbnRfdHlwZV0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiPlxuICAgICAgICB7TUVTU0FHRVtwcm9wcy5wb3N0LmV2ZW50X3R5cGVdfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5ldmVudF90eXBlID09PSAnY2hhbmdlZF90aXRsZScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENoYW5nZWRUaXRsZSB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdtb3ZlZCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vdmVkIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ21lcmdlZCcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1lcmdlZCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdjaGFuZ2VkX293bmVyJykge1xuICAgIHJldHVybiAoXG4gICAgICA8Q2hhbmdlZE93bmVyIHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2UgaWYgKHByb3BzLnBvc3QuZXZlbnRfdHlwZSA9PT0gJ2FkZGVkX3BhcnRpY2lwYW50Jykge1xuICAgIHJldHVybiAoXG4gICAgICA8QWRkZWRQYXJ0aWNpcGFudCB7Li4ucHJvcHN9IC8+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wb3N0LmV2ZW50X3R5cGUgPT09ICdyZW1vdmVkX3BhcnRpY2lwYW50Jykge1xuICAgIHJldHVybiAoXG4gICAgICA8UmVtb3ZlZFBhcnRpY2lwYW50IHsuLi5wcm9wc30gLz5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDaGFuZ2VkVGl0bGUocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlIGhhcyBiZWVuIGNoYW5nZWQgZnJvbSAlKG9sZF90aXRsZSlzLlwiKSk7XG4gIGNvbnN0IG9sZFRpdGxlID0gaW50ZXJwb2xhdGUoSVRFTV9TUEFOLCB7XG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQub2xkX3RpdGxlKVxuICB9LCB0cnVlKTtcbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIG9sZF90aXRsZTogb2xkVGl0bGVcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW92ZWQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1vdmVkIGZyb20gJShmcm9tX2NhdGVnb3J5KXMuXCIpKTtcbiAgY29uc3QgZnJvbUNhdGVnb3J5ID0gaW50ZXJwb2xhdGUoSVRFTV9MSU5LLCB7XG4gICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC5mcm9tX2NhdGVnb3J5LnVybCksXG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQuZnJvbV9jYXRlZ29yeS5uYW1lKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUobXNnc3RyaW5nLCB7XG4gICAgZnJvbV9jYXRlZ29yeTogZnJvbUNhdGVnb3J5XG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlZChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJUaGUgJShtZXJnZWRfdGhyZWFkKXMgdGhyZWFkIGhhcyBiZWVuIG1lcmdlZCBpbnRvIHRoaXMgdGhyZWFkLlwiKSk7XG4gIGNvbnN0IG1lcmdlZFRocmVhZCA9IGludGVycG9sYXRlKElURU1fU1BBTiwge1xuICAgIG5hbWU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5ldmVudF9jb250ZXh0Lm1lcmdlZF90aHJlYWQpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShtc2dzdHJpbmcsIHtcbiAgICBtZXJnZWRfdGhyZWFkOiBtZXJnZWRUaHJlYWRcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJldmVudC1tZXNzYWdlXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhbmdlZE93bmVyKHByb3BzKSB7XG4gIGNvbnN0IG1zZ3N0cmluZyA9IGVzY2FwZUh0bWwoZ2V0dGV4dChcIkNoYW5nZWQgdGhyZWFkIG93bmVyIHRvICUodXNlcilzLlwiKSk7XG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoSVRFTV9MSU5LLCB7XG4gICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIHVzZXI6IG5ld093bmVyXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFkZGVkUGFydGljaXBhbnQocHJvcHMpIHtcbiAgY29uc3QgbXNnc3RyaW5nID0gZXNjYXBlSHRtbChnZXR0ZXh0KFwiQWRkZWQgJSh1c2VyKXMgdG8gdGhyZWFkLlwiKSk7XG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoSVRFTV9MSU5LLCB7XG4gICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIHVzZXI6IG5ld093bmVyXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZWRQYXJ0aWNpcGFudChwcm9wcykge1xuICBjb25zdCBtc2dzdHJpbmcgPSBlc2NhcGVIdG1sKGdldHRleHQoXCJSZW1vdmVkICUodXNlcilzIGZyb20gdGhyZWFkLlwiKSk7XG4gIGNvbnN0IG5ld093bmVyID0gaW50ZXJwb2xhdGUoSVRFTV9MSU5LLCB7XG4gICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuZXZlbnRfY29udGV4dC51c2VyLnVybCksXG4gICAgbmFtZTogZXNjYXBlSHRtbChwcm9wcy5wb3N0LmV2ZW50X2NvbnRleHQudXNlci51c2VybmFtZSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKG1zZ3N0cmluZywge1xuICAgIHVzZXI6IG5ld093bmVyXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHAgY2xhc3NOYW1lPVwiZXZlbnQtbWVzc2FnZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBtZXNzYWdlfX0gLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEV2ZW50IGZyb20gJy4vZXZlbnQnO1xuaW1wb3J0IFBvc3QgZnJvbSAnLi9wb3N0JztcbmltcG9ydCBQb3N0UHJldmlldyBmcm9tICcuL3Bvc3QvcHJldmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgICB7cHJvcHMucG9zdHMucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgICByZXR1cm4gPExpc3RJdGVtIGtleT17cG9zdC5pZH0gcG9zdD17cG9zdH0gey4uLnByb3BzfSAvPjtcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJwb3N0cy1saXN0IHVpLXByZXZpZXdcIj5cbiAgICAgICAgPFBvc3RQcmV2aWV3IC8+XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExpc3RJdGVtKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LmlzX2V2ZW50KSB7XG4gICAgcmV0dXJuIDxFdmVudCB7Li4ucHJvcHN9IC8+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8UG9zdCB7Li4ucHJvcHN9IC8+O1xuICB9XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcbmltcG9ydCBmb3JtYXRGaWxlc2l6ZSBmcm9tICdtaXNhZ28vdXRpbHMvZmlsZS1zaXplJztcblxuY29uc3QgREFURV9BQkJSID0gJzxhYmJyIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5jb25zdCBVU0VSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L3NwYW4+JztcbmNvbnN0IFVTRVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQgPT09IG51bGwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHRkIGNsYXNzTmFtZT1cImNvbC1tZC02XCI+XG4gICAgICAgICZuYnNwO1xuICAgICAgPC90ZD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dGQgY2xhc3NOYW1lPVwiY29sLW1kLTZcIj5cbiAgICAgIDxBdHRhY2htZW50UHJldmlldyB7Li4ucHJvcHN9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudFwiPlxuICAgICAgICA8YSBocmVmPXtwcm9wcy5hdHRhY2htZW50LnVybC5pbmRleH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHtwcm9wcy5hdHRhY2htZW50LmZpbGVuYW1lfVxuICAgICAgICA8L2E+XG4gICAgICAgIDxBdHRhY2htZW50RGV0YWlscyB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L3RkPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXR0YWNobWVudFByZXZpZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLmF0dGFjaG1lbnQuaXNfaW1hZ2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF0dGFjaG1lbnQtcHJldmlld1wiPlxuICAgICAgICA8QXR0YWNobWVudFRodW1ibmFpbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1wcmV2aWV3XCI+XG4gICAgICAgIDxBdHRhY2htZW50SWNvbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50SWNvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxhIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICBpbnNlcnRfZHJpdmVfZmlsZVxuICAgIDwvYT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF0dGFjaG1lbnRUaHVtYm5haWwocHJvcHMpIHtcbiAgY29uc3QgdXJsID0gcHJvcHMuYXR0YWNobWVudC51cmwudGh1bWIgfHwgcHJvcHMuYXR0YWNobWVudC51cmwuaW5kZXg7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cInBvc3QtdGh1bWJuYWlsXCJcbiAgICAgIGhyZWY9e3Byb3BzLmF0dGFjaG1lbnQudXJsLmluZGV4fVxuICAgICAgc3R5bGU9e3tiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCInICsgZXNjYXBlSHRtbCh1cmwpICsgJ1wiKSd9fVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdHRhY2htZW50RGV0YWlscyhwcm9wcykge1xuICBsZXQgdXNlciA9IG51bGw7XG4gIGlmIChwcm9wcy5hdHRhY2htZW50LnVybC51cGxvYWRlcikge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXJsLnVwbG9hZGVyKSxcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShVU0VSX1NQQU4sIHtcbiAgICAgIHVzZXI6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgY29uc3QgZGF0ZSA9IGludGVycG9sYXRlKERBVEVfQUJCUiwge1xuICAgIGFic29sdXRlOiBlc2NhcGVIdG1sKHByb3BzLmF0dGFjaG1lbnQudXBsb2FkZWRfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMuYXR0YWNobWVudC51cGxvYWRlZF9vbi5mcm9tTm93KCkpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShlc2NhcGVIdG1sKGdldHRleHQoXCIlKGZpbGV0eXBlKXMsICUoc2l6ZSlzLCB1cGxvYWRlZCBieSAlKHVwbG9hZGVyKXMgJSh1cGxvYWRlZF9vbilzLlwiKSksIHtcbiAgICBmaWxldHlwZTogcHJvcHMuYXR0YWNobWVudC5maWxldHlwZSxcbiAgICBzaXplOiBmb3JtYXRGaWxlc2l6ZShwcm9wcy5hdHRhY2htZW50LnNpemUpLFxuICAgIHVwbG9hZGVyOiB1c2VyLFxuICAgIHVwbG9hZGVkX29uOiBkYXRlXG4gIH0sIHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPHBcbiAgICAgIGNsYXNzTmFtZT1cInBvc3QtYXR0YWNobWVudC1kZXNjcmlwdGlvblwiXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogbWVzc2FnZX19XG4gICAgLz5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7XG5pbXBvcnQgQXR0YWNobWVudCBmcm9tICcuL2F0dGFjaG1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoIWlzVmlzaWJsZShwcm9wcy5wb3N0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dGFibGUgY2xhc3NOYW1lPVwidGFibGUgcG9zdC1hdHRhY2htZW50c1wiPlxuICAgICAgPHRib2R5PlxuICAgICAgICB7YmF0Y2gocHJvcHMucG9zdC5hdHRhY2htZW50cywgMiwgbnVsbCkubWFwKChyb3cpID0+IHtcbiAgICAgICAgICBjb25zdCBrZXkgPSByb3cubWFwKChhKSA9PiB7cmV0dXJuIGEgPyBhLmlkIDogMDt9KS5qb2luKCdfJyk7XG4gICAgICAgICAgcmV0dXJuIDxSb3cga2V5PXtrZXl9IHJvdz17cm93fSAvPjtcbiAgICAgICAgfSl9XG4gICAgICA8L3Rib2R5PlxuICAgIDwvdGFibGU+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUocG9zdCkge1xuICByZXR1cm4gKCFwb3N0LmlzX2hpZGRlbiB8fCBwb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikgJiYgcG9zdC5hdHRhY2htZW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvdyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDx0ciBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgIHtwcm9wcy5yb3cubWFwKChhdHRhY2htZW50KSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEF0dGFjaG1lbnRcbiAgICAgICAgICAgIGF0dGFjaG1lbnQ9e2F0dGFjaG1lbnR9XG4gICAgICAgICAgICBrZXk9e2F0dGFjaG1lbnQgPyBhdHRhY2htZW50LmlkIDogMH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC90cj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFdheXBvaW50IGZyb20gJy4uL3dheXBvaW50JztcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cCc7XG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICdtaXNhZ28vdXRpbHMvZXNjYXBlLWh0bWwnO1xuXG5jb25zdCBISURERU5fQllfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJpdGVtLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IEhJRERFTl9CWV9TUEFOID0gJzxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBISURERU5fT04gPSAnPGFiYnIgY2xhc3M9XCJsYXN0LXRpdGxlXCIgdGl0bGU9XCIlKGFic29sdXRlKXNcIj4lKHJlbGF0aXZlKXM8L2FiYnI+JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QuaXNfaGlkZGVuICYmICFwcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2hpZGRlbikge1xuICAgIHJldHVybiA8SGlkZGVuIHsuLi5wcm9wc30gLz47XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5jb250ZW50KSB7XG4gICAgcmV0dXJuIDxEZWZhdWx0IHsuLi5wcm9wc30gLz47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxJbnZhbGlkIHsuLi5wcm9wc30gLz47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlZmF1bHQocHJvcHMpIHtcbiByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8TWlzYWdvTWFya3VwIG1hcmt1cD17cHJvcHMucG9zdC5jb250ZW50fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWRkZW4ocHJvcHMpIHtcbiAgbGV0IHVzZXIgPSBudWxsO1xuICBpZiAocHJvcHMucG9zdC5oaWRkZW5fYnkpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoSElEREVOX0JZX1VSTCwge1xuICAgICAgdXJsOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QudXJsLmhpZGRlbl9ieSksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdXNlciA9IGludGVycG9sYXRlKEhJRERFTl9CWV9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnBvc3QuaGlkZGVuX2J5X25hbWUpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBkYXRlID0gaW50ZXJwb2xhdGUoSElEREVOX09OLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZm9ybWF0KCdMTEwnKSksXG4gICAgcmVsYXRpdmU6IGVzY2FwZUh0bWwocHJvcHMucG9zdC5oaWRkZW5fb24uZnJvbU5vdygpKVxuICB9LCB0cnVlKTtcblxuICBjb25zdCBtZXNzYWdlID0gaW50ZXJwb2xhdGUoZXNjYXBlSHRtbChnZXR0ZXh0KFwiSGlkZGVuIGJ5ICUoaGlkZGVuX2J5KXMgJShoaWRkZW5fb24pcy5cIikpLCB7XG4gICAgaGlkZGVuX2J5OiB1c2VyLFxuICAgIGhpZGRlbl9vbjogZGF0ZVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxXYXlwb2ludCBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLWJvZHktaGlkZGVuXCIgcG9zdD17cHJvcHMucG9zdH0+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgaGlkZGVuLiBZb3UgY2Fubm90IG5vdCBzZWUgaXRzIGNvbnRlbnRzLlwiKX08L3A+XG4gICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fSAvPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnZhbGlkKHByb3BzKSB7XG4gcmV0dXJuIChcbiAgICA8V2F5cG9pbnQgY2xhc3NOYW1lPVwicGFuZWwtYm9keSBwYW5lbC1ib2R5LWludmFsaWRcIiBwb3N0PXtwcm9wcy5wb3N0fT5cbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57Z2V0dGV4dChcIlRoaXMgcG9zdCdzIGNvbnRlbnRzIGNhbm5vdCBiZSBkaXNwbGF5ZWQuXCIpfTwvcD5cbiAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWRcIj57Z2V0dGV4dChcIlRoaXMgZXJyb3IgaXMgY2F1c2VkIGJ5IGludmFsaWQgcG9zdCBjb250ZW50IG1hbmlwdWxhdGlvbi5cIil9PC9wPlxuICAgIDwvV2F5cG9pbnQ+XG4gICk7XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwcm92ZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXVuYXBwcm92ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3VuYXBwcm92ZWQ6IHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZFxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdChwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19wcm90ZWN0ZWQ6IHRydWVcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiB0cnVlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfcHJvdGVjdGVkOiBwcm9wcy5wb3N0LmlzX3Byb3RlY3RlZFxuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5wcm90ZWN0KHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX3Byb3RlY3RlZDogcHJvcHMucG9zdC5pc19wcm90ZWN0ZWRcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUocHJvcHMpIHtcbiAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgaXNfaGlkZGVuOiB0cnVlLFxuICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgaGlkZGVuX2J5X25hbWU6IHByb3BzLnVzZXIudXNlcm5hbWUsXG4gICAgdXJsOiBPYmplY3QuYXNzaWduKHByb3BzLnBvc3QudXJsLCB7XG4gICAgICBoaWRkZW5fYnk6IHByb3BzLnVzZXIuYWJzb2x1dGVfdXJsXG4gICAgfSlcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiB0cnVlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfaGlkZGVuOiBwcm9wcy5wb3N0LmlzX2hpZGRlbixcbiAgICBoaWRkZW5fb246IHByb3BzLnBvc3QuaGlkZGVuX29uLFxuICAgIGhpZGRlbl9ieV9uYW1lOiBwcm9wcy5wb3N0LmhpZGRlbl9ieV9uYW1lLFxuICAgIHVybDogcHJvcHMucG9zdC51cmxcbiAgfTtcblxuICBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19oaWRkZW46IGZhbHNlXG4gIH0pKTtcblxuICBjb25zdCBvcHMgPSBbXG4gICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogZmFsc2V9XG4gIF07XG5cbiAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICBpc19oaWRkZW46IHByb3BzLnBvc3QuaXNfaGlkZGVuXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaWtlKHByb3BzKSB7XG4gIGNvbnN0IGxhc3RMaWtlcyA9IHByb3BzLnBvc3QubGFzdF9saWtlcyB8fCBbXTtcbiAgY29uc3QgY29uY2F0ZWRMaWtlcyA9IFtwcm9wcy51c2VyXS5jb25jYXQobGFzdExpa2VzKTtcbiAgY29uc3QgZmluYWxMaWtlcyA9IGNvbmNhdGVkTGlrZXMubGVuZ3RoID4gMyA/IGNvbmNhdGVkTGlrZXMuc2xpY2UoMCwgLTEpIDogY29uY2F0ZWRMaWtlcztcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHtcbiAgICBpc19saWtlZDogdHJ1ZSxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyArIDEsXG4gICAgbGFzdF9saWtlczogZmluYWxMaWtlc1xuICB9KSk7XG5cbiAgY29uc3Qgb3BzID0gW1xuICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLWxpa2VkJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgXTtcblxuICBjb25zdCBwcmV2aW91c1N0YXRlID0ge1xuICAgIGlzX2xpa2VkOiBwcm9wcy5wb3N0LmlzX2xpa2VkLFxuICAgIGxpa2VzOiBwcm9wcy5wb3N0Lmxpa2VzLFxuICAgIGxhc3RfbGlrZXM6IHByb3BzLnBvc3QubGFzdF9saWtlc1xuICB9O1xuXG4gIHBhdGNoKHByb3BzLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5saWtlKHByb3BzKSB7XG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzX2xpa2VkOiBmYWxzZSxcbiAgICBsaWtlczogcHJvcHMucG9zdC5saWtlcyAtIDEsXG4gICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzLmZpbHRlcigodXNlcikgPT4ge1xuICAgICAgcmV0dXJuICF1c2VyLmlkIHx8IHVzZXIuaWQgIT09IHByb3BzLnVzZXIuaWQ7XG4gICAgfSlcbiAgfSkpO1xuXG4gIGNvbnN0IG9wcyA9IFtcbiAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1saWtlZCcsICd2YWx1ZSc6IGZhbHNlfVxuICBdO1xuXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgaXNfbGlrZWQ6IHByb3BzLnBvc3QuaXNfbGlrZWQsXG4gICAgbGlrZXM6IHByb3BzLnBvc3QubGlrZXMsXG4gICAgbGFzdF9saWtlczogcHJvcHMucG9zdC5sYXN0X2xpa2VzXG4gIH07XG5cbiAgcGF0Y2gocHJvcHMsIG9wcywgcHJldmlvdXNTdGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwcm9wcywgb3BzLCBwcmV2aW91c1N0YXRlKSB7XG4gIGFqYXgucGF0Y2gocHJvcHMucG9zdC5hcGkuaW5kZXgsIG9wcykudGhlbigobmV3U3RhdGUpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIG5ld1N0YXRlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHByb3BzLnBvc3QsIHByZXZpb3VzU3RhdGUpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwb3N0PyBUaGlzIGFjdGlvbiBpcyBub3QgcmV2ZXJzaWJsZSFcIikpO1xuICBpZiAoIWNvbmZpcm1lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2gocHJvcHMucG9zdCwge1xuICAgIGlzRGVsZXRlZDogdHJ1ZVxuICB9KSk7XG5cbiAgYWpheC5kZWxldGUocHJvcHMucG9zdC5hcGkuaW5kZXgpLnRoZW4oKCkgPT4ge1xuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlBvc3QgaGFzIGJlZW4gZGVsZXRlZC5cIikpO1xuICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChwcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IGZhbHNlXG4gICAgfSkpO1xuICB9KTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7XG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tICcuL3NwbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TW92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8U3BsaXQgey4uLnByb3BzfSAvPlxuICAgICAgPFByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPFVucHJvdGVjdCB7Li4ucHJvcHN9IC8+XG4gICAgICA8SGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5oaWRlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxEZWxldGUgey4uLnByb3BzfSAvPlxuICAgIDwvdWw+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmFwcHJvdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9hcHByb3ZlICYmIHRoaXMucHJvcHMucG9zdC5pc191bmFwcHJvdmVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxNb3ZlTW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX21vdmUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGxpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhcbiAgICAgIDxTcGxpdE1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9tb3ZlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXRcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3QgJiYgIXRoaXMucHJvcHMucG9zdC5pc19wcm90ZWN0ZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbnByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5wcm90ZWN0KHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fcHJvdGVjdCAmJiB0aGlzLnByb3BzLnBvc3QuaXNfcHJvdGVjdGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiUmVtb3ZlIHByb3RlY3Rpb25cIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24uaGlkZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2hpZGUgJiYgIXRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJIaWRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmhpZGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24udW5oaWRlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fdW5oaWRlICYmIHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5yZW1vdmUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9kZWxldGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgICAge2dldHRleHQoXCJEZWxldGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IERyb3Bkb3duIGZyb20gJy4vZHJvcGRvd24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QuYWNsKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgZHJvcGRvd25cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBleHBhbmRfbW9yZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUoYWNsKSB7XG4gIHJldHVybiAoXG4gICAgYWNsLmNhbl9hcHByb3ZlIHx8XG4gICAgYWNsLmNhbl9oaWRlIHx8XG4gICAgYWNsLmNhbl9wcm90ZWN0IHx8XG4gICAgYWNsLmNhbl91bmhpZGUgfHxcbiAgICBhY2wuY2FuX2RlbGV0ZSB8fFxuICAgIGFjbC5jYW5fbW92ZVxuICApO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMubW92ZSwge1xuICAgICAgdGhyZWFkX3VybDogdGhpcy5zdGF0ZS51cmwsXG4gICAgICBwb3N0czogW3RoaXMucHJvcHMucG9zdC5pZF1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3Moc3VjY2Vzcykge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2godGhpcy5wcm9wcy5wb3N0LCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCBwb3N0IHdhcyBtb3ZlZCB0byB0aGUgb3RoZXIgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvblVybENoYW5nZSA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuY2hhbmdlVmFsdWUoJ3VybCcsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGZvcj1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e2dldHRleHQoXCJMaW5rIHRvIHRocmVhZCB5b3Ugd2FudCB0byBtb3ZlIHBvc3QgdG9cIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpZD1cImlkX3VybFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNb3ZlIHBvc3RcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSBwb3N0XCIpfTwvaDQ+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8UG9zdGluZ0NvbmZpZyB7Li4ucHJvcHN9IEZvcm09e01vZGVyYXRpb25Gb3JtfSAvPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZ0NvbmZpZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzRXJyb3I6IGZhbHNlLFxuXG4gICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBhamF4LmdldChtaXNhZ28uZ2V0KCdUSFJFQURfRURJVE9SX0FQSScpKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAvLyBoeWRyYXRlIGNhdGVnb3JpZXMsIGV4dHJhY3QgcG9zdGluZyBvcHRpb25zXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gZGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwge1xuICAgICAgICAgIGRpc2FibGVkOiBpdGVtLnBvc3QgPT09IGZhbHNlLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLm5hbWUsXG4gICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgcG9zdDogaXRlbS5wb3N0XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSlcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNFcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNFcnJvcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEVycm9yIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kZXJhdGlvbkZvcm0gey4uLnRoaXMucHJvcHN9IGNhdGVnb3JpZXM9e3RoaXMuc3RhdGUuY2F0ZWdvcmllc30gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxMb2FkZXIgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2RlcmF0aW9uRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB0aXRsZTogJycsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIGNhdGVnb3JpZXM6IHByb3BzLmNhdGVnb3JpZXMsXG4gICAgICB3ZWlnaHQ6IDAsXG4gICAgICBpc19oaWRkZW46IDAsXG4gICAgICBpc19jbG9zZWQ6IGZhbHNlLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHRpdGxlOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5yZXF1aXJlZCgpXG4gICAgICAgIF1cbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuXG4gICAgdGhpcy5pc0hpZGRlbkNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHknLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ3Zpc2liaWxpdHlfb2ZmJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5pc0Nsb3NlZENob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IGZhbHNlLFxuICAgICAgICAnaWNvbic6ICdsb2NrX291dGxpbmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm9cIilcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IHRydWUsXG4gICAgICAgICdpY29uJzogJ2xvY2snLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiWWVzXCIpXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmFjbCA9IHt9O1xuICAgIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgaWYgKGNhdGVnb3J5LnBvc3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXRlZ29yeSA9IGNhdGVnb3J5LmlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2xbY2F0ZWdvcnkuaWRdID0ge1xuICAgICAgICAgIGNhbl9waW5fdGhyZWFkczogY2F0ZWdvcnkucG9zdC5waW4sXG4gICAgICAgICAgY2FuX2Nsb3NlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuY2xvc2UsXG4gICAgICAgICAgY2FuX2hpZGVfdGhyZWFkczogY2F0ZWdvcnkucG9zdC5oaWRlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuc3BsaXQsIHtcbiAgICAgIHRpdGxlOiB0aGlzLnN0YXRlLnRpdGxlLFxuICAgICAgY2F0ZWdvcnk6IHRoaXMuc3RhdGUuY2F0ZWdvcnksXG4gICAgICB3ZWlnaHQ6IHRoaXMuc3RhdGUud2VpZ2h0LFxuICAgICAgaXNfaGlkZGVuOiB0aGlzLnN0YXRlLmlzX2hpZGRlbixcbiAgICAgIGlzX2Nsb3NlZDogdGhpcy5zdGF0ZS5pc19jbG9zZWQsXG4gICAgICBwb3N0czogW3RoaXMucHJvcHMucG9zdC5pZF1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgaXNEZWxldGVkOiB0cnVlXG4gICAgfSkpO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdCB3YXMgc3BsaXQgaW50byBuZXcgdGhyZWFkLlwiKSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBvbkNhdGVnb3J5Q2hhbmdlID0gKGV2KSA9PiB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBuZXdTdGF0ZSA9IHtcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeUlkXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fcGluX3RocmVhZHMgPCBuZXdTdGF0ZS53ZWlnaHQpIHtcbiAgICAgIG5ld1N0YXRlLndlaWdodCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19oaWRkZW4gPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2Nsb3NlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICB9O1xuXG4gIGdldFdlaWdodENob2ljZXMoKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMCxcbiAgICAgICAgJ2ljb24nOiAncmVtb3ZlJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vdCBwaW5uZWRcIiksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICdib29rbWFya19ib3JkZXInLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIiksXG4gICAgICB9XG4gICAgXTtcblxuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMgPT0gMikge1xuICAgICAgY2hvaWNlcy5wdXNoKHtcbiAgICAgICAgJ3ZhbHVlJzogMixcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmsnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNob2ljZXM7XG4gIH1cblxuICByZW5kZXJXZWlnaHRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB3ZWlnaHRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3ZWlnaHQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS53ZWlnaHR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5nZXRXZWlnaHRDaG9pY2VzKCl9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckhpZGRlbkZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5faGlkZV90aHJlYWRzKSB7XG4gICAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkhpZGUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfaGlkZGVuJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfaGlkZGVufVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNIaWRkZW5DaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfY2xvc2VkJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxNb2RhbCBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlRocmVhZCB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnRpdGxlfT5cbiAgICAgICAgICAgICAgPGlucHV0IGlkPVwiaWRfdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndGl0bGUnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fT5cbiAgICAgICAgICAgICAgPENhdGVnb3J5U2VsZWN0IGlkPVwiaWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCI+PC9kaXY+XG5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlcldlaWdodEZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICAgICAge3RoaXMucmVuZGVyQ2xvc2VkRmllbGQoKX1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlNwbGl0IHBvc3RcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgdGhpcyBwb3N0IGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJTcGxpdCBwb3N0IGludG8gbmV3IHRocmVhZFwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIEZsYWdIaWRkZW4ocHJvcHMpIHtcbiAgaWYgKGlzVmlzaWJsZShwcm9wcy5wb3N0KSAmJiBwcm9wcy5wb3N0LmlzX2hpZGRlbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtaGlkZGVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj52aXNpYmlsaXR5X29mZjwvc3Bhbj5cbiAgICAgICAgPHA+e2dldHRleHQoXCJUaGlzIHBvc3QgaXMgaGlkZGVuLiBPbmx5IHVzZXJzIHdpdGggcGVybWlzc2lvbiBtYXkgc2VlIGl0cyBjb250ZW50cy5cIil9PC9wPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGbGFnVW5hcHByb3ZlZChwcm9wcykge1xuICBpZiAoaXNWaXNpYmxlKHByb3BzLnBvc3QpICYmIHByb3BzLnBvc3QuaXNfdW5hcHByb3ZlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3Qtc3RhdHVzLW1lc3NhZ2UgcG9zdC1zdGF0dXMtdW5hcHByb3ZlZFwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+cmVtb3ZlX2NpcmNsZV9vdXRsaW5lPC9zcGFuPlxuICAgICAgICA8cD57Z2V0dGV4dChcIlRoaXMgcG9zdCBpcyB1bmFwcHJvdmVkLiBPbmx5IHVzZXJzIHdpdGggcGVybWlzc2lvbiB0byBhcHByb3ZlIHBvc3RzIGFuZCBpdHMgYXV0aG9yIG1heSBzZWUgaXRzIGNvbnRlbnRzLlwiKX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAhcG9zdC5pc19oaWRkZW4gfHwgcG9zdC5hY2wuY2FuX3NlZV9oaWRkZW47XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi9jb250cm9scy9hY3Rpb25zJztcbmltcG9ydCBMaWtlc01vZGFsIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3QtbGlrZXMnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmIChpc1Zpc2libGUocHJvcHMucG9zdCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1mb290ZXIgcG9zdC1mb290ZXJcIj5cbiAgICAgICAgPExpa2Ugey4uLnByb3BzfSAvPlxuICAgICAgICA8TGlrZXNcbiAgICAgICAgICBsYXN0TGlrZXM9e3Byb3BzLnBvc3QubGFzdF9saWtlc31cbiAgICAgICAgICBsaWtlcz17cHJvcHMucG9zdC5saWtlc31cbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICAgIDxSZXBseSB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxFZGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlzaWJsZShwb3N0KSB7XG4gIHJldHVybiAoIXBvc3QuaXNfaGlkZGVuIHx8IHBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSAmJiAoXG4gICAgcG9zdC5hY2wuY2FuX3JlcGx5IHx8XG4gICAgcG9zdC5hY2wuY2FuX2VkaXQgfHxcbiAgICBwb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8XG4gICAgcG9zdC5hY2wuY2FuX2xpa2VcbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIExpa2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNfbGlrZWQpIHtcbiAgICAgIGFjdGlvbnMudW5saWtlKHRoaXMucHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25zLmxpa2UodGhpcy5wcm9wcyk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX2xpa2UpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtbGVmdFwiXG4gICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnBvc3QuaXNCdXN5fVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmlzX2xpa2VkID8gZ2V0dGV4dChcIlVubGlrZVwiKSA6IGdldHRleHQoXCJMaWtlXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlrZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TGlrZXNNb2RhbFxuICAgICAgICBwb3N0PXt0aGlzLnByb3BzLnBvc3R9XG4gICAgICAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGhhc0xpa2VzID0gKHRoaXMucHJvcHMucG9zdC5sYXN0X2xpa2VzIHx8IFtdKS5sZW5ndGggPiAwO1xuICAgIGlmICghdGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzIHx8ICFoYXNMaWtlcykgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5wb3N0LmFjbC5jYW5fc2VlX2xpa2VzID09PSAyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rIHB1bGwtbGVmdFwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAge2dldExpa2VzTWVzc2FnZSh0aGlzLnByb3BzLmxpa2VzLCB0aGlzLnByb3BzLmxhc3RMaWtlcyl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwicHVsbC1sZWZ0XCI+XG4gICAgICAgIHtnZXRMaWtlc01lc3NhZ2UodGhpcy5wcm9wcy5saWtlcywgdGhpcy5wcm9wcy5sYXN0TGlrZXMpfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpa2VzTWVzc2FnZShsaWtlcywgdXNlcnMpIHtcbiAgY29uc3QgdXNlcm5hbWVzID0gdXNlcnMuc2xpY2UoMCwgMykubWFwKCh1KSA9PiB1LnVzZXJuYW1lKTtcblxuICBpZiAodXNlcm5hbWVzLmxlbmd0aCA9PSAxKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXIpcyBsaWtlcyB0aGlzLlwiKSwge1xuICAgICAgdXNlcjogdXNlcm5hbWVzWzBdXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBoaWRkZW5MaWtlcyA9IGxpa2VzIC0gdXNlcm5hbWVzLmxlbmd0aDtcblxuICBjb25zdCBvdGhlclVzZXJzID0gdXNlcm5hbWVzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpO1xuICBjb25zdCBsYXN0VXNlciA9IHVzZXJuYW1lcy5zbGljZSgtMSlbMF07XG5cbiAgY29uc3QgdXNlcm5hbWVzTGlzdCA9IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJzKXMgYW5kICUobGFzdF91c2VyKXNcIiksIHtcbiAgICB1c2Vyczogb3RoZXJVc2VycyxcbiAgICBsYXN0X3VzZXI6IGxhc3RVc2VyXG4gIH0sIHRydWUpO1xuXG4gIGlmIChoaWRkZW5MaWtlcyA9PT0gMCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VycylzIGxpa2UgdGhpcy5cIiksIHtcbiAgICAgIHVzZXJzOiB1c2VybmFtZXNMaXN0XG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgXCIlKHVzZXJzKXMgYW5kICUobGlrZXMpcyBvdGhlciB1c2VyIGxpa2UgdGhpcy5cIixcbiAgICBcIiUodXNlcnMpcyBhbmQgJShsaWtlcylzIG90aGVyIHVzZXJzIGxpa2UgdGhpcy5cIixcbiAgICBoaWRkZW5MaWtlcyk7XG5cbiAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICB1c2VyczogdXNlcm5hbWVzLmpvaW4oJywgJyksXG4gICAgbGlrZXM6IGhpZGRlbkxpa2VzXG4gIH0sIHRydWUpO1xufVxuXG5leHBvcnQgY2xhc3MgUmVwbHkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiAnUkVQTFknLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5lZGl0b3IsXG4gICAgICBzdWJtaXQ6IHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCxcblxuICAgICAgY29udGV4dDoge1xuICAgICAgICByZXBseTogdGhpcy5wcm9wcy5wb3N0LmlkXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9yZXBseSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IHB1bGwtcmlnaHRcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVwbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ0VESVQnLFxuXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMucG9zdC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnBvc3QuYXBpLmluZGV4XG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuYWNsLmNhbl9lZGl0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgcHVsbC1yaWdodFwiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJFZGl0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi9jb250cm9scyc7XG5pbXBvcnQgU2VsZWN0IGZyb20gJy4vc2VsZWN0JztcbmltcG9ydCB7U3RhdHVzSWNvbiwgZ2V0U3RhdHVzQ2xhc3NOYW1lLCBnZXRTdGF0dXNEZXNjcmlwdGlvbn0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnO1xuaW1wb3J0IFBvc3RDaGFuZ2Vsb2cgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcG9zdC1jaGFuZ2Vsb2cnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nIHBvc3QtaGVhZGluZ1wiPlxuICAgICAgPFBvc3RlclN0YXR1cyB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZXJSYW5rIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQb3N0ZWRPbiB7Li4ucHJvcHN9IC8+XG4gICAgICA8U2VsZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxDb250cm9scyB7Li4ucHJvcHN9IC8+XG4gICAgICA8UG9zdEVkaXRzIHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0ZWRMYWJlbCB7Li4ucHJvcHN9IC8+XG4gICAgICA8VW5yZWFkTGFiZWwgey4uLnByb3BzfSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyU3RhdHVzKHByb3BzKSB7XG4gIGlmICghcHJvcHMucG9zdC5wb3N0ZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtnZXRTdGF0dXNDbGFzc05hbWUocHJvcHMucG9zdC5wb3N0ZXIuc3RhdHVzKX1cbiAgICAgIHRpdGxlPXtnZXRTdGF0dXNEZXNjcmlwdGlvbihwcm9wcy5wb3N0LnBvc3RlciwgcHJvcHMucG9zdC5wb3N0ZXIuc3RhdHVzKX1cbiAgICA+XG4gICAgICA8U3RhdHVzSWNvblxuICAgICAgICBzdGF0dXM9e3Byb3BzLnBvc3QucG9zdGVyLnN0YXR1c31cbiAgICAgICAgdXNlcj17cHJvcHMucG9zdC5wb3N0ZXJ9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCIgaHJlZj17cHJvcHMucG9zdC5wb3N0ZXIuYWJzb2x1dGVfdXJsfT5cbiAgICAgICAge3Byb3BzLnBvc3QucG9zdGVyLnVzZXJuYW1lfVxuICAgICAgPC9hPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPntwcm9wcy5wb3N0LnBvc3Rlcl9uYW1lfTwvc3Ryb25nPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3RlclJhbmsocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3QucG9zdGVyKSB7XG4gICAgaWYgKCFwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmlzX2RlZmF1bHQpIHtcbiAgICAgIGNvbnN0IHJhbmtDbGFzcyA9ICdsYWJlbC0nICsgKHByb3BzLnBvc3QucG9zdGVyLnJhbmsuY3NzX2NsYXNzIHx8ICdkZWZhdWx0Jyk7XG5cbiAgICAgIGlmIChwcm9wcy5wb3N0LnBvc3Rlci5yYW5rLmlzX3RhYikge1xuICAgICAgICByZXR1cm4gPGEgaHJlZj17cHJvcHMucG9zdC5wb3N0ZXIucmFuay5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT17J2xhYmVsICcgKyByYW5rQ2xhc3N9PlxuICAgICAgICAgIHtwcm9wcy5wb3N0LnBvc3Rlci5zaG9ydF90aXRsZX1cbiAgICAgICAgPC9hPjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9eydsYWJlbCAnICsgcmFua0NsYXNzfT5cbiAgICAgICAgICB7cHJvcHMucG9zdC5wb3N0ZXIuc2hvcnRfdGl0bGV9XG4gICAgICAgIDwvc3Bhbj47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsOyAvLyB3ZSBkb24ndCBkaXNwbGF5IGRlZmF1bHQgcmFua3NcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInJhbmstbmFtZSBpdGVtLXRpdGxlXCI+XG4gICAgICB7Z2V0dGV4dChcIlVucmVnaXN0ZXJlZFwiKX1cbiAgICA8L3NwYW4+O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbihwcm9wcykge1xuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLCB7XG4gICAgJ3Bvc3RlZF9vbic6IHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdCgnTEwsIExUJylcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIDxhIGhyZWY9e3Byb3BzLnBvc3QudXJsLmluZGV4fSBjbGFzc05hbWU9XCJwb3N0ZWQtb25cIiB0aXRsZT17dG9vbHRpcH0+XG4gICAge21lc3NhZ2V9XG4gIDwvYT47XG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0RWRpdHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8UG9zdENoYW5nZWxvZyBwb3N0PXt0aGlzLnByb3BzLnBvc3R9IC8+XG4gICAgKVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc0hpZGRlbiA9IHRoaXMucHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXRoaXMucHJvcHMucG9zdC5hY2wuY2FuX3NlZV9oaWRkZW47XG4gICAgY29uc3QgaXNVbmVkaXRlZCA9IHRoaXMucHJvcHMucG9zdC5lZGl0cyA9PT0gMDtcbiAgICBpZiAoaXNIaWRkZW4gfHwgaXNVbmVkaXRlZCkgcmV0dXJuIG51bGw7XG5cbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIlRoaXMgcG9zdCB3YXMgZWRpdGVkICUoZWRpdHMpcyB0aW1lLlwiLFxuICAgICAgXCJUaGlzIHBvc3Qgd2FzIGVkaXRlZCAlKGVkaXRzKXMgdGltZXMuXCIsXG4gICAgICB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICApO1xuXG4gICAgY29uc3QgdGl0bGUgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAnZWRpdHMnOiB0aGlzLnByb3BzLnBvc3QuZWRpdHNcbiAgICB9LCB0cnVlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFwiXG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGVkaXRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmVkaXRzfVxuICAgICAgPC9idXR0b24+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbnJlYWRMYWJlbChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3QuaXNfcmVhZCkge1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbCBsYWJlbC13YXJuaW5nIHB1bGwtcmlnaHRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiTmV3XCIpfVxuICAgIDwvc3Bhbj47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByb3RlY3RlZExhYmVsKHByb3BzKSB7XG4gIGNvbnN0IHBvc3RBdXRob3IgPSBwcm9wcy5wb3N0LnBvc3RlciAmJiBwcm9wcy5wb3N0LnBvc3Rlci5pZCA9PT0gcHJvcHMudXNlci5pZDtcbiAgY29uc3QgaGFzQWNsID0gcHJvcHMucG9zdC5hY2wuY2FuX3Byb3RlY3Q7XG4gIGNvbnN0IGlzVmlzaWJsZSA9IHByb3BzLnVzZXIuaWQgJiYgcHJvcHMucG9zdC5pc19wcm90ZWN0ZWQgJiYgKHBvc3RBdXRob3IgfHwgaGFzQWNsKTtcblxuICBpZiAoIWlzVmlzaWJsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgY2xhc3NOYW1lPVwibGFiZWwgbGFiZWwtZGVmYXVsdCBwdWxsLXJpZ2h0XCJcbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVGhpcyBwb3N0IGlzIHByb3RlY3RlZCBhbmQgbWF5IG5vdCBiZSBlZGl0ZWQuXCIpfVxuICAgID5cbiAgICAgIHtnZXR0ZXh0KFwiUHJvdGVjdGVkXCIpfVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInO1xuaW1wb3J0IEF0dGFjaG1lbnRzIGZyb20gJy4vYXR0YWNobWVudHMnO1xuaW1wb3J0IEJvZHkgZnJvbSAnLi9ib2R5JztcbmltcG9ydCB7IEZsYWdIaWRkZW4sIEZsYWdVbmFwcHJvdmVkIH0gZnJvbSAnLi9mbGFncyc7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vZm9vdGVyJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICBsZXQgY2xhc3NOYW1lID0gJ3Bvc3QnO1xuICBpZiAocHJvcHMucG9zdC5pc0RlbGV0ZWQpIHtcbiAgICBjbGFzc05hbWUgPSAnaGlkZSc7XG4gIH0gZWxzZSBpZiAocHJvcHMucG9zdC5pc19oaWRkZW4gJiYgIXByb3BzLnBvc3QuYWNsLmNhbl9zZWVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ3Bvc3QgcG9zdC1oaWRkZW4nO1xuICB9XG5cbiAgaWYgKCFwcm9wcy5wb3N0LmlzX3JlYWQpIHtcbiAgICBjbGFzc05hbWUgKz0gJyBwb3N0LW5ldyc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBpZD17J3Bvc3QtJyArIHByb3BzLnBvc3QuaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib3JkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWF2YXRhclwiPlxuICAgICAgICAgIDxQb3N0ZXJBdmF0YXIgcG9zdD17cHJvcHMucG9zdH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxIZWFkZXIgey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEZsYWdIaWRkZW4gey4uLnByb3BzfSAvPlxuICAgICAgICAgICAgPEZsYWdVbmFwcHJvdmVkIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxCb2R5IHsuLi5wcm9wc30gLz5cbiAgICAgICAgICAgIDxBdHRhY2htZW50cyB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICA8Rm9vdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdGVyQXZhdGFyKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0LnBvc3Rlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8YSBocmVmPXtwcm9wcy5wb3N0LnBvc3Rlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICA8QXZhdGFyIHNpemU9ezEwMH0gc2l6ZTJ4PXsxNTB9IHVzZXI9e3Byb3BzLnBvc3QucG9zdGVyfSAvPlxuICAgICAgPC9hPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxBdmF0YXIgc2l6ZT17MTAwfSAvPjtcbiAgfVxufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9zdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYXZhdGFyXCI+XG4gICAgICAgICAgPEF2YXRhciBzaXplPVwiMTAwXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtaGVhZGluZyBwb3N0LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cIm1pc2Fnby1tYXJrdXBcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAxMDApICsgXCIlXCJ9fT4mbmJzcDs8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg1MCwgMTAwKSArIFwiJVwifX0+Jm5ic3A7PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcIiVcIn19PiZuYnNwOzwvcD5cbiAgICAgICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNWaXNpYmxlIH0gZnJvbSAnLi9jb250cm9scyc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3QuaXNTZWxlY3RlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3QodGhpcy5wcm9wcy5wb3N0KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnNlbGVjdCh0aGlzLnByb3BzLnBvc3QpKTtcbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghKHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgfHwgaXNWaXNpYmxlKHRoaXMucHJvcHMucG9zdC5hY2wpKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5wb3N0LmlzU2VsZWN0ZWQgPyAnY2hlY2tfYm94JyA6ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayd9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKlxuICBTdXBlciBuYWl2ZSBhbmQgZGUtZmFjdG8gcGxhY2Vob2xkZXIgaW1wbGVtZW50YXRpb24gZm9yIHJlYWRpbmcgcG9zdHMgb24gc2Nyb2xsXG4gICovXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmKHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgICByZXR1cm47IC8vIGRvbid0IHJlZ2lzdGVyIHJlYWQgdHJhY2tlclxuICAgIH1cblxuICAgICQoJyNwb3N0LScgKyB0aGlzLnByb3BzLnBvc3QuaWQpLndheXBvaW50KHtcbiAgICAgIGhhbmRsZXI6IChkaXJlY3Rpb24pID0+IHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gJ2Rvd24nIHx8IHRoaXMucHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWZ0ZXIgMTUwMG1zIGZsYWcgcG9zdCBhcyByZWFkXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHRoaXMucHJvcHMucG9zdCwge1xuICAgICAgICAgICAgaXNfcmVhZDogdHJ1ZVxuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnBvc3QuYXBpLnJlYWQpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0sXG4gICAgICBvZmZzZXQ6ICdib3R0b20taW4tdmlldydcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYW5lbExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYW5lbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQYW5lbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFuZWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1BST0ZJTEVfQkFOJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoJ1BST0ZJTEVfQkFOJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKHByb3BzLnByb2ZpbGUuYXBpX3VybC5iYW4pO1xuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGJhbikge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICAgIGJhblxuICAgIH07XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBzdGFydFBvbGxpbmcoYXBpKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ2Jhbi1kZXRhaWxzJyxcbiAgICAgIHVybDogYXBpLFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlLFxuICAgICAgZXJyb3I6IHRoaXMuZXJyb3JcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGJhbikgPT4ge1xuICAgIGlmIChiYW4uZXhwaXJlc19vbikge1xuICAgICAgYmFuLmV4cGlyZXNfb24gPSBtb21lbnQoYmFuLmV4cGlyZXNfb24pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgYmFuXG4gICAgfSk7XG4gIH07XG5cbiAgZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgZXJyb3I6IGVycm9yLmRldGFpbCxcbiAgICAgIGJhbjogbnVsbFxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIkJhbiBkZXRhaWxzXCIpLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoJ2Jhbi1kZXRhaWxzJyk7XG4gIH1cblxuICBnZXRVc2VyTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4udXNlcl9tZXNzYWdlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1tZXNzYWdlIGJhbi11c2VyLW1lc3NhZ2VcIj5cbiAgICAgICAgPGg0PntnZXR0ZXh0KFwiVXNlci1zaG93biBiYW4gbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlYWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgX19odG1sOiB0aGlzLnN0YXRlLmJhbi51c2VyX21lc3NhZ2UuaHRtbFxuICAgICAgICAgIH19IC8+XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdGFmZk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYmFuLnN0YWZmX21lc3NhZ2UpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHkgYmFuLW1lc3NhZ2UgYmFuLXN0YWZmLW1lc3NhZ2VcIj5cbiAgICAgICAgPGg0PntnZXR0ZXh0KFwiVGVhbS1zaG93biBiYW4gbWVzc2FnZVwiKX08L2g0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlYWRcIiBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xuICAgICAgICAgICAgX19odG1sOiB0aGlzLnN0YXRlLmJhbi5zdGFmZl9tZXNzYWdlLmh0bWxcbiAgICAgICAgICB9fSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRFeHBpcmF0aW9uTWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuYmFuLmV4cGlyZXNfb24uaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyBvbiAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShcbiAgICAgICAgICBnZXR0ZXh0KFwiVGhpcyBiYW4gZXhwaXJlcyAlKGV4cGlyZXNfb24pcy5cIiksIHtcbiAgICAgICAgICAgICdleHBpcmVzX29uJzogdGhpcy5zdGF0ZS5iYW4uZXhwaXJlc19vbi5mcm9tTm93KClcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gPGFiYnIgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9hYmJyPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBiYW4gaGFzIGV4cGlyZWQuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcydzIGJhbiBpcyBwZXJtYW5lbnQuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGFuZWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmJhbikge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuYmFuKS5sZW5ndGgpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgICB7dGhpcy5nZXRVc2VyTWVzc2FnZSgpfVxuICAgICAgICAgIHt0aGlzLmdldFN0YWZmTWVzc2FnZSgpfVxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IGJhbi1leHBpcmVzXCI+XG4gICAgICAgICAgICA8aDQ+e2dldHRleHQoXCJCYW4gZXhwaXJhdGlvblwiKX08L2g0PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRFeHBpcmF0aW9uTWVzc2FnZSgpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgIDxQYW5lbE1lc3NhZ2UgbWVzc2FnZT17Z2V0dGV4dChcIk5vIGJhbiBpcyBhY3RpdmUgYXQgdGhlIG1vbWVudC5cIil9IC8+XG4gICAgICAgIDwvZGl2PjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8UGFuZWxNZXNzYWdlIGljb249XCJlcnJvcl9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgIDxQYW5lbExvYWRlciAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtYmFuLWRldGFpbHNcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmdcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwicGFuZWwtdGl0bGVcIj57Z2V0dGV4dChcIkJhbiBkZXRhaWxzXCIpfTwvaDM+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt0aGlzLmdldFBhbmVsQm9keSgpfVxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUm91dGUgZnJvbSAnLi9yb3V0ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRzKHByb3BzKSB7XG4gIGxldCBlbXB0eU1lc3NhZ2UgPSBudWxsO1xuICBpZiAocHJvcHMudXNlci5pZCA9PT0gcHJvcHMucHJvZmlsZS5pZCkge1xuICAgIGVtcHR5TWVzc2FnZSA9IGdldHRleHQoXCJZb3UgaGF2ZSBubyBzdGFydGVkIHRocmVhZHMuXCIpO1xuICB9IGVsc2Uge1xuICAgIGVtcHR5TWVzc2FnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgc3RhcnRlZCBubyB0aHJlYWRzLlwiKSwge1xuICAgICAgJ3VzZXJuYW1lJzogcHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgbGV0IGhlYWRlciA9IG51bGw7XG4gIGlmICghcHJvcHMucG9zdHMuaXNMb2FkZWQpIHtcbiAgICBoZWFkZXIgPSBnZXR0ZXh0KCdMb2FkaW5nLi4uJyk7XG4gIH0gZWxzZSBpZiAocHJvcHMucHJvZmlsZS5pZCA9PT0gcHJvcHMudXNlci5pZCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiWW91IGhhdmUgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWQuXCIsXG4gICAgICBcIllvdSBoYXZlIHN0YXJ0ZWQgJSh0aHJlYWRzKXMgdGhyZWFkcy5cIixcbiAgICAgIHByb3BzLnBvc3RzLmNvdW50KTtcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICd0aHJlYWRzJzogcHJvcHMucG9zdHMuY291bnRcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWQuXCIsXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgc3RhcnRlZCAlKHRocmVhZHMpcyB0aHJlYWRzLlwiLFxuICAgICAgcHJvcHMucG9zdHMuY291bnQpO1xuXG4gICAgaGVhZGVyID0gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ3VzZXJuYW1lJzogcHJvcHMucHJvZmlsZS51c2VybmFtZSxcbiAgICAgICd0aHJlYWRzJzogcHJvcHMucG9zdHMuY291bnRcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJvdXRlXG4gICAgICBhcGk9e3Byb3BzLnByb2ZpbGUuYXBpX3VybC50aHJlYWRzfVxuICAgICAgZW1wdHlNZXNzYWdlPXtlbXB0eU1lc3NhZ2V9XG4gICAgICBoZWFkZXI9e2hlYWRlcn1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiVGhyZWFkc1wiKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdHMocHJvcHMpIHtcbiAgbGV0IGVtcHR5TWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy51c2VyLmlkID09PSBwcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgZW1wdHlNZXNzYWdlID0gZ2V0dGV4dChcIllvdSBoYXZlIHBvc3RlZCBubyBtZXNzYWdlcy5cIik7XG4gIH0gZWxzZSB7XG4gICAgZW1wdHlNZXNzYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBwb3N0ZWQgbm8gbWVzc2FnZXMuXCIpLCB7XG4gICAgICAndXNlcm5hbWUnOiBwcm9wcy5wcm9maWxlLnVzZXJuYW1lXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICBsZXQgaGVhZGVyID0gbnVsbDtcbiAgaWYgKCFwcm9wcy5wb3N0cy5pc0xvYWRlZCkge1xuICAgIGhlYWRlciA9IGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgfSBlbHNlIGlmIChwcm9wcy5wcm9maWxlLmlkID09PSBwcm9wcy51c2VyLmlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJZb3UgaGF2ZSBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2UuXCIsXG4gICAgICBcIllvdSBoYXZlIHBvc3RlZCAlKHBvc3RzKXMgbWVzc2FnZXMuXCIsXG4gICAgICBwcm9wcy5wb3N0cy5jb3VudCk7XG5cbiAgICBoZWFkZXIgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAncG9zdHMnOiBwcm9wcy5wb3N0cy5jb3VudFxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJSh1c2VybmFtZSlzIGhhcyBwb3N0ZWQgJShwb3N0cylzIG1lc3NhZ2UuXCIsXG4gICAgICBcIiUodXNlcm5hbWUpcyBoYXMgcG9zdGVkICUocG9zdHMpcyBtZXNzYWdlcy5cIixcbiAgICAgIHByb3BzLnBvc3RzLmNvdW50KTtcblxuICAgIGhlYWRlciA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICd1c2VybmFtZSc6IHByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAncG9zdHMnOiBwcm9wcy5wb3N0cy5jb3VudFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Um91dGVcbiAgICAgIGFwaT17cHJvcHMucHJvZmlsZS5hcGlfdXJsLnBvc3RzfVxuICAgICAgZW1wdHlNZXNzYWdlPXtlbXB0eU1lc3NhZ2V9XG4gICAgICBoZWFkZXI9e2hlYWRlcn1cbiAgICAgIHRpdGxlPXtnZXR0ZXh0KFwiUG9zdHNcIil9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBvc3QgZnJvbSAnLi9wb3N0JztcbmltcG9ydCBQb3N0UHJldmlldyBmcm9tICcuL3Bvc3QtcHJldmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMuaXNSZWFkeSkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICAgIDxQb3N0UHJldmlldyAvPlxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwicG9zdHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAge3Byb3BzLnBvc3RzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxQb3N0IGtleT17cG9zdC5pZH0gcG9zdD17cG9zdH0gLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvdWw+XG4gICk7XG59IiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwicG9zdCBwb3N0LWluZmVlZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3N0LWJvcmRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBwYW5lbC1wb3N0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWhlYWRpbmcgcG9zdC1oZWFkaW5nXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDUwKSArIFwiJVwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCJweFwifX0+Jm5ic3A7PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVsLWJvZHlcIj5cbiAgICAgICAgICAgICAgPGFydGljbGUgY2xhc3NOYW1lPVwibWlzYWdvLW1hcmt1cFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcIiVcIn19PiZuYnNwOzwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCAxMDApICsgXCIlXCJ9fT4mbmJzcDs8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgMTAwKSArIFwiJVwifX0+Jm5ic3A7PC9wPlxuICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICApO1xufVxuIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNaXNhZ29NYXJrdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbWlzYWdvLW1hcmt1cCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGxldCBjbGFzc05hbWUgPSAncG9zdCBwb3N0LWluZmVlZCc7XG4gIGlmICghcHJvcHMucG9zdC5pc19yZWFkKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgcG9zdC1uZXcnO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGkgaWQ9eydwb3N0LScgKyBwcm9wcy5wb3N0LmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc3QtYm9yZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zdC1ib2R5XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHBhbmVsLXBvc3RcIj5cbiAgICAgICAgICAgIDxQb3N0SGVhZGVyIHBvc3Q9e3Byb3BzLnBvc3R9IHRocmVhZD17cHJvcHMucG9zdC50aHJlYWR9IC8+XG4gICAgICAgICAgICA8UG9zdEJvZHkgY29udGVudD17cHJvcHMucG9zdC5jb250ZW50fSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0SGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1oZWFkaW5nIHBvc3QtaGVhZGluZ1wiPlxuICAgICAgPFRocmVhZCB7Li4ucHJvcHMudGhyZWFkfSAvPlxuICAgICAgPFBvc3RlZE9uIHBvc3Q9e3Byb3BzLnBvc3R9IC8+XG4gICAgICA8R29UbyB1cmw9e3Byb3BzLnBvc3QudXJsLmluZGV4fSAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGhyZWFkKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIlxuICAgICAgaHJlZj17cHJvcHMudXJsfVxuICAgID5cbiAgICAgIHtwcm9wcy50aXRsZX1cbiAgICA8L2E+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZWRPbihwcm9wcykge1xuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLCB7XG4gICAgJ3Bvc3RlZF9vbic6IHByb3BzLnBvc3QucG9zdGVkX29uLmZvcm1hdCgnTEwsIExUJylcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGdldHRleHQoXCJwb3N0ZWQgJShwb3N0ZWRfb24pc1wiKSwge1xuICAgICdwb3N0ZWRfb24nOiBwcm9wcy5wb3N0LnBvc3RlZF9vbi5mcm9tTm93KClcbiAgfSwgdHJ1ZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8YSBocmVmPXtwcm9wcy5wb3N0LnVybC5pbmRleH0gY2xhc3NOYW1lPVwicG9zdGVkLW9uXCIgdGl0bGU9e3Rvb2x0aXB9PlxuICAgICAge21lc3NhZ2V9XG4gICAgPC9hPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR29Ubyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsbC1yaWdodFwiPlxuICAgICAgPGFcbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVwiXG4gICAgICAgIGhyZWY9e3Byb3BzLnVybH1cbiAgICAgID5cbiAgICAgICAge2dldHRleHQoXCJHbyB0byBwb3N0XCIpfVxuICAgICAgPC9hPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUG9zdEJvZHkocHJvcHMpIHtcbiAgaWYgKHByb3BzLmNvbnRlbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5XCI+XG4gICAgICAgIDxNaXNhZ29NYXJrdXAgbWFya3VwPXtwcm9wcy5jb250ZW50fSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1ib2R5IHBhbmVsLWJvZHktaW52YWxpZFwiPlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntnZXR0ZXh0KFwiVGhpcyBwb3N0J3MgY29udGVudHMgY2Fubm90IGJlIGRpc3BsYXllZC5cIil9PC9wPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZFwiPntnZXR0ZXh0KFwiVGhpcyBlcnJvciBpcyBjYXVzZWQgYnkgaW52YWxpZCBwb3N0IGNvbnRlbnQgbWFuaXB1bGF0aW9uLlwiKX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQb3N0c0xpc3QgZnJvbSAnLi9wb3N0cy1saXN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJztcbmltcG9ydCAqIGFzIHBvc3RzIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0cyc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgbG9hZEl0ZW1zKHBhZ2U9MSkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMuYXBpLCB7XG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmFwcGVuZChkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkSXRlbXModGhpcy5wcm9wcy5wb3N0cy5wYWdlICsgMSk7XG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZEl0ZW1zKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1mZWVkXCI+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwidG9vbGJhclwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmhlYWRlcn1cbiAgICAgICAgICA8L2gzPlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPEZlZWRcbiAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgIGxvYWRNb3JlPXt0aGlzLmxvYWRNb3JlfVxuICAgICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmVlZChwcm9wcykge1xuICBpZiAoIXByb3BzLnBvc3RzLmNvdW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj57cHJvcHMuZW1wdHlNZXNzYWdlfTwvcD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFBvc3RzTGlzdFxuICAgICAgICBpc1JlYWR5PXtwcm9wcy5wb3N0cy5pc0xvYWRlZH1cbiAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzLnJlc3VsdHN9XG4gICAgICAvPlxuICAgICAgPExvYWRNb3JlQnV0dG9uXG4gICAgICAgIGlzTG9hZGluZz17cHJvcHMuaXNMb2FkaW5nfVxuICAgICAgICBsb2FkTW9yZT17cHJvcHMubG9hZE1vcmV9XG4gICAgICAgIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZE1vcmVCdXR0b24ocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5tb3JlKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgPEJ1dHRvblxuICAgICAgICBsb2FkaW5nPXtwcm9wcy5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3Byb3BzLmxvYWRNb3JlfVxuICAgICAgPlxuICAgICAgICB7aW50ZXJwb2xhdGUoZ2V0dGV4dChcIlNob3cgbW9yZSAoJShtb3JlKXMpXCIpLCB7XG4gICAgICAgICAgJ21vcmUnOiBwcm9wcy5tb3JlXG4gICAgICAgIH0sIHRydWUpfVxuICAgICAgPC9CdXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBwYXRjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wcm9maWxlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArICcgYnRuLWRlZmF1bHQgYnRuLWZvbGxvd2luZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNsYXNzTmFtZSArICcgYnRuLWRlZmF1bHQgYnRuLWZvbGxvdyc7XG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlzX2ZvbGxvd2VkKSB7XG4gICAgICByZXR1cm4gJ2Zhdm9yaXRlJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdmYXZvcml0ZV9ib3JkZXInO1xuICAgIH1cbiAgfVxuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuaXNfZm9sbG93ZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRm9sbG93aW5nXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkZvbGxvd1wiKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGFjdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pc19mb2xsb3dlZCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goe1xuICAgICAgICBpc19mb2xsb3dlZDogZmFsc2UsXG4gICAgICAgIGZvbGxvd2VyczogdGhpcy5wcm9wcy5wcm9maWxlLmZvbGxvd2VycyAtIDFcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goe1xuICAgICAgICBpc19mb2xsb3dlZDogdHJ1ZSxcbiAgICAgICAgZm9sbG93ZXJzOiB0aGlzLnByb3BzLnByb2ZpbGUuZm9sbG93ZXJzICsgMVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5mb2xsb3cpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goZGF0YSkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWN0aW9ufT5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgPC9zcGFuPlxuICAgICAge3RoaXMuZ2V0TGFiZWwoKX1cbiAgICA8L0J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlYXJjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9yb290JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlLCBhcHBlbmQgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zZXRTcGVjaWFsUHJvcHMoKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCh0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldFNwZWNpYWxQcm9wcygpIHtcbiAgICB0aGlzLlBSRUxPQURFRF9EQVRBX0tFWSA9ICdQUk9GSUxFX0ZPTExPV0VSUyc7XG4gICAgdGhpcy5USVRMRSA9IGdldHRleHQoJ0ZvbGxvd2VycycpO1xuICAgIHRoaXMuQVBJX0ZJTFRFUiA9ICdmb2xsb3dlcnMnO1xuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6ICcnLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9O1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9O1xuXG4gICAgdGhpcy5sb2FkVXNlcnMoKTtcbiAgfVxuXG4gIGxvYWRVc2VycyhwYWdlPTEsIHNlYXJjaD1udWxsKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVVNFUlNfQVBJJyksIHtcbiAgICAgIFt0aGlzLkFQSV9GSUxURVJdOiB0aGlzLnByb3BzLnByb2ZpbGUuaWQsXG4gICAgICBuYW1lOiBzZWFyY2gsXG4gICAgICBwYWdlOiBwYWdlIHx8IDFcbiAgICB9LCAndXNlci0nICsgdGhpcy5BUElfRklMVEVSKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpZiAocGFnZSA9PT0gMSkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEucmVzdWx0cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKGRhdGEucmVzdWx0cykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLlRJVExFLFxuICAgICAgcGFyZW50OiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZFVzZXJzKHRoaXMuc3RhdGUucGFnZSArIDEsIHRoaXMuc3RhdGUuc2VhcmNoKTtcbiAgfTtcblxuICBzZWFyY2ggPSAoZXYpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZSxcbiAgICAgIGlzQnVzeTogdHJ1ZSxcblxuICAgICAgc2VhcmNoOiBldi50YXJnZXQudmFsdWUsXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRVc2VycygxLCBldi50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIkZvdW5kICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmlkID09PSB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiWW91IGhhdmUgJSh1c2VycylzIGZvbGxvd2VyLlwiLFxuICAgICAgICBcIllvdSBoYXZlICUodXNlcnMpcyBmb2xsb3dlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzICUodXNlcnMpcyBmb2xsb3dlci5cIixcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMgaGFzICUodXNlcnMpcyBmb2xsb3dlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgaGF2ZSBubyBmb2xsb3dlcnMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBoYXMgbm8gZm9sbG93ZXJzLlwiKSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubW9yZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9PlxuICAgICAgICAgIHtpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiU2hvdyBtb3JlICglKG1vcmUpcylcIiksIHtcbiAgICAgICAgICAgICdtb3JlJzogdGhpcy5zdGF0ZS5tb3JlXG4gICAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGlzdEJvZHkoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQgJiYgdGhpcy5zdGF0ZS5jb3VudCA9PT0gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge3RoaXMuZ2V0RW1wdHlNZXNzYWdlKCl9XG4gICAgICA8L3A+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgIDxVc2Vyc0xpc3QgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgICAgc2hvd1Jhbms9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgY29scz17Mn0gLz5cblxuICAgICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJ3Byb2ZpbGUtJyArIHRoaXMuQVBJX0ZJTFRFUjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgICA8L2gzPlxuXG4gICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaCBoaXN0b3J5Li4uXCIpfSAvPlxuICAgICAgPC9uYXY+XG5cbiAgICAgIHt0aGlzLmdldExpc3RCb2R5KCl9XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd2VycyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvd2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9sbG93ZXJzIHtcbiAgc2V0U3BlY2lhbFByb3BzKCkge1xuICAgIHRoaXMuUFJFTE9BREVEX0RBVEFfS0VZID0gJ1BST0ZJTEVfRk9MTE9XUyc7XG4gICAgdGhpcy5USVRMRSA9IGdldHRleHQoJ0ZvbGxvd3MnKTtcbiAgICB0aGlzLkFQSV9GSUxURVIgPSAnZm9sbG93cyc7XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KCdMb2FkaW5nLi4uJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnNlYXJjaCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlci5cIixcbiAgICAgICAgXCJGb3VuZCAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcnMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdSBhcmUgZm9sbG93aW5nICUodXNlcnMpcyB1c2VyLlwiLFxuICAgICAgICBcIllvdSBhcmUgZm9sbG93aW5nICUodXNlcnMpcyB1c2Vycy5cIixcbiAgICAgICAgdGhpcy5zdGF0ZS5jb3VudCk7XG5cbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUodXNlcm5hbWUpcyBpcyBmb2xsb3dpbmcgJSh1c2VycylzIHVzZXIuXCIsXG4gICAgICAgIFwiJSh1c2VybmFtZSlzIGlzIGZvbGxvd2luZyAlKHVzZXJzKXMgdXNlcnMuXCIsXG4gICAgICAgIHRoaXMuc3RhdGUuY291bnQpO1xuXG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgICAndXNlcm5hbWUnOiB0aGlzLnByb3BzLnByb2ZpbGUudXNlcm5hbWUsXG4gICAgICAgICd1c2Vycyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJzIG1hdGNoaW5nIHNwZWNpZmllZCBjcml0ZXJpYS5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJZb3UgYXJlIG5vdCBmb2xsb3dpbmcgYW55IHVzZXJzLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgbm90IGZvbGxvd2luZyBhbnkgdXNlcnMuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9sbG93QnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvZm9sbG93LWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1lc3NhZ2VCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tZXNzYWdlLWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcHJvZmlsZS9tb2RlcmF0aW9uL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNJY29uLCBTdGF0dXNMYWJlbCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItc3RhdHVzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXN0YXR1cy1kaXNwbGF5XCI+XG4gICAgICA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc3RhdHVzPXt0aGlzLnByb3BzLnByb2ZpbGUuc3RhdHVzfT5cbiAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9IC8+XG4gICAgICAgIDxTdGF0dXNMYWJlbCB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMucHJvZmlsZS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWxcIiAvPlxuICAgICAgPC9TdGF0dXM+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFVzZXJSYW5rKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUucmFuay5pc190YWIpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci1yYW5rXCI+XG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMucHJvZmlsZS5yYW5rLmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUucmFuay5uYW1lfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci1yYW5rXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsubmFtZX08L3NwYW4+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlclRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUudGl0bGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnRpdGxlfVxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidXNlci10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5wcm9maWxlLnJhbmsudGl0bGV9XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEpvaW5lZE9uKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgdGl0bGUgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiSm9pbmVkIG9uICUoam9pbmVkX29uKXNcIiksIHtcbiAgICAgICdqb2luZWRfb24nOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZvcm1hdCgnTEwsIExUJylcbiAgICB9LCB0cnVlKTtcblxuICAgIGxldCBhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiSm9pbmVkICUoam9pbmVkX29uKXNcIiksIHtcbiAgICAgICdqb2luZWRfb24nOiB0aGlzLnByb3BzLnByb2ZpbGUuam9pbmVkX29uLmZyb21Ob3coKVxuICAgIH0sIHRydWUpO1xuXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgPGFiYnIgdGl0bGU9e3RpdGxlfT5cbiAgICAgICAge2FnZX1cbiAgICAgIDwvYWJicj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RW1haWwoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5lbWFpbCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWVtYWlsXCI+XG4gICAgICAgIDxhIGhyZWY9eydtYWlsdG86JyArIHRoaXMucHJvcHMucHJvZmlsZS5lbWFpbH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnByb2ZpbGUuZW1haWx9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Rm9sbG93QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3cpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Rm9sbG93QnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tYWxpZ25lZCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb2RlcmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9tb2RlcmF0ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1hbGlnbmVkIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW1vZGVyYXRlIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHRvbmFsaXR5XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW9kZXJhdGlvblwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxNb2RlcmF0aW9uTmF2IHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICA8SXNEaXNhYmxlZE1lc3NhZ2VcbiAgICAgICAgICBpc0FjdGl2ZT17dGhpcy5wcm9wcy5wcm9maWxlLmlzX2FjdGl2ZX1cbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwdWxsLWxlZnRcIj5cbiAgICAgICAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLnByb2ZpbGV9IHNpemU9XCIxMDBcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLW5hbWVcIj57dGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvaDE+XG5cbiAgICAgICAgICAgIDxNZXNzYWdlQnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYWxpZ25lZCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgcHJvZmlsZT17dGhpcy5wcm9wcy5wcm9maWxlfVxuICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge3RoaXMuZ2V0Rm9sbG93QnV0dG9uKCl9XG4gICAgICAgICAgICB7dGhpcy5nZXRNb2RlcmF0aW9uQnV0dG9uKCl9XG5cbiAgICAgICAgICAgIDxEcm9wZG93blRvZ2dsZSB0b2dnbGVOYXY9e3RoaXMucHJvcHMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duPXt0aGlzLnByb3BzLmRyb3Bkb3dufSAvPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXN0YXRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTkgY29sLW1kLW9mZnNldC0zXCI+XG5cbiAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJSYW5rKCl9XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclRpdGxlKCl9XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0Sm9pbmVkT24oKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRFbWFpbCgpfVxuICAgICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gSXNEaXNhYmxlZE1lc3NhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLmlzQWN0aXZlICE9PSBmYWxzZSkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICAgICAgPHA+e2dldHRleHQoXCJUaGlzIHVzZXIncyBhY2NvdW50IGhhcyBiZWVuIGRpc2FibGVkIGJ5IGFkbWluaXN0cmF0b3IuXCIpfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovIiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBwb3N0aW5nIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb3N0aW5nJztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih7XG4gICAgICBtb2RlOiAnU1RBUlRfUFJJVkFURScsXG4gICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoJ1BSSVZBVEVfVEhSRUFEU19BUEknKSxcblxuICAgICAgdG86IFt0aGlzLnByb3BzLnByb2ZpbGVdXG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNhbk1lc3NhZ2UgPSB0aGlzLnByb3BzLnVzZXIuYWNsLmNhbl9zdGFydF9wcml2YXRlX3RocmVhZHM7XG4gICAgY29uc3QgaXNQcm9maWxlT3duZXIgPSB0aGlzLnByb3BzLnVzZXIuaWQgPT09IHRoaXMucHJvcHMucHJvZmlsZS5pZDtcblxuICAgIGlmICghY2FuTWVzc2FnZSB8fCBpc1Byb2ZpbGVPd25lcikgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgY29tbWVudFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiTWVzc2FnZVwiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgdXBkYXRlQXZhdGFyIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG5cbiAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6ICcnLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiAnJyxcbiAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6ICcnXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLm1vZGVyYXRlX2F2YXRhcikudGhlbigob3B0aW9ucykgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuXG4gICAgICAgIGlzX2F2YXRhcl9sb2NrZWQ6IG9wdGlvbnMuaXNfYXZhdGFyX2xvY2tlZCxcbiAgICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiBvcHRpb25zLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSB8fCAnJyxcbiAgICAgICAgYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZTogb3B0aW9ucy5hdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlIHx8ICcnXG4gICAgICB9KTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGVycm9yOiByZWplY3Rpb24uZGV0YWlsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHRoaXMudmFsaWRhdGUoKS51c2VybmFtZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLm1vZGVyYXRlX2F2YXRhciwge1xuICAgICAgaXNfYXZhdGFyX2xvY2tlZDogdGhpcy5zdGF0ZS5pc19hdmF0YXJfbG9ja2VkLFxuICAgICAgYXZhdGFyX2xvY2tfdXNlcl9tZXNzYWdlOiB0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZSxcbiAgICAgIGF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2U6IHRoaXMuc3RhdGUuYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhhcGlSZXNwb25zZSkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZUF2YXRhcih0aGlzLnByb3BzLnByb2ZpbGUsIGFwaVJlc3BvbnNlLmF2YXRhcl9oYXNoKSk7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzIGhhdmUgYmVlbiBjaGFuZ2VkLlwiKSk7XG4gIH1cblxuICBnZXRGb3JtQm9keSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiTG9jayBhdmF0YXJcIil9XG4gICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e2dldHRleHQoXCJMb2NraW5nIHVzZXIgYXZhdGFyIHdpbGwgcHJvaGliaXQgdXNlciBmcm9tIGNoYW5naW5nIGhpcyBhdmF0YXIgYW5kIHdpbGwgcmVzZXQgaGlzL2hlciBhdmF0YXIgdG8gZGVmYXVsdCBvbmUuXCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2lzX2F2YXRhcl9sb2NrZWRcIj5cbiAgICAgICAgICA8WWVzTm9Td2l0Y2ggaWQ9XCJpZF9pc19hdmF0YXJfbG9ja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBpY29uT249XCJsb2NrX291dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICBpY29uT2ZmPVwibG9ja19vcGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxPbj17Z2V0dGV4dChcIkRpc2FsbG93IHVzZXIgZnJvbSBjaGFuZ2luZyBhdmF0YXJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiQWxsb3cgdXNlciB0byBjaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2lzX2F2YXRhcl9sb2NrZWQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfYXZhdGFyX2xvY2tlZH0gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXIgbWVzc2FnZVwiKX1cbiAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIk9wdGlvbmFsIG1lc3NhZ2UgZm9yIHVzZXIgZXhwbGFpbmluZyB3aHkgaGUvc2hlIGlzIHByb2hpYml0ZWQgZm9ybSBjaGFuZ2luZyBhdmF0YXIuXCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImlkX2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2F2YXRhcl9sb2NrX3VzZXJfbWVzc2FnZScpfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hdmF0YXJfbG9ja191c2VyX21lc3NhZ2V9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJTdGFmZiBtZXNzYWdlXCIpfVxuICAgICAgICAgICAgICAgICAgIGhlbHBUZXh0PXtnZXR0ZXh0KFwiT3B0aW9uYWwgbWVzc2FnZSBmb3IgZm9ydW0gdGVhbSBtZW1iZXJzIGV4cGxhaW5pbmcgd2h5IHVzZXIgaXMgcHJvaGliaXRlZCBmb3JtIGNoYW5naW5nIGF2YXRhci5cIil9XG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfYXZhdGFyX2xvY2tfc3RhZmZfbWVzc2FnZVwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImlkX2F2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2VcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICByb3dzPVwiNFwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdhdmF0YXJfbG9ja19zdGFmZl9tZXNzYWdlJyl9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmF2YXRhcl9sb2NrX3N0YWZmX21lc3NhZ2V9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJTYXZlIGNoYW5nZXNcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEZvcm1Cb2R5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TG9hZGVyIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiBcIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLWF2YXRhci1jb250cm9sc1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtYXZhdGFyLWNvbnRyb2xzXCI7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQXZhdGFyIGNvbnRyb2xzXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxNZXNzYWdlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGFkZE5hbWVDaGFuZ2UgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgdXBkYXRlVXNlcm5hbWUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuXG4gICAgICB1c2VybmFtZTogJycsXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVzZXJuYW1lOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZUNvbnRlbnQoKVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMucHJvZmlsZS5hcGlfdXJsLm1vZGVyYXRlX3VzZXJuYW1lKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcih0aGlzLnZhbGlkYXRlKCkudXNlcm5hbWVbMF0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5tb2RlcmF0ZV91c2VybmFtZSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVzZXJuYW1lOiAnJ1xuICAgIH0pO1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goYWRkTmFtZUNoYW5nZShcbiAgICAgIGFwaVJlc3BvbnNlLCB0aGlzLnByb3BzLnByb2ZpbGUsIHRoaXMucHJvcHMudXNlcikpO1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVVzZXJuYW1lKFxuICAgICAgdGhpcy5wcm9wcy5wcm9maWxlLCBhcGlSZXNwb25zZS51c2VybmFtZSwgYXBpUmVzcG9uc2Uuc2x1ZykpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVXNlcm5hbWUgaGFzIGJlZW4gY2hhbmdlZC5cIikpO1xuICB9XG5cbiAgZ2V0Rm9ybUJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyB1c2VybmFtZVwiKX0gZm9yPVwiaWRfdXNlcm5hbWVcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX3VzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3VzZXJuYW1lJyl9XG4gICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHVzZXJuYW1lXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldE1vZGFsQm9keSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxNb2RhbE1lc3NhZ2UgaWNvbj1cInJlbW92ZV9jaXJjbGVfb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLnN0YXRlLmVycm9yfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGb3JtQm9keSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1yZW5hbWUtdXNlclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVuYW1lLXVzZXJcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJDaGFuZ2UgdXNlcm5hbWVcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLmdldE1vZGFsQm9keSgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tb2RhbC1sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb2RhbE1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbWVzc2FnZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFllc05vU3dpdGNoIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3llcy1uby1zd2l0Y2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzRGVsZXRlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcblxuICAgICAgY291bnRkb3duOiA1LFxuICAgICAgY29uZmlybTogZmFsc2UsXG5cbiAgICAgIHdpdGhfY29udGVudDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQodGhpcy5wcm9wcy5wcm9maWxlLmFwaV91cmwuZGVsZXRlKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY291bnRkb3duKCk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBlcnJvcjogcmVqZWN0aW9uLmRldGFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvdW50ZG93biA9ICgpID0+IHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudGRvd24gPiAxKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNvdW50ZG93bjogdGhpcy5zdGF0ZS5jb3VudGRvd24gLSAxLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb3VudGRvd24oKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjb25maXJtOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnByb2ZpbGUuYXBpX3VybC5kZWxldGUsIHtcbiAgICAgIHdpdGhfY29udGVudDogdGhpcy5zdGF0ZS53aXRoX2NvbnRlbnRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoKSB7XG4gICAgcG9sbHMuc3RvcCgndXNlci1wcm9maWxlJyk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS53aXRoX2NvbnRlbnQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBhY2NvdW50LCB0aHJlYWRzLCBwb3N0cyBhbmQgb3RoZXIgY29udGVudCBoYXMgYmVlbiBkZWxldGVkLlwiKSwge1xuICAgICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LCB0cnVlKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0RlbGV0ZWQ6IGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMncyBhY2NvdW50IGhhcyBiZWVuIGRlbGV0ZWQgYW5kIG90aGVyIGNvbnRlbnQgaGFzIGJlZW4gaGlkZGVuLlwiKSwge1xuICAgICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgICB9LCB0cnVlKVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0QnV0dG9uTGFiZWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuY29uZmlybSkge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJEZWxldGUgJSh1c2VybmFtZSlzXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiUGxlYXNlIHdhaXQuLi4gKCUoY291bnRkb3duKXNzKVwiKSwge1xuICAgICAgICAnY291bnRkb3duJzogdGhpcy5zdGF0ZS5jb3VudGRvd25cbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEZvcm0oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cImZvcm0taG9yaXpvbnRhbFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXIgY29udGVudFwiKX1cbiAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2l0aF9jb250ZW50XCI+XG4gICAgICAgICAgPFllc05vU3dpdGNoIGlkPVwiaWRfd2l0aF9jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbE9uPXtnZXR0ZXh0KFwiRGVsZXRlIHRvZ2V0aGVyIHdpdGggdXNlcidzIGFjY291bnRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsT2ZmPXtnZXR0ZXh0KFwiSGlkZSBhZnRlciBkZWxldGluZyB1c2VyJ3MgYWNjb3VudFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd3aXRoX2NvbnRlbnQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2l0aF9jb250ZW50fSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2FuY2VsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5jb25maXJtfT5cbiAgICAgICAgICB7dGhpcy5nZXRCdXR0b25MYWJlbCgpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0RGVsZXRlZEJvZHkoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge3RoaXMuc3RhdGUuaXNEZWxldGVkfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9PlxuICAgICAgICAgICAge2dldHRleHQoXCJSZXR1cm4gdG8gdXNlcnMgbGlzdFwiKX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TW9kYWxCb2R5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPE1vZGFsTWVzc2FnZSBpY29uPVwicmVtb3ZlX2NpcmNsZV9vdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e3RoaXMuc3RhdGUuZXJyb3J9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVsZXRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREZWxldGVkQm9keSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPExvYWRlciAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yIHx8IHRoaXMuc3RhdGUuaXNEZWxldGVkKSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtbWVzc2FnZSBtb2RhbC1kZWxldGUtYWNjb3VudFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJtb2RhbC1kaWFsb2cgbW9kYWwtZGVsZXRlLWFjY291bnRcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJEZWxldGUgdXNlciBhY2NvdW50XCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5nZXRNb2RhbEJvZHkoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhckNvbnRyb2xzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Byb2ZpbGUvbW9kZXJhdGlvbi9hdmF0YXItY29udHJvbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDaGFuZ2VVc2VybmFtZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vY2hhbmdlLXVzZXJuYW1lJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGVsZXRlQWNjb3VudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL21vZGVyYXRpb24vZGVsZXRlLWFjY291bnQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogc3RvcmUudGljayxcbiAgICB1c2VyOiBzdG9yZS5hdXRoLFxuICAgIHByb2ZpbGU6IHN0b3JlLnByb2ZpbGUsXG4gIH07XG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dBdmF0YXJEaWFsb2cgPSAoKSA9PiB7XG4gICAgbW9kYWwuc2hvdyhjb25uZWN0KHNlbGVjdCkoQXZhdGFyQ29udHJvbHMpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRBdmF0YXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX21vZGVyYXRlX2F2YXRhcikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0F2YXRhckRpYWxvZ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgcG9ydHJhaXRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBdmF0YXIgY29udHJvbHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2hvd1JlbmFtZURpYWxvZyA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VVc2VybmFtZSkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFJlbmFtZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fcmVuYW1lKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zaG93UmVuYW1lRGlhbG9nfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBjcmVkaXRfY2FyZFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSB1c2VybmFtZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBzaG93RGVsZXRlRGlhbG9nID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coY29ubmVjdChzZWxlY3QpKERlbGV0ZUFjY291bnQpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXREZWxldGVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2RlbGV0ZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd0RlbGV0ZURpYWxvZ30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2xlYXJcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJEZWxldGUgYWNjb3VudFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiIHJvbGU9XCJtZW51XCI+XG4gICAgICB7dGhpcy5nZXRBdmF0YXJCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldFJlbmFtZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlciBoaWRkZW4tbWQgaGlkZGVuLWxnXCIgLz5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1idXR0b25zIGhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVOYXZ9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIG1lbnVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJNZW51XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbGknOyAvL2pzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL2ZvbGxvdy1idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy9qc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFNpZGVOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAgbmF2LXNpZGVcIj5cbiAgICAgIHt0aGlzLnByb3BzLnBhZ2VzLm1hcCgocGFnZSkgPT4ge1xuICAgICAgICByZXR1cm4gPExpbmsgdG89e3RoaXMucHJvcHMuYmFzZVVybCArIHBhZ2UuY29tcG9uZW50ICsgJy8nfVxuICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICBrZXk9e3BhZ2UuY29tcG9uZW50fT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICB7cGFnZS5pY29ufVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7cGFnZS5uYW1lfVxuICAgICAgICA8L0xpbms+O1xuICAgICAgfSl9XG4gICAgPC9kaXY+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3ROYXYgZXh0ZW5kcyBTaWRlTmF2IHtcbiAgc2hvd1NwZWNpYWxPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnByb2ZpbGUuYWNsLmNhbl9mb2xsb3cgfHwgdGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGU7XG4gIH1cblxuICBnZXRGb2xsb3dCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5hY2wuY2FuX2ZvbGxvdykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb2xsb3dCdXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wcm9maWxlLmFjbC5jYW5fbW9kZXJhdGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlTW9kZXJhdGlvbn0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB0b25hbGl0eVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHtnZXR0ZXh0KFwiTW9kZXJhdGlvblwiKX1cbiAgICAgIDwvYnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFNwZWNpYWxPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLnNob3dTcGVjaWFsT3B0aW9ucygpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImRyb3Bkb3duLWJ1dHRvbnNcIj5cbiAgICAgICAge3RoaXMuZ2V0Rm9sbG93QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1vZGVyYXRpb25CdXR0b24oKX1cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAge3RoaXMuZ2V0U3BlY2lhbE9wdGlvbnMoKX1cbiAgICAgIHt0aGlzLnNob3dTcGVjaWFsT3B0aW9ucygpID8gPGxpIGNsYXNzTmFtZT1cImRpdmlkZXJcIiAvPiA6IG51bGx9XG4gICAgICB7dGhpcy5wcm9wcy5wYWdlcy5tYXAoKHBhZ2UpID0+IHtcbiAgICAgICAgcmV0dXJuIDxMaSBwYXRoPXt0aGlzLnByb3BzLmJhc2VVcmwgKyBwYWdlLmNvbXBvbmVudCArICcvJ31cbiAgICAgICAgICAgICAgICAgICBrZXk9e3BhZ2UuY29tcG9uZW50fT5cbiAgICAgICAgICA8TGluayB0bz17dGhpcy5wcm9wcy5iYXNlVXJsICsgcGFnZS5jb21wb25lbnQgKyAnLyd9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5oaWRlTmF2fT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAge3BhZ2UuaWNvbn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtwYWdlLm5hbWV9XG4gICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L0xpPjtcbiAgICAgIH0pfVxuICAgIDwvdWw+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQmFuRGV0YWlscyBmcm9tICcuL2Jhbi1kZXRhaWxzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBQb3N0cywgVGhyZWFkcyB9IGZyb20gJy4vZmVlZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd2VycyBmcm9tICcuL2ZvbGxvd2Vycyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvbGxvd3MgZnJvbSAnLi9mb2xsb3dzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcm5hbWVIaXN0b3J5IGZyb20gJy4vdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEhlYWRlciBmcm9tICcuL2hlYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGVyYXRpb25OYXYgZnJvbSAnLi9tb2RlcmF0aW9uL25hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgU2lkZU5hdiwgQ29tcGFjdE5hdiB9IGZyb20gJy4vbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFdpdGhEcm9wZG93biB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucHJvZmlsZS5hcGlfdXJsLnJvb3QpO1xuICB9XG5cbiAgc3RhcnRQb2xsaW5nKGFwaSkge1xuICAgIHBvbGxzLnN0YXJ0KHtcbiAgICAgIHBvbGw6ICd1c2VyLXByb2ZpbGUnLFxuICAgICAgdXJsOiBhcGksXG4gICAgICBmcmVxdWVuY3k6IDkwICogMTAwMCxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGVcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChoeWRyYXRlKGRhdGEpKTtcbiAgfTtcblxuICB0b2dnbGVOYXYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJvcGRvd24gPT09ICdwYWdlcycpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcm9wZG93bjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHJvcGRvd246ICdwYWdlcydcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0b2dnbGVNb2RlcmF0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duID09PSAnbW9kZXJhdGlvbicpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkcm9wZG93bjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHJvcGRvd246ICdtb2RlcmF0aW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldE5hdkRyb3Bkb3duKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duID09PSAncGFnZXMnKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPENvbXBhY3ROYXYgcGFnZXM9e21pc2Fnby5nZXQoJ1BST0ZJTEVfUEFHRVMnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICBiYXNlVXJsPXttaXNhZ28uZ2V0KCdQUk9GSUxFJykuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVNb2RlcmF0aW9uPXt0aGlzLnRvZ2dsZU1vZGVyYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgaGlkZU5hdj17dGhpcy5oaWRlTmF2fSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duID09PSAnbW9kZXJhdGlvbicpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TW9kZXJhdGlvbk5hdiBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlTmF2PXt0aGlzLmhpZGVOYXZ9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdwYWdlIHBhZ2UtdXNlci1wcm9maWxlJztcbiAgICBpZiAoZmFsc2UgJiYgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gYmFzZUNsYXNzICsgJyBwYWdlLXVzZXItcHJvZmlsZS0nICsgdGhpcy5wcm9wcy5wcm9maWxlLnJhbmsuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmFzZUNsYXNzO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cblxuICAgICAgPEhlYWRlciB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgIHByb2ZpbGU9e3RoaXMucHJvcHMucHJvZmlsZX1cbiAgICAgICAgICAgICAgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgdG9nZ2xlTW9kZXJhdGlvbj17dGhpcy50b2dnbGVNb2RlcmF0aW9ufSAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCl9PlxuICAgICAgICB7dGhpcy5nZXROYXZEcm9wZG93bigpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvZmlsZS1zaWRlLWF2YXRhclwiPlxuICAgICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3RoaXMucHJvcHMucHJvZmlsZX0gc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPFNpZGVOYXYgcGFnZXM9e21pc2Fnby5nZXQoJ1BST0ZJTEVfUEFHRVMnKX1cbiAgICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1BST0ZJTEUnKS5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICAgICAgICAgICBwcm9maWxlPXt0aGlzLnByb3BzLnByb2ZpbGV9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC05XCI+XG5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3RpY2snOiBzdG9yZS50aWNrLnRpY2ssXG4gICAgJ3VzZXInOiBzdG9yZS5hdXRoLnVzZXIsXG4gICAgJ3VzZXJzJzogc3RvcmUudXNlcnMsXG4gICAgJ3Bvc3RzJzogc3RvcmUucG9zdHMsXG4gICAgJ3Byb2ZpbGUnOiBzdG9yZS5wcm9maWxlLFxuICAgICd1c2VybmFtZS1oaXN0b3J5Jzogc3RvcmVbJ3VzZXJuYW1lLWhpc3RvcnknXVxuICB9O1xufVxuXG5jb25zdCBDT01QT05FTlRTID0ge1xuICAncG9zdHMnOiBQb3N0cyxcbiAgJ3RocmVhZHMnOiBUaHJlYWRzLFxuICAnZm9sbG93ZXJzJzogRm9sbG93ZXJzLFxuICAnZm9sbG93cyc6IEZvbGxvd3MsXG4gICd1c2VybmFtZS1oaXN0b3J5JzogVXNlcm5hbWVIaXN0b3J5LFxuICAnYmFuLWRldGFpbHMnOiBCYW5EZXRhaWxzXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGxldCBwYXRocyA9IFtdO1xuXG4gIG1pc2Fnby5nZXQoJ1BST0ZJTEVfUEFHRVMnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBwYXRocy5wdXNoKE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1BST0ZJTEUnKS5hYnNvbHV0ZV91cmwgKyBpdGVtLmNvbXBvbmVudCArICcvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKENPTVBPTkVOVFNbaXRlbS5jb21wb25lbnRdKSxcbiAgICB9KSk7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRocztcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlYXJjaCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9xdWljay1zZWFyY2gnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBVc2VybmFtZUhpc3RvcnkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9yb290JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlLCBhcHBlbmQgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnUFJPRklMRV9OQU1FX0hJU1RPUlknKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnUFJPRklMRV9OQU1FX0hJU1RPUlknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQcmVsb2FkZWREYXRhKGRhdGEpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBzZWFyY2g6ICcnLFxuXG4gICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgcGFnZXM6IGRhdGEucGFnZXNcbiAgICB9O1xuXG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgaXNCdXN5OiBmYWxzZSxcblxuICAgICAgc2VhcmNoOiAnJyxcblxuICAgICAgY291bnQ6IDAsXG4gICAgICBtb3JlOiAwLFxuXG4gICAgICBwYWdlOiAxLFxuICAgICAgcGFnZXM6IDFcbiAgICB9O1xuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcygpO1xuICB9XG5cbiAgbG9hZENoYW5nZXMocGFnZT0xLCBzZWFyY2g9bnVsbCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1VTRVJOQU1FX0NIQU5HRVNfQVBJJyksIHtcbiAgICAgIHVzZXI6IHRoaXMucHJvcHMucHJvZmlsZS5pZCxcbiAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgcGFnZTogcGFnZSB8fCAxXG4gICAgfSwgJ3NlYXJjaC11c2VybmFtZS1oaXN0b3J5JykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKHBhZ2UgPT09IDEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZChkYXRhLnJlc3VsdHMpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICAgIGNvdW50OiBkYXRhLmNvdW50LFxuICAgICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgICAgcGFnZTogZGF0YS5wYWdlLFxuICAgICAgICBwYWdlczogZGF0YS5wYWdlc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogZ2V0dGV4dChcIlVzZXJuYW1lIGhpc3RvcnlcIiksXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBsb2FkTW9yZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzQnVzeTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcyh0aGlzLnN0YXRlLnBhZ2UgKyAxLCB0aGlzLnN0YXRlLnNlYXJjaCk7XG4gIH07XG5cbiAgc2VhcmNoID0gKGV2KSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IHRydWUsXG5cbiAgICAgIHNlYXJjaDogZXYudGFyZ2V0LnZhbHVlLFxuXG4gICAgICBjb3VudDogMCxcbiAgICAgIG1vcmU6IDAsXG5cbiAgICAgIHBhZ2U6IDEsXG4gICAgICBwYWdlczogMVxuICAgIH0pO1xuXG4gICAgdGhpcy5sb2FkQ2hhbmdlcygxLCBldi50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldExhYmVsKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGdldHRleHQoJ0xvYWRpbmcuLi4nKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuc2VhcmNoKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIkZvdW5kICUoY2hhbmdlcylzIHVzZXJuYW1lIGNoYW5nZS5cIixcbiAgICAgICAgXCJGb3VuZCAlKGNoYW5nZXMpcyB1c2VybmFtZSBjaGFuZ2VzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ2NoYW5nZXMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucHJvZmlsZS5pZCA9PT0gdGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIllvdXIgdXNlcm5hbWUgd2FzIGNoYW5nZWQgJShjaGFuZ2VzKXMgdGltZS5cIixcbiAgICAgICAgXCJZb3VyIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ2NoYW5nZXMnOiB0aGlzLnN0YXRlLmNvdW50XG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgICAgXCIlKHVzZXJuYW1lKXMncyB1c2VybmFtZSB3YXMgY2hhbmdlZCAlKGNoYW5nZXMpcyB0aW1lLlwiLFxuICAgICAgICBcIiUodXNlcm5hbWUpcydzIHVzZXJuYW1lIHdhcyBjaGFuZ2VkICUoY2hhbmdlcylzIHRpbWVzLlwiLFxuICAgICAgICB0aGlzLnN0YXRlLmNvdW50KTtcblxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICAgJ3VzZXJuYW1lJzogdGhpcy5wcm9wcy5wcm9maWxlLnVzZXJuYW1lLFxuICAgICAgICAnY2hhbmdlcyc6IHRoaXMuc3RhdGUuY291bnRcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVtcHR5TWVzc2FnZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5zZWFyY2gpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiU2VhcmNoIHJldHVybmVkIG5vIHVzZXJuYW1lIGNoYW5nZXMgbWF0Y2hpbmcgc3BlY2lmaWVkIGNyaXRlcmlhLlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudXNlci5pZCA9PT0gdGhpcy5wcm9wcy5wcm9maWxlLmlkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk5vIG5hbWUgY2hhbmdlcyBoYXZlIGJlZW4gcmVjb3JkZWQgZm9yIHlvdXIgYWNjb3VudC5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzJ3MgdXNlcm5hbWUgd2FzIG5ldmVyIGNoYW5nZWQuXCIpLCB7XG4gICAgICAgICd1c2VybmFtZSc6IHRoaXMucHJvcHMucHJvZmlsZS51c2VybmFtZVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TW9yZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tb3JlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlci1tb3JlXCI+XG4gICAgICAgIDxCdXR0b24gbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5sb2FkTW9yZX0+XG4gICAgICAgICAge2ludGVycG9sYXRlKGdldHRleHQoXCJTaG93IG9sZGVyICglKG1vcmUpcylcIiksIHtcbiAgICAgICAgICAgICdtb3JlJzogdGhpcy5zdGF0ZS5tb3JlXG4gICAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwcm9maWxlLXVzZXJuYW1lLWhpc3RvcnlcIj5cblxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0b29sYmFyLWxlZnRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRMYWJlbCgpfVxuICAgICAgICA8L2gzPlxuXG4gICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnNlYXJjaH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIlNlYXJjaCBoaXN0b3J5Li4uXCIpfSAvPlxuICAgICAgPC9uYXY+XG5cbiAgICAgIDxVc2VybmFtZUhpc3RvcnkgaXNMb2FkZWQ9e3RoaXMuc3RhdGUuaXNMb2FkZWR9XG4gICAgICAgICAgICAgICAgICAgICAgIGVtcHR5TWVzc2FnZT17dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlcz17dGhpcy5wcm9wc1sndXNlcm5hbWUtaGlzdG9yeSddfSAvPlxuXG4gICAgICB7dGhpcy5nZXRNb3JlQnV0dG9uKCl9XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIFwiZm9ybS1zZWFyY2ggXCIgKyB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiZm9ybS1zZWFyY2hcIjtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2V9XG4gICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgZ2V0dGV4dChcIlNlYXJjaC4uLlwiKX0gLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgc2VhcmNoXG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExvYWRlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9sb2FkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWdpc3RlckZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXIuanMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG5cbiAgICAgIGNyaXRlcmlhOiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dSZWdpc3RlckZvcm0gPSAoKSA9PiB7XG4gICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuYWNjb3VudF9hY3RpdmF0aW9uID09PSAnY2xvc2VkJykge1xuICAgICAgc25hY2tiYXIuaW5mbyhnZXR0ZXh0KFwiTmV3IHJlZ2lzdHJhdGlvbnMgYXJlIGN1cnJlbnRseSBkaXNhYmxlZC5cIikpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgPFJlZ2lzdGVyRm9ybVxuICAgICAgICAgIGNyaXRlcmlhPXt0aGlzLnN0YXRlLmNyaXRlcmlhfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogdHJ1ZSB9KTtcblxuICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjYXB0Y2hhLmxvYWQoKSxcbiAgICAgICAgYWpheC5nZXQobWlzYWdvLmdldCgnQVVUSF9DUklURVJJQV9BUEknKSlcbiAgICAgIF0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxuICAgICAgICAgIGNyaXRlcmlhOiByZXN1bHRbMV1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWwuc2hvdyhcbiAgICAgICAgICA8UmVnaXN0ZXJGb3JtXG4gICAgICAgICAgICBjcml0ZXJpYT17cmVzdWx0WzFdfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJSZWdpc3RyYXRpb24gaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlIGR1ZSB0byBhbiBlcnJvci5cIikpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jbGFzc05hbWUgKyAodGhpcy5zdGF0ZS5pc0xvYWRpbmcgPyAnIGJ0bi1sb2FkaW5nJyA6ICcnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPXsnYnRuICcgKyB0aGlzLmdldENsYXNzTmFtZSgpfVxuICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1JlZ2lzdGVyRm9ybX1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICAgIHt0aGlzLnN0YXRlLmlzTG9hZGluZyA/IDxMb2FkZXIgLz4gOiBudWxsIH1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBhc3N3b3JkU3RyZW5ndGggZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcGFzc3dvcmQtc3RyZW5ndGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSB0aGlzLnByb3BzLmNyaXRlcmlhO1xuXG4gICAgbGV0IHBhc3N3b3JkTWluTGVuZ3RoID0gMDtcbiAgICBwYXNzd29yZC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5uYW1lID09PSAnTWluaW11bUxlbmd0aFZhbGlkYXRvcicpIHtcbiAgICAgICAgcGFzc3dvcmRNaW5MZW5ndGggPSBpdGVtLm1pbl9sZW5ndGg7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXNlcm5hbWU6ICcnLFxuICAgICAgZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgY2FwdGNoYTogJycsXG5cbiAgICAgIHZhbGlkYXRvcnM6IHtcbiAgICAgICAgdXNlcm5hbWU6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLnVzZXJuYW1lQ29udGVudCgpLFxuICAgICAgICAgIHZhbGlkYXRvcnMudXNlcm5hbWVNaW5MZW5ndGgodXNlcm5hbWUubWluX2xlbmd0aCksXG4gICAgICAgICAgdmFsaWRhdG9ycy51c2VybmFtZU1heExlbmd0aCh1c2VybmFtZS5tYXhfbGVuZ3RoKVxuICAgICAgICBdLFxuICAgICAgICBlbWFpbDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMuZW1haWwoKVxuICAgICAgICBdLFxuICAgICAgICBwYXNzd29yZDogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucGFzc3dvcmRNaW5MZW5ndGgocGFzc3dvcmRNaW5MZW5ndGgpXG4gICAgICAgIF0sXG4gICAgICAgIGNhcHRjaGE6IGNhcHRjaGEudmFsaWRhdG9yKClcbiAgICAgIH0sXG5cbiAgICAgIGVycm9yczoge31cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSwge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkLFxuICAgICAgY2FwdGNoYTogdGhpcy5zdGF0ZS5jYXB0Y2hhXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgJ2Vycm9ycyc6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZXJyb3JzLCByZWplY3Rpb24pXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlamVjdGlvbi5fX2FsbF9fICYmIHJlamVjdGlvbi5fX2FsbF9fLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLl9fYWxsX19bMF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgcmVqZWN0aW9uLmJhbikge1xuICAgICAgc2hvd0Jhbm5lZFBhZ2UocmVqZWN0aW9uLmJhbik7XG4gICAgICBtb2RhbC5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGVnYWxGb290Tm90ZSgpIHtcbiAgICBpZiAobWlzYWdvLmdldCgnVEVSTVNfT0ZfU0VSVklDRV9VUkwnKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1RFUk1TX09GX1NFUlZJQ0VfVVJMJyl9XG4gICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiQnkgcmVnaXN0ZXJpbmcgeW91IGFncmVlIHRvIHNpdGUncyB0ZXJtcyBhbmQgY29uZGl0aW9ucy5cIil9XG4gICAgICA8L2E+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2cgbW9kYWwtcmVnaXN0ZXJcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJSZWdpc3RlclwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJmb3JtLWhvcml6b250YWxcIj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInR5cGVcIiBzdHlsZT17e2Rpc3BsYXk6ICdub25lJ319IC8+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIHN0eWxlPXt7ZGlzcGxheTogJ25vbmUnfX0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIlVzZXJuYW1lXCIpfSBmb3I9XCJpZF91c2VybmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudXNlcm5hbWV9PlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX3VzZXJuYW1lXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF91c2VybmFtZV9zdGF0dXNcIlxuICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd1c2VybmFtZScpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkUtbWFpbFwiKX0gZm9yPVwiaWRfZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmVtYWlsfT5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJpZF9lbWFpbFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiaWRfZW1haWxfc3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmVtYWlsfSAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJQYXNzd29yZFwiKX0gZm9yPVwiaWRfcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICAgICBleHRyYT17PFBhc3N3b3JkU3RyZW5ndGggcGFzc3dvcmQ9e3RoaXMuc3RhdGUucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5lbWFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXX0gLz59ID5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGlkPVwiaWRfcGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlkX3Bhc3N3b3JkX3N0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3Bhc3N3b3JkJyl9XG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICAgICAgICB7Y2FwdGNoYS5jb21wb25lbnQoe1xuICAgICAgICAgICAgICBmb3JtOiB0aGlzLFxuICAgICAgICAgICAgICBsYWJlbENsYXNzOiBcImNvbC1zbS00XCIsXG4gICAgICAgICAgICAgIGNvbnRyb2xDbGFzczogXCJjb2wtc20tOFwiXG4gICAgICAgICAgICB9KX1cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRMZWdhbEZvb3ROb3RlKCl9XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5XCIgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyIGFjY291bnRcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZ2lzdGVyQ29tcGxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRMZWFkKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICd1c2VyJykge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGJ1dCB5b3UgbmVlZCB0byBhY3RpdmF0ZSBpdCBiZWZvcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzaWduIGluLlwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCIlKHVzZXJuYW1lKXMsIHlvdXIgYWNjb3VudCBoYXMgYmVlbiBjcmVhdGVkIGJ1dCBib2FyZCBhZG1pbmlzdHJhdG9yIHdpbGwgaGF2ZSB0byBhY3RpdmF0ZSBpdCBiZWZvcmUgeW91IHdpbGwgYmUgYWJsZSB0byBzaWduIGluLlwiKTtcbiAgICB9XG4gIH1cblxuICBnZXRTdWJzY3JpcHQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZhdGlvbiA9PT0gJ3VzZXInKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIldlIGhhdmUgc2VudCBhbiBlLW1haWwgdG8gJShlbWFpbClzIHdpdGggbGluayB0aGF0IHlvdSBoYXZlIHRvIGNsaWNrIHRvIGFjdGl2YXRlIHlvdXIgYWNjb3VudC5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmFjdGl2YXRpb24gPT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiV2Ugd2lsbCBzZW5kIGFuIGUtbWFpbCB0byAlKGVtYWlsKXMgd2hlbiB0aGlzIHRha2VzIHBsYWNlLlwiKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlIG1vZGFsLXJlZ2lzdGVyXCJcbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJSZWdpc3RyYXRpb24gY29tcGxldGVcIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLmdldExlYWQoKSxcbiAgICAgICAgICAgICAgICB7J3VzZXJuYW1lJzogdGhpcy5wcm9wcy51c2VybmFtZX0sIHRydWUpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHtpbnRlcnBvbGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLmdldFN1YnNjcmlwdCgpLFxuICAgICAgICAgICAgICAgIHsnZW1haWwnOiB0aGlzLnByb3BzLmVtYWlsfSwgdHJ1ZSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZVJlZ2lzdHJhdGlvbiA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIGlmIChhcGlSZXNwb25zZS5hY3RpdmF0aW9uID09PSAnYWN0aXZlJykge1xuICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgYXV0aC5zaWduSW4oYXBpUmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxSZWdpc3RlckNvbXBsZXRlIGFjdGl2YXRpb249e3RoaXMuc3RhdGUuY29tcGxldGUuYWN0aXZhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZT17dGhpcy5zdGF0ZS5jb21wbGV0ZS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbD17dGhpcy5zdGF0ZS5jb21wbGV0ZS5lbWFpbH0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWdpc3RlckZvcm1cbiAgICAgICAgICBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZVJlZ2lzdHJhdGlvbn1cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3JzIGZyb20gJ21pc2Fnby91dGlscy92YWxpZGF0b3JzJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgY2xhc3MgUmVxdWVzdExpbmtGb3JtIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICdpc0xvYWRpbmcnOiBmYWxzZSxcblxuICAgICAgJ2VtYWlsJzogJycsXG5cbiAgICAgICd2YWxpZGF0b3JzJzoge1xuICAgICAgICAnZW1haWwnOiBbXG4gICAgICAgICAgdmFsaWRhdG9ycy5lbWFpbCgpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdTRU5EX0FDVElWQVRJT05fQVBJJyksIHtcbiAgICAgICdlbWFpbCc6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbJ2FscmVhZHlfYWN0aXZlJywgJ2luYWN0aXZlX2FkbWluJ10uaW5kZXhPZihyZWplY3Rpb24uY29kZSkgPiAtMSkge1xuICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LWFjdGl2YXRpb24tbGlua1wiPlxuICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJZb3VyIGUtbWFpbCBhZGRyZXNzXCIpfVxuICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlbmQgbGlua1wiKX1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlua1NlbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiQWN0aXZhdGlvbiBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSwge1xuICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsgd2VsbC1kb25lXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRvbmUtbWVzc2FnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIGNoZWNrXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLmNhbGxiYWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlJlcXVlc3QgYW5vdGhlciBsaW5rXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY29tcGxldGUgPSAoYXBpUmVzcG9uc2UpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNvbXBsZXRlOiBhcGlSZXNwb25zZVxuICAgIH0pO1xuICB9O1xuXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGZhbHNlXG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuIDxMaW5rU2VudCB1c2VyPXt0aGlzLnN0YXRlLmNvbXBsZXRlfSBjYWxsYmFjaz17dGhpcy5yZXNldH0gLz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8UmVxdWVzdExpbmtGb3JtIGNhbGxiYWNrPXt0aGlzLmNvbXBsZXRlfSAvPjtcbiAgICB9O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGNsYXNzIFJlcXVlc3RSZXNldEZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgJ2lzTG9hZGluZyc6IGZhbHNlLFxuXG4gICAgICAnZW1haWwnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICdlbWFpbCc6IFtcbiAgICAgICAgICB2YWxpZGF0b3JzLmVtYWlsKClcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ1NFTkRfUEFTU1dPUkRfUkVTRVRfQVBJJyksIHtcbiAgICAgICdlbWFpbCc6IHRoaXMuc3RhdGUuZW1haWxcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLmNhbGxiYWNrKGFwaVJlc3BvbnNlKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChbJ2luYWN0aXZlX3VzZXInLCAnaW5hY3RpdmVfYWRtaW4nXS5pbmRleE9mKHJlamVjdGlvbi5jb2RlKSA+IC0xKSB7XG4gICAgICB0aGlzLnByb3BzLnNob3dJbmFjdGl2ZVBhZ2UocmVqZWN0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndlbGwgd2VsbC1mb3JtIHdlbGwtZm9ybS1yZXF1ZXN0LXBhc3N3b3JkLXJlc2V0XCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Z2V0dGV4dChcIllvdXIgZS1tYWlsIGFkZHJlc3NcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5lbWFpbH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VuZCBsaW5rXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rU2VudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCJSZXNldCBwYXNzd29yZCBsaW5rIHdhcyBzZW50IHRvICUoZW1haWwpc1wiKSwge1xuICAgICAgZW1haWw6IHRoaXMucHJvcHMudXNlci5lbWFpbFxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3ZWxsIHdlbGwtZm9ybSB3ZWxsLWZvcm0tcmVxdWVzdC1wYXNzd29yZC1yZXNldCB3ZWxsLWRvbmVcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG9uZS1tZXNzYWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAge3RoaXMuZ2V0TWVzc2FnZSgpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2FsbGJhY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUmVxdWVzdCBhbm90aGVyIGxpbmtcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjY291bnRJbmFjdGl2ZVBhZ2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRBY3RpdmF0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hY3RpdmF0aW9uID09PSAnaW5hY3RpdmVfdXNlcicpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8cD5cbiAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTCcpfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFjdGl2YXRlIHlvdXIgYWNjb3VudC5cIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvcD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1pbmZvIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWluYWN0aXZlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtcGFuZWxcIj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICAgIGluZm9fb3V0bGluZVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJZb3VyIGFjY291bnQgaXMgaW5hY3RpdmUuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLm1lc3NhZ2V9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0ZUJ1dHRvbigpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY29tcGxldGU6IGFwaVJlc3BvbnNlXG4gICAgfSk7XG4gIH07XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb21wbGV0ZTogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBzaG93SW5hY3RpdmVQYWdlKGFwaVJlc3BvbnNlKSB7XG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgPEFjY291bnRJbmFjdGl2ZVBhZ2UgYWN0aXZhdGlvbj17YXBpUmVzcG9uc2UuY29kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9e2FwaVJlc3BvbnNlLmRldGFpbH0gLz4sXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZS1tb3VudCcpXG4gICAgKTtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgaWYgKHRoaXMuc3RhdGUuY29tcGxldGUpIHtcbiAgICAgIHJldHVybiA8TGlua1NlbnQgdXNlcj17dGhpcy5zdGF0ZS5jb21wbGV0ZX0gY2FsbGJhY2s9e3RoaXMucmVzZXR9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPFJlcXVlc3RSZXNldEZvcm0gY2FsbGJhY2s9e3RoaXMuY29tcGxldGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luYWN0aXZlUGFnZT17dGhpcy5zaG93SW5hY3RpdmVQYWdlfSAvPjtcbiAgICB9O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBTaWduSW5Nb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zaWduLWluLmpzJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHNob3dCYW5uZWRQYWdlIGZyb20gJ21pc2Fnby91dGlscy9iYW5uZWQtcGFnZSc7XG5cbmV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkRm9ybSBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG5cbiAgICAgICdwYXNzd29yZCc6ICcnXG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QobWlzYWdvLmdldCgnQ0hBTkdFX1BBU1NXT1JEX0FQSScpLCB7XG4gICAgICAncGFzc3dvcmQnOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKGFwaVJlc3BvbnNlKSB7XG4gICAgdGhpcy5wcm9wcy5jYWxsYmFjayhhcGlSZXNwb25zZSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIHJlamVjdGlvbi5iYW4pIHtcbiAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5iYW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwid2VsbCB3ZWxsLWZvcm0gd2VsbC1mb3JtLXJlc2V0LXBhc3N3b3JkXCI+XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cblxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJFbnRlciBuZXcgcGFzc3dvcmRcIil9XG4gICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgncGFzc3dvcmQnKX1cbiAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0xvYWRpbmd9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2hhbmdlIHBhc3N3b3JkXCIpfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXNzd29yZENoYW5nZWRQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcywgeW91ciBwYXNzd29yZCBoYXMgYmVlbiBjaGFuZ2VkIHN1Y2Nlc3NmdWxseS5cIiksIHtcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHNob3dTaWduSW4oKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1tZXNzYWdlIHBhZ2UtbWVzc2FnZS1zdWNjZXNzIHBhZ2UtZm9yZ290dGVuLXBhc3N3b3JkLWNoYW5nZWRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1wYW5lbFwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgY2hlY2tcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1ib2R5XCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIllvdSB3aWxsIGhhdmUgdG8gc2lnbiBpbiB1c2luZyBuZXcgcGFzc3dvcmQgYmVmb3JlIGNvbnRpbnVpbmcuXCIpfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbn0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wbGV0ZSA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIGF1dGguc29mdFNpZ25PdXQoKTtcblxuICAgIC8vIG51a2UgXCJyZWRpcmVjdF90b1wiIGZpZWxkIHNvIHdlIGRvbid0IGVuZFxuICAgIC8vIGNvbWluZyBiYWNrIHRvIGVycm9yIHBhZ2UgYWZ0ZXIgc2lnbiBpblxuICAgICQoJyNoaWRkZW4tbG9naW4tZm9ybSBpbnB1dFtuYW1lPVwicmVkaXJlY3RfdG9cIl0nKS5yZW1vdmUoKTtcblxuICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgIDxQYXNzd29yZENoYW5nZWRQYWdlIHVzZXI9e2FwaVJlc3BvbnNlfSAvPixcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgICApO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxSZXNldFBhc3N3b3JkRm9ybSBjYWxsYmFjaz17dGhpcy5jb21wbGV0ZX0gLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCB7IGxvYWQgYXMgdXBkYXRlUG9zdHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IHsgdXBkYXRlIGFzIHVwZGF0ZVNlYXJjaCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWFyY2gnO1xuaW1wb3J0IHsgaHlkcmF0ZSBhcyB1cGRhdGVVc2VycyB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICBxdWVyeTogcHJvcHMuc2VhcmNoLnF1ZXJ5XG4gICAgfTtcbiAgfVxuXG4gIG9uUXVlcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdxdWVyeScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLnF1ZXJ5LnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBzZWFyY2ggcXVlcnkuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlU2VhcmNoKHtcbiAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgIH0pKTtcblxuICAgIHJldHVybiBhamF4LmdldChtaXNhZ28uZ2V0KCdTRUFSQ0hfQVBJJyksIHtcbiAgICAgIHE6IHRoaXMuc3RhdGUucXVlcnkudHJpbSgpXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKHByb3ZpZGVycykge1xuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVNlYXJjaCh7XG4gICAgICBxdWVyeTogdGhpcy5zdGF0ZS5xdWVyeS50cmltKCksXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcHJvdmlkZXJzXG4gICAgfSkpO1xuXG4gICAgcHJvdmlkZXJzLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG4gICAgICBpZiAocHJvdmlkZXIuaWQgPT09ICd1c2VycycpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlVXNlcnMocHJvdmlkZXIucmVzdWx0cy5yZXN1bHRzKSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3ZpZGVyLmlkID09PSAndGhyZWFkcycpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlUG9zdHMocHJvdmlkZXIucmVzdWx0cykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZVNlYXJjaCh7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTNcIj5cbiAgICAgICAgICAgICAgICA8aDE+e2dldHRleHQoXCJTZWFyY2hcIil9PC9oMT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5zZWFyY2guaXNMb2FkaW5nIHx8IHRoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblF1ZXJ5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnNlYXJjaC5pc0xvYWRpbmcgfHwgdGhpcy5zdGF0ZS5pc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldHRleHQoXCJTZWFyY2hcIil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufSIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgU2VhcmNoVGhyZWFkcyBmcm9tICcuL3RocmVhZHMnO1xuaW1wb3J0IFNlYXJjaFVzZXJzIGZyb20gJy4vdXNlcnMnO1xuXG5jb25zdCBjb21wb25lbnRzID0ge1xuICB0aHJlYWRzOiBTZWFyY2hUaHJlYWRzLFxuICB1c2VyczogU2VhcmNoVXNlcnNcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RvcmUpIHtcbiAgcmV0dXJuIHtcbiAgICAncG9zdHMnOiBzdG9yZS5wb3N0cyxcbiAgICAnc2VhcmNoJzogc3RvcmUuc2VhcmNoLFxuICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyLFxuICAgICd1c2Vycyc6IHN0b3JlLnVzZXJzLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm92aWRlcnMpIHtcbiAgcmV0dXJuIHByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IHByb3ZpZGVyLnVybCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKGNvbXBvbmVudHNbcHJvdmlkZXIuaWRdKSxcbiAgICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICAgIH07XG4gIH0pO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2VhcmNoRm9ybSBmcm9tICcuL2Zvcm0nO1xuaW1wb3J0IFNpZGVOYXYgZnJvbSAnLi9zaWRlbmF2JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS1zZWFyY2hcIj5cbiAgICAgIDxTZWFyY2hGb3JtXG4gICAgICAgIHByb3ZpZGVyPXtwcm9wcy5wcm92aWRlcn1cbiAgICAgICAgc2VhcmNoPXtwcm9wcy5zZWFyY2h9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zXCI+XG4gICAgICAgICAgICA8U2lkZU5hdiBwcm92aWRlcnM9e3Byb3BzLnNlYXJjaC5wcm92aWRlcnN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPlxuICAgICAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPFNlYXJjaFRpbWVcbiAgICAgICAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnByb3ZpZGVyfVxuICAgICAgICAgICAgICBzZWFyY2g9e3Byb3BzLnNlYXJjaH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNlYXJjaFRpbWUocHJvcHMpIHtcbiAgbGV0IHRpbWUgPSBudWxsO1xuICBwcm9wcy5zZWFyY2gucHJvdmlkZXJzLmZvckVhY2goKHApID0+IHtcbiAgICBpZiAocC5pZCA9PT0gcHJvcHMucHJvdmlkZXIuaWQpIHtcbiAgICAgIHRpbWUgPSBwLnRpbWU7XG4gICAgfVxuICB9KTtcblxuICBpZiAodGltZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgY29weSA9IGdldHRleHQoXCJTZWFyY2ggdG9vayAlKHRpbWUpcyBzIHRvIGNvbXBsZXRlXCIpO1xuXG4gIHJldHVybiAoXG4gICAgPGZvb3RlciBjbGFzc05hbWU9XCJzZWFyY2gtZm9vdGVyXCI+XG4gICAgICA8cD5cbiAgICAgICAge2ludGVycG9sYXRlKGNvcHksIHt0aW1lfSwgdHJ1ZSl9XG4gICAgICA8L3A+XG4gICAgPC9mb290ZXI+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1ncm91cCBuYXYtc2lkZVwiPlxuICAgICAge3Byb3BzLnByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPExpbmtcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgICAgICAga2V5PXtwcm92aWRlci5pZH1cbiAgICAgICAgICAgIHRvPXtwcm92aWRlci51cmx9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Byb3ZpZGVyLm5hbWV9XG4gICAgICAgICAgICA8QmFkZ2UgcmVzdWx0cz17cHJvdmlkZXIucmVzdWx0c30gLz5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJhZGdlKHByb3BzKSB7XG4gIGlmICghcHJvcHMucmVzdWx0cykgcmV0dXJuIG51bGw7XG5cbiAgbGV0IGNvdW50ID0gcHJvcHMucmVzdWx0cy5jb3VudDtcbiAgaWYgKGNvdW50ID4gMTAwMDAwMCkge1xuICAgIGNvdW50ID0gTWF0aC5jZWlsKGNvdW50IC8gMTAwMDAwMCkgKyAnS0snXG4gIH0gZWxzZSBpZiAoY291bnQgPiAxMDAwKSB7XG4gICAgY291bnQgPSBNYXRoLmNlaWwoY291bnQgLyAxMDAwKSArICdLJ1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPlxuICAgICAge2NvdW50fVxuICAgIDwvc3Bhbj5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNlYXJjaFBhZ2UgZnJvbSAnLi4vcGFnZSc7XG5pbXBvcnQgUmVzdWx0cyBmcm9tICcuL3Jlc3VsdHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxTZWFyY2hQYWdlXG4gICAgICBwcm92aWRlcj17cHJvcHMucm91dGUucHJvdmlkZXJ9XG4gICAgICBzZWFyY2g9e3Byb3BzLnNlYXJjaH1cbiAgICA+XG4gICAgICA8QmxhbmtzbGF0ZVxuICAgICAgICBxdWVyeT17cHJvcHMuc2VhcmNoLnF1ZXJ5fVxuICAgICAgICBwb3N0cz17cHJvcHMucG9zdHN9XG4gICAgICA+XG4gICAgICAgIDxSZXN1bHRzXG4gICAgICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgICAgIHF1ZXJ5PXtwcm9wcy5zZWFyY2gucXVlcnl9XG4gICAgICAgICAgey4uLnByb3BzLnBvc3RzfVxuICAgICAgICAvPlxuICAgICAgPC9CbGFua3NsYXRlPlxuICAgIDwvU2VhcmNoUGFnZT5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQmxhbmtzbGF0ZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMgJiYgcHJvcHMucG9zdHMuY291bnQpIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblxuICBpZiAocHJvcHMucXVlcnkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB0aHJlYWRzIG1hdGNoaW5nIHNlYXJjaCBxdWVyeSBoYXZlIGJlZW4gZm91bmQuXCIpfVxuICAgICAgPC9wPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgIHtnZXR0ZXh0KFwiRW50ZXIgYXQgbGVhc3QgdHdvIGNoYXJhY3RlcnMgdG8gc2VhcmNoIHRocmVhZHMuXCIpfVxuICAgIDwvcD5cbiAgKTtcbn0iLCIvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nO1xuaW1wb3J0IE1pc2Fnb01hcmt1cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9taXNhZ28tbWFya3VwJztcbmltcG9ydCB7IHVwZGF0ZSBhcyB1cGRhdGVQb3N0cywgYXBwZW5kIGFzIGFwcGVuZFBvc3RzIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCB7IHVwZGF0ZVByb3ZpZGVyIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlYXJjaCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7cHJvcHMucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFBvc3RcbiAgICAgICAgICAgICAga2V5PXtwb3N0LmlkfVxuICAgICAgICAgICAgICB7Li4ucG9zdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgICAgPExvYWRNb3JlIHsuLi5wcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBvc3QocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCI+XG4gICAgICA8aDQ+XG4gICAgICAgIDxhIGhyZWY9e3Byb3BzLnVybC5pbmRleH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgIHtwcm9wcy50aHJlYWQudGl0bGV9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvaDQ+XG5cbiAgICAgIDxQb3N0Q29udGVudCBjb250ZW50PXtwcm9wcy5jb250ZW50fSAvPlxuXG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmUgbGlzdC11bnN0eWxlZFwiPlxuICAgICAgICA8UG9zdGVyIHsuLi5wcm9wc30gLz5cbiAgICAgICAgPFRpbWVzdGFtcCB7Li4ucHJvcHN9IC8+XG4gICAgICAgIDxDYXRlZ29yeSB7Li4ucHJvcHMuY2F0ZWdvcnl9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0Q29udGVudChwcm9wcykge1xuICBpZiAoIXByb3BzLmNvbnRlbnQpIHJldHVybiBudWxsO1xuXG4gIHJldHVybiAoXG4gICAgPE1pc2Fnb01hcmt1cCBtYXJrdXA9e3Byb3BzLmNvbnRlbnR9IC8+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYXRlZ29yeShwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9e3Byb3BzLmFic29sdXRlX3VybH0+XG4gICAgICAgIHtwcm9wcy5uYW1lfVxuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0ZXIocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy5wb3N0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICB7cHJvcHMucG9zdGVyX25hbWVyfVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YSBocmVmPXtwcm9wcy5wb3N0ZXIudXJsfSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgIHtwcm9wcy5wb3N0ZXIudXNlcm5hbWV9XG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVzdGFtcChwcm9wcykge1xuICBjb25zdCB0b29sdGlwID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcInBvc3RlZCAlKHBvc3RlZF9vbilzXCIpLCB7XG4gICAgJ3Bvc3RlZF9vbic6IHByb3BzLnBvc3RlZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gIH0sIHRydWUpO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwicG9zdGVkICUocG9zdGVkX29uKXNcIiksIHtcbiAgICAncG9zdGVkX29uJzogcHJvcHMucG9zdGVkX29uLmZyb21Ob3coKVxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxsaT5cbiAgICAgIDxhYmJyIHRpdGxlPXt0b29sdGlwfT5cbiAgICAgICAge21lc3NhZ2V9XG4gICAgICA8L2FiYnI+XG4gICAgPC9saT5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIExvYWRNb3JlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnByb3ZpZGVyLmFwaSwge1xuICAgICAgcTogdGhpcy5wcm9wcy5xdWVyeSxcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMubmV4dFxuICAgIH0pLnRoZW4oKHByb3ZpZGVycykgPT4ge1xuICAgICAgcHJvdmlkZXJzLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG4gICAgICAgIGlmIChwcm92aWRlci5pZCAhPT0gJ3RocmVhZHMnKSByZXR1cm47XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGFwcGVuZFBvc3RzKHByb3ZpZGVyLnJlc3VsdHMpKTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2godXBkYXRlUHJvdmlkZXIocHJvdmlkZXIpKTtcbiAgICAgIH0pO1xuXG4gICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyh7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuXG4gICAgICBzdG9yZS5kaXNwYXRjaCh1cGRhdGVQb3N0cyh7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm1vcmUpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgbG9hZGluZz17dGhpcy5wcm9wcy5pc0J1c3l9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAge2dldHRleHQoXCJTaG93IG1vcmVcIil9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU2VhcmNoUGFnZSBmcm9tICcuLi9wYWdlJztcbmltcG9ydCBVc2Vyc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC9yb290JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8U2VhcmNoUGFnZVxuICAgICAgcHJvdmlkZXI9e3Byb3BzLnJvdXRlLnByb3ZpZGVyfVxuICAgICAgc2VhcmNoPXtwcm9wcy5zZWFyY2h9XG4gICAgPlxuICAgICAgPEJsYW5rc2xhdGVcbiAgICAgICAgcXVlcnk9e3Byb3BzLnNlYXJjaC5xdWVyeX1cbiAgICAgICAgdXNlcnM9e3Byb3BzLnVzZXJzfVxuICAgICAgPlxuICAgICAgICA8VXNlcnNMaXN0XG4gICAgICAgICAgaXNMb2FkZWQ9e3RydWV9XG4gICAgICAgICAgY29scz17Mn1cbiAgICAgICAgICB1c2Vycz17cHJvcHMudXNlcnN9XG4gICAgICAgIC8+XG4gICAgICA8L0JsYW5rc2xhdGU+XG4gICAgPC9TZWFyY2hQYWdlPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCbGFua3NsYXRlKHByb3BzKSB7XG4gIGlmIChwcm9wcy51c2Vycy5sZW5ndGgpIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblxuICBpZiAocHJvcHMucXVlcnkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAge2dldHRleHQoXCJObyB1c2VycyBtYXRjaGluZyBzZWFyY2ggcXVlcnkgaGF2ZSBiZWVuIGZvdW5kLlwiKX1cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICB7Z2V0dGV4dChcIkVudGVyIGF0IGxlYXN0IHR3byBjaGFyYWN0ZXJzIHRvIHNlYXJjaCB1c2Vycy5cIil9XG4gICAgPC9wPlxuICApO1xufVxuXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENob2ljZSgpIHtcbiAgICBsZXQgY2hvaWNlID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLmNob2ljZXMubWFwKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS52YWx1ZSA9PT0gdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgICBjaG9pY2UgPSBpdGVtO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjaG9pY2U7XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIHJldHVybiB0aGlzLmdldENob2ljZSgpLmljb247XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDaG9pY2UoKS5sYWJlbDtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgY2hhbmdlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cCBidG4tc2VsZWN0LWdyb3VwXCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXNlbGVjdCBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCBudWxsfVxuICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gfHwgbnVsbH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWQgfHwgZmFsc2V9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNob2ljZXMubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxsaSBrZXk9e2l9PlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNoYW5nZShpdGVtLnZhbHVlKX0+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgICAgICB7aXRlbS5pY29ufVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9saT47XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9idXR0b24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzaG93QmFubmVkUGFnZSBmcm9tICdtaXNhZ28vdXRpbHMvYmFubmVkLXBhZ2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAnaXNMb2FkaW5nJzogZmFsc2UsXG4gICAgICAnc2hvd0FjdGl2YXRpb24nOiBmYWxzZSxcblxuICAgICAgJ3VzZXJuYW1lJzogJycsXG4gICAgICAncGFzc3dvcmQnOiAnJyxcblxuICAgICAgJ3ZhbGlkYXRvcnMnOiB7XG4gICAgICAgICd1c2VybmFtZSc6IFtdLFxuICAgICAgICAncGFzc3dvcmQnOiBbXVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihnZXR0ZXh0KFwiRmlsbCBvdXQgYm90aCBmaWVsZHMuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgc2VuZCgpIHtcbiAgICByZXR1cm4gYWpheC5wb3N0KG1pc2Fnby5nZXQoJ0FVVEhfQVBJJyksIHtcbiAgICAgICd1c2VybmFtZSc6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICAncGFzc3dvcmQnOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIGxldCBmb3JtID0gJCgnI2hpZGRlbi1sb2dpbi1mb3JtJyk7XG5cbiAgICBmb3JtLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJuYW1lXCIgLz4nKTtcbiAgICBmb3JtLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIC8+Jyk7XG5cbiAgICAvLyBmaWxsIG91dCBmb3JtIHdpdGggdXNlciBjcmVkZW50aWFscyBhbmQgc3VibWl0IGl0LCB0aGlzIHdpbGwgdGVsbFxuICAgIC8vIE1pc2FnbyB0byByZWRpcmVjdCB1c2VyIGJhY2sgdG8gcmlnaHQgcGFnZSwgYW5kIHdpbGwgdHJpZ2dlciBicm93c2VyJ3NcbiAgICAvLyBrZXkgcmluZyBmZWF0dXJlXG4gICAgZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwiaGlkZGVuXCJdJykudmFsKGFqYXguZ2V0Q3NyZlRva2VuKCkpO1xuICAgIGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInJlZGlyZWN0X3RvXCJdJykudmFsKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwodGhpcy5zdGF0ZS51c2VybmFtZSk7XG4gICAgZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc3dvcmRcIl0nKS52YWwodGhpcy5zdGF0ZS5wYXNzd29yZCk7XG4gICAgZm9ybS5zdWJtaXQoKTtcblxuICAgIC8vIGtlZXAgZm9ybSBsb2FkaW5nXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnaXNMb2FkaW5nJzogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5jb2RlID09PSAnaW5hY3RpdmVfYWRtaW4nKSB7XG4gICAgICAgIHNuYWNrYmFyLmluZm8ocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5jb2RlID09PSAnaW5hY3RpdmVfdXNlcicpIHtcbiAgICAgICAgc25hY2tiYXIuaW5mbyhyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgJ3Nob3dBY3RpdmF0aW9uJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLmNvZGUgPT09ICdiYW5uZWQnKSB7XG4gICAgICAgIHNob3dCYW5uZWRQYWdlKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgICBtb2RhbC5oaWRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMyAmJiByZWplY3Rpb24uYmFuKSB7XG4gICAgICBzaG93QmFubmVkUGFnZShyZWplY3Rpb24uYmFuKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBnZXRBY3RpdmF0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnNob3dBY3RpdmF0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17bWlzYWdvLmdldCgnUkVRVUVTVF9BQ1RJVkFUSU9OX1VSTCcpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc3VjY2VzcyBidG4tYmxvY2tcIj5cbiAgICAgICAgIHtnZXR0ZXh0KFwiQWN0aXZhdGUgYWNjb3VudFwiKX1cbiAgICAgIDwvYT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbSBtb2RhbC1zaWduLWluXCJcbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJTaWduIGluXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250cm9sLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiaWRfdXNlcm5hbWVcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJVc2VybmFtZSBvciBlLW1haWxcIil9XG4gICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgndXNlcm5hbWUnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyb2wtaW5wdXRcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJpZF9wYXNzd29yZFwiIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2dldHRleHQoXCJQYXNzd29yZFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdwYXNzd29yZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRBY3RpdmF0aW9uQnV0dG9uKCl9XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1kZWZhdWx0IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICB7LypcbiAgICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ0ZPUkdPVFRFTl9QQVNTV09SRF9VUkwnKX1cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiRm9yZ290IHBhc3N3b3JkP1wiKX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICovfVxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAgICBvbkNsaWNrPXtmdW5jdGlvbigpIHtmYl9sb2dpbigpfX0+XG4gICAgICAgICAgICAgICBGYWNlYm9vayDnmbvlhaVcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmNvbnN0IFRZUEVTX0NMQVNTRVMgPSB7XG4gICdpbmZvJzogJ2FsZXJ0LWluZm8nLFxuICAnc3VjY2Vzcyc6ICdhbGVydC1zdWNjZXNzJyxcbiAgJ3dhcm5pbmcnOiAnYWxlcnQtd2FybmluZycsXG4gICdlcnJvcic6ICdhbGVydC1kYW5nZXInXG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGNsYXNzIFNuYWNrYmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0U25hY2tiYXJDbGFzcygpIHtcbiAgICBsZXQgc25hY2tiYXJDbGFzcyA9ICdhbGVydHMtc25hY2tiYXInO1xuICAgIGlmICh0aGlzLnByb3BzLmlzVmlzaWJsZSkge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSAnIGluJztcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXJDbGFzcyArPSAnIG91dCc7XG4gICAgfVxuICAgIHJldHVybiBzbmFja2JhckNsYXNzO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0U25hY2tiYXJDbGFzcygpfT5cbiAgICAgIDxwIGNsYXNzTmFtZT17J2FsZXJ0ICcgKyBUWVBFU19DTEFTU0VTW3RoaXMucHJvcHMudHlwZV19PlxuICAgICAgICB7dGhpcy5wcm9wcy5tZXNzYWdlfVxuICAgICAgPC9wPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnNuYWNrYmFyO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGZ1bmN0aW9uIEJyZWFkY3J1bWIocHJvcHMpIHtcbiAgcmV0dXJuIDxsaT5cbiAgICA8YSBocmVmPXtwcm9wcy5ub2RlLmFic29sdXRlX3VybH0+e3Byb3BzLm5vZGUubmFtZX08L2E+XG4gIDwvbGk+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlLWJyZWFkY3J1bWJzXCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDxvbCBjbGFzc05hbWU9XCJicmVhZGNydW1iXCI+XG4gICAgICAgIHtwcm9wcy5wYXRoLm1hcCgoaXRlbSkgPT4gPEJyZWFkY3J1bWIga2V5PXtpdGVtLmlkfSBub2RlPXtpdGVtfSAvPil9XG4gICAgICA8L29sPlxuICAgIDwvZGl2PlxuICA8L2Rpdj47XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnJlYWRjcnVtYnMgZnJvbSAnLi9icmVhZGNydW1icyc7XG5pbXBvcnQgeyBpc01vZGVyYXRpb25WaXNpYmxlLCBNb2RlcmF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi9tb2RlcmF0aW9uL3RocmVhZCc7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgVGl0bGUgZnJvbSAnLi90aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtaGVhZGVyIHdpdGgtc3RhdHMgd2l0aC1icmVhZGNydW1ic1wiPlxuICAgIDxCcmVhZGNydW1icyBwYXRoPXtwcm9wcy50aHJlYWQucGF0aH0gLz5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTBcIj5cbiAgICAgICAgICA8VGl0bGUgdGhyZWFkPXtwcm9wcy50aHJlYWR9IHVzZXI9e3Byb3BzLnVzZXJ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0yXCI+XG4gICAgICAgICAgPE1vZGVyYXRpb25cbiAgICAgICAgICAgIHBvc3RzPXtwcm9wcy5wb3N0c31cbiAgICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgdXNlcj17cHJvcHMudXNlcn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxTdGF0cyB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgPC9kaXY+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9kZXJhdGlvbihwcm9wcykge1xuICBpZiAocHJvcHMudXNlci5pZCAmJiBpc01vZGVyYXRpb25WaXNpYmxlKHByb3BzLnRocmVhZCkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgcHVsbC1yaWdodFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCJcbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3Byb3BzLnRocmVhZC5pc0J1c3l9XG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzZXR0aW5nc1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1vZGVyYXRpb25cIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8TW9kZXJhdGlvbkNvbnRyb2xzXG4gICAgICAgICAgcG9zdHM9e3Byb3BzLnBvc3RzfVxuICAgICAgICAgIHRocmVhZD17cHJvcHMudGhyZWFkfVxuICAgICAgICAgIHVzZXI9e3Byb3BzLnVzZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGVzY2FwZUh0bWwgZnJvbSAnbWlzYWdvL3V0aWxzL2VzY2FwZS1odG1sJztcblxuY29uc3QgTEFTVF9QT1NURVJfVVJMID0gJzxhIGhyZWY9XCIlKHVybClzXCIgY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvYT4nO1xuY29uc3QgTEFTVF9QT1NURVJfU1BBTiA9ICc8c3BhbiBjbGFzcz1cInBvc3Rlci10aXRsZVwiPiUodXNlcilzPC9zcGFuPic7XG5jb25zdCBMQVNUX1JFUExZID0gJzxhYmJyIGNsYXNzPVwibGFzdC10aXRsZVwiIHRpdGxlPVwiJShhYnNvbHV0ZSlzXCI+JShyZWxhdGl2ZSlzPC9hYmJyPic7XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWlnaHQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC53ZWlnaHQgPT0gMikge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1nbG9iYWxseVwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBib29rbWFya1xuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSBpZiAocHJvcHMudGhyZWFkLndlaWdodCA9PSAxKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGlubmVkLWxvY2FsbHlcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgYm9va21hcmtfYm9yZGVyXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVbmFwcHJvdmVkKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCkge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlX2NpcmNsZVxuICAgICAgPC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGk+O1xuICB9IGVsc2UgaWYgKHByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cykge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWQtcG9zdHNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgcmVtb3ZlX2NpcmNsZV9vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIlVuYXBwcm92ZWQgcG9zdHNcIil9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzSGlkZGVuKHByb3BzKSB7XG4gIGlmIChwcm9wcy50aHJlYWQuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtaGlkZGVuXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIkhpZGRlblwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNDbG9zZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19jbG9zZWQpIHtcbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1jbG9zZWRcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgbG9ja19vdXRsaW5lXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7Z2V0dGV4dChcIkNsb3NlZFwiKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbGllcyhwcm9wcykge1xuICBjb25zdCBtZXNzYWdlID0gbmdldHRleHQoXCIlKHJlcGxpZXMpcyByZXBseVwiLCBcIiUocmVwbGllcylzIHJlcGxpZXNcIiwgcHJvcHMudGhyZWFkLnJlcGxpZXMpO1xuICBjb25zdCBsZWdlbmQgPSBpbnRlcnBvbGF0ZShtZXNzYWdlLCB7J3JlcGxpZXMnOiBwcm9wcy50aHJlYWQucmVwbGllc30sIHRydWUpO1xuXG4gIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXJlcGxpZXNcIj5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICBmb3J1bVxuICAgIDwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAge2xlZ2VuZH1cbiAgICA8L3NwYW4+XG4gIDwvbGk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGFzdFJlcGx5KHByb3BzKSB7XG4gIGxldCB1c2VyID0gbnVsbDtcbiAgaWYgKHByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpIHtcbiAgICB1c2VyID0gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3RlciksXG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHVzZXIgPSBpbnRlcnBvbGF0ZShMQVNUX1BPU1RFUl9TUEFOLCB7XG4gICAgICB1c2VyOiBlc2NhcGVIdG1sKHByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgIH0sIHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGRhdGUgPSBpbnRlcnBvbGF0ZShMQVNUX1JFUExZLCB7XG4gICAgYWJzb2x1dGU6IGVzY2FwZUh0bWwocHJvcHMudGhyZWFkLmxhc3RfcG9zdF9vbi5mb3JtYXQoJ0xMTCcpKSxcbiAgICByZWxhdGl2ZTogZXNjYXBlSHRtbChwcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKSlcbiAgfSwgdHJ1ZSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGludGVycG9sYXRlKGVzY2FwZUh0bWwoZ2V0dGV4dChcImxhc3QgcmVwbHkgYnkgJSh1c2VyKXMgJShkYXRlKXNcIikpLCB7XG4gICAgZGF0ZSwgdXNlclxuICB9LCB0cnVlKTtcblxuICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5XCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IG1lc3NhZ2V9fS8+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItc3RhdHNcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtaW5saW5lXCI+XG4gICAgICAgIDxXZWlnaHQgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxVbmFwcHJvdmVkIHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8SXNIaWRkZW4gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxJc0Nsb3NlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPFJlcGxpZXMgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxMYXN0UmVwbHkgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PlxuICA8L2Rpdj47XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCB7IGdldFRpdGxlVmFsaWRhdG9ycyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RpbmcvdXRpbHMvdmFsaWRhdG9ycyc7XG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6IHByb3BzLnRocmVhZC50aXRsZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogZ2V0VGl0bGVWYWxpZGF0b3JzKClcbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgb25DaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd0aXRsZScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG5cbiAgb25FZGl0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNFZGl0aW5nOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgb25DYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG5cbiAgICAgIGlzRWRpdGluZzogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudGl0bGUudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIHRocmVhZCB0aXRsZS5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9ycyA9IHRoaXMudmFsaWRhdGUoKTtcblxuICAgIGlmIChlcnJvcnMudGl0bGUpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGVycm9ycy50aXRsZVswXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBhdGNoKHRoaXMucHJvcHMudGhyZWFkLmFwaS5pbmRleCwgW1xuICAgICAge29wOiAncmVwbGFjZScsIHBhdGg6ICd0aXRsZScsIHZhbHVlOiB0aGlzLnN0YXRlLnRpdGxlfVxuICAgIF0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnVwZGF0ZShkYXRhKSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0VkaXRpbmcnOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgY29uc29sZS5sb2cocmVqZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJ0aXRsZS1lZGl0LWZvcm1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS50aXRsZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtYnRuXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3NcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICB0aXRsZT17Z2V0dGV4dChcIkNoYW5nZSB0aXRsZVwiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2F2ZSBjaGFuZ2VzXCIpfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWx9XG4gICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJDYW5jZWxcIil9XG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIkNhbmNlbFwiKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnVzZXIuaWQgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9lZGl0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlLWVkaXRhYmxlXCI+XG4gICAgICAgICAgPGgxPlxuICAgICAgICAgICAge3RoaXMucHJvcHMudGhyZWFkLnRpdGxlfVxuICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25FZGl0fVxuICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJFZGl0IHRpdGxlXCIpfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmVkaXQ8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGgxPnt0aGlzLnByb3BzLnRocmVhZC50aXRsZX08L2gxPlxuICAgICAgKTtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgcG9zdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmUocHJvcHMpIHtcbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc191bmFwcHJvdmVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXVuYXBwcm92ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3VuYXBwcm92ZWQ6IHNlbGVjdGlvbi5pc191bmFwcHJvdmVkXG4gICAgfTtcblxuICAgIHBhdGNoKHNlbGVjdGlvbiwgb3BzLCBwcmV2aW91c1N0YXRlKTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm90ZWN0KHByb3BzKSB7XG4gIHByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgaXNfcHJvdGVjdGVkOiBmYWxzZVxuICAgIH0pKTtcblxuICAgIGNvbnN0IG9wcyA9IFtcbiAgICAgIHsnb3AnOiAncmVwbGFjZScsICdwYXRoJzogJ2lzLXByb3RlY3RlZCcsICd2YWx1ZSc6IHRydWV9XG4gICAgXTtcblxuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSB7XG4gICAgICBpc19wcm90ZWN0ZWQ6IHNlbGVjdGlvbi5pc19wcm90ZWN0ZWRcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJvdGVjdChwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX3Byb3RlY3RlZDogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1wcm90ZWN0ZWQnLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX3Byb3RlY3RlZDogc2VsZWN0aW9uLmlzX3Byb3RlY3RlZFxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX2hpZGRlbjogdHJ1ZSxcbiAgICAgIGhpZGRlbl9vbjogbW9tZW50KCksXG4gICAgICBoaWRkZW5fYnlfbmFtZTogcHJvcHMudXNlci51c2VybmFtZSxcbiAgICAgIHVybDogT2JqZWN0LmFzc2lnbihzZWxlY3Rpb24udXJsLCB7XG4gICAgICAgIGhpZGRlbl9ieTogcHJvcHMudXNlci5hYnNvbHV0ZV91cmxcbiAgICAgIH0pXG4gICAgfSkpO1xuXG4gICAgY29uc3Qgb3BzID0gW1xuICAgICAgeydvcCc6ICdyZXBsYWNlJywgJ3BhdGgnOiAnaXMtaGlkZGVuJywgJ3ZhbHVlJzogdHJ1ZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX2hpZGRlbjogc2VsZWN0aW9uLmlzX2hpZGRlbixcbiAgICAgIGhpZGRlbl9vbjogc2VsZWN0aW9uLmhpZGRlbl9vbixcbiAgICAgIGhpZGRlbl9ieV9uYW1lOiBzZWxlY3Rpb24uaGlkZGVuX2J5X25hbWUsXG4gICAgICB1cmw6IHNlbGVjdGlvbi51cmxcbiAgICB9O1xuXG4gICAgcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuaGlkZShwcm9wcykge1xuICBwcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzX2hpZGRlbjogZmFsc2VcbiAgICB9KSk7XG5cbiAgICBjb25zdCBvcHMgPSBbXG4gICAgICB7J29wJzogJ3JlcGxhY2UnLCAncGF0aCc6ICdpcy1oaWRkZW4nLCAndmFsdWUnOiBmYWxzZX1cbiAgICBdO1xuXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHtcbiAgICAgIGlzX2hpZGRlbjogc2VsZWN0aW9uLmlzX2hpZGRlblxuICAgIH07XG5cbiAgICBwYXRjaChzZWxlY3Rpb24sIG9wcywgcHJldmlvdXNTdGF0ZSk7XG4gIH0pO1xuXG4gIHN0b3JlLmRpc3BhdGNoKHBvc3RzLmRlc2VsZWN0QWxsKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2goc2VsZWN0aW9uLCBvcHMsIHByZXZpb3VzU3RhdGUpIHtcbiAgYWpheC5wYXRjaChzZWxlY3Rpb24uYXBpLmluZGV4LCBvcHMpLnRoZW4oKG5ld1N0YXRlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIG5ld1N0YXRlKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwgcHJldmlvdXNTdGF0ZSkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKHByb3BzKSB7XG4gIGxldCBjb25maXJtZWQgPSBjb25maXJtKGdldHRleHQoXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbWVyZ2Ugc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLnNsaWNlKDEpLm1hcCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgIH0pKTtcbiAgfSk7XG5cbiAgYWpheC5wb3N0KHByb3BzLnRocmVhZC5hcGkucG9zdHMubWVyZ2UsIHtcbiAgICBwb3N0czogcHJvcHMuc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4gcG9zdC5pZClcbiAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goZGF0YSwgcG9zdC5oeWRyYXRlKGRhdGEpKSk7XG4gIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG5cbiAgICBwcm9wcy5zZWxlY3Rpb24uc2xpY2UoMSkubWFwKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3RvcmUuZGlzcGF0Y2gocG9zdHMuZGVzZWxlY3RBbGwoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocHJvcHMpIHtcbiAgbGV0IGNvbmZpcm1lZCA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VsZWN0ZWQgcG9zdHM/IFRoaXMgYWN0aW9uIGlzIG5vdCByZXZlcnNpYmxlIVwiKSk7XG4gIGlmICghY29uZmlybWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvcHMuc2VsZWN0aW9uLmZvckVhY2goKHNlbGVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICB9KSk7XG5cbiAgICBhamF4LmRlbGV0ZShzZWxlY3Rpb24uYXBpLmluZGV4KS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybjtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9zdC5wYXRjaChzZWxlY3Rpb24sIHtcbiAgICAgICAgaXNEZWxldGVkOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5kaXNwYXRjaChwb3N0cy5kZXNlbGVjdEFsbCgpKTtcbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgKiBhcyBtb2RlcmF0aW9uIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgTW92ZU1vZGFsIGZyb20gJy4vbW92ZSc7XG5pbXBvcnQgU3BsaXRNb2RhbCBmcm9tICcuL3NwbGl0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICA8QXBwcm92ZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TWVyZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPE1vdmUgey4uLnByb3BzfSAvPlxuICAgICAgPFNwbGl0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxQcm90ZWN0IHsuLi5wcm9wc30gLz5cbiAgICAgIDxVbnByb3RlY3Qgey4uLnByb3BzfSAvPlxuICAgICAgPEhpZGUgey4uLnByb3BzfSAvPlxuICAgICAgPFVuaGlkZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RGVsZXRlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQXBwcm92ZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5hcHByb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2FwcHJvdmU7XG4gICAgfSk7XG5cbiAgICBpZiAoIWlzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNZXJnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi5tZXJnZSh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uLmxlbmd0aCA8IDIgfHwgIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fbW92ZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwbGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RhbC5zaG93KFxuICAgICAgPFNwbGl0TW9kYWwgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9tb3ZlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJTcGxpdFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3RlY3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9wcm90ZWN0O1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJQcm90ZWN0XCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5wcm90ZWN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLnVucHJvdGVjdCh0aGlzLnByb3BzKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdGhpcy5wcm9wcy5zZWxlY3Rpb24uZmluZCgocG9zdCkgPT4ge1xuICAgICAgcmV0dXJuIHBvc3QuYWNsLmNhbl9wcm90ZWN0O1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbnByb3RlY3RcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIaWRlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBtb2RlcmF0aW9uLmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5faGlkZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVuaGlkZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIG9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgbW9kZXJhdGlvbi51bmhpZGUodGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uLmZpbmQoKHBvc3QpID0+IHtcbiAgICAgIHJldHVybiBwb3N0LmFjbC5jYW5fdW5oaWRlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGVyYXRpb24ucmVtb3ZlKHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc1Zpc2libGUgPSB0aGlzLnByb3BzLnNlbGVjdGlvbi5maW5kKChwb3N0KSA9PiB7XG4gICAgICByZXR1cm4gcG9zdC5hY2wuY2FuX2RlbGV0ZTtcbiAgICB9KTtcblxuICAgIGlmICghaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRHJvcGRvd24gZnJvbSAnLi9kcm9wZG93bic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCB8fCAhaXNWaXNpYmxlKHByb3BzLnRocmVhZCwgcHJvcHMucG9zdHMucmVzdWx0cykpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdGlvbiA9IHByb3BzLnBvc3RzLnJlc3VsdHMuZmlsdGVyKChwb3N0KSA9PiB7XG4gICAgcmV0dXJuIHBvc3QuaXNTZWxlY3RlZDtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgZHJvcHVwXCI+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgYnRuLWljb24gZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgIGRpc2FibGVkPXshc2VsZWN0aW9uLmxlbmd0aH1cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIHtnZXR0ZXh0KFwiUG9zdHMgb3B0aW9uc1wiKX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPERyb3Bkb3duIHNlbGVjdGlvbj17c2VsZWN0aW9ufSB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zpc2libGUodGhyZWFkLCBwb3N0cykge1xuICBpZiAodGhyZWFkLmFjbC5jYW5fbWVyZ2VfcG9zdHMgJiYgcG9zdHMubGVuZ3RoID4gMSkge1xuICAgIC8vIGZhc3QgdGVzdDogc2hvdyBtb2RlcmF0aW9uIG1lbnUgaWYgd2UgY2FuIG1lcmdlIHBvc3RzXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzbG93IHRlc3Q6IHNob3cgbW9kZXJhdGlvbiBpZiBhbnkgb2YgcG9zdHMgaGFzIG1vZGVyYXRpb24gb3B0aW9uc1xuICBsZXQgdmlzaWJsZSA9IGZhbHNlO1xuICBwb3N0cy5mb3JFYWNoKChwb3N0KSA9PiB7XG4gICAgaWYgKCFwb3N0LmlzX2V2ZW50KSB7XG4gICAgICBjb25zdCBzaG93TW9kZXJhdGlvbiA9IChcbiAgICAgICAgcG9zdC5hY2wuY2FuX2FwcHJvdmUgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX2RlbGV0ZSB8fFxuICAgICAgICAoIXBvc3QuaXNfaGlkZGVuICYmIHBvc3QuYWNsLmNhbl9oaWRlKSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fbW92ZSB8fFxuICAgICAgICBwb3N0LmFjbC5jYW5fcHJvdGVjdCB8fFxuICAgICAgICAocG9zdC5pc19oaWRkZW4gJiYgcG9zdC5hY2wuY2FuX3VuaGlkZSkgfHxcbiAgICAgICAgcG9zdC5hY2wuY2FuX3VucHJvdGVjdFxuICAgICAgKTtcblxuICAgICAgaWYgKHNob3dNb2RlcmF0aW9uKSB7XG4gICAgICAgIHZpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB2aXNpYmxlO1xufSIsIi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7XG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7XG5pbXBvcnQgKiBhcyBwb3N0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb3N0JztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdXJsOiAnJyxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB1cmw6IFtdXG4gICAgICB9LFxuICAgICAgZXJyb3JzOiB7fVxuICAgIH07XG4gIH1cblxuICBjbGVhbigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUudXJsLnRyaW0oKS5sZW5ndGgpIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJZb3UgaGF2ZSB0byBlbnRlciBsaW5rIHRvIHRoZSBvdGhlciB0aHJlYWQuXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMubW92ZSwge1xuICAgICAgdGhyZWFkX3VybDogdGhpcy5zdGF0ZS51cmwsXG4gICAgICBwb3N0czogdGhpcy5wcm9wcy5zZWxlY3Rpb24ubWFwKChwb3N0KSA9PiBwb3N0LmlkKVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VjY2VzcyhzdWNjZXNzKSB7XG4gICAgdGhpcy5wcm9wcy5zZWxlY3Rpb24uZm9yRWFjaCgoc2VsZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0LnBhdGNoKHNlbGVjdGlvbiwge1xuICAgICAgICBpc0RlbGV0ZWQ6IHRydWVcbiAgICAgIH0pKTtcbiAgICB9KTtcblxuICAgIG1vZGFsLmhpZGUoKTtcblxuICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlNlbGVjdGVkIHBvc3RzIHdlcmUgbW92ZWQgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICB9XG5cbiAgaGFuZGxlRXJyb3IocmVqZWN0aW9uKSB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1kaWFsb2dcIiByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlU3VibWl0fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxNb2RhbEhlYWRlciAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgICAgICBmb3I9XCJpZF91cmxcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtnZXR0ZXh0KFwiTGluayB0byB0aHJlYWQgeW91IHdhbnQgdG8gbW92ZSBwb3N0cyB0b1wiKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nfT5cbiAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgcG9zdHNcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSBwb3N0c1wiKX08L2g0PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGFsTG9hZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL21vZGFsLWxvYWRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBvc3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3QnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPFBvc3RpbmdDb25maWcgey4uLnByb3BzfSBGb3JtPXtNb2RlcmF0aW9uRm9ybX0gLz5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBvc3RpbmdDb25maWcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0Vycm9yOiBmYWxzZSxcblxuICAgICAgY2F0ZWdvcmllczogW11cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYWpheC5nZXQobWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9BUEknKSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgLy8gaHlkcmF0ZSBjYXRlZ29yaWVzLCBleHRyYWN0IHBvc3Rpbmcgb3B0aW9uc1xuICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHtcbiAgICAgICAgICBkaXNhYmxlZDogaXRlbS5wb3N0ID09PSBmYWxzZSxcbiAgICAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgIHBvc3Q6IGl0ZW0ucG9zdFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGNhdGVnb3JpZXNcbiAgICAgIH0pXG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzRXJyb3IpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxFcnJvciBtZXNzYWdlPXt0aGlzLnN0YXRlLmlzRXJyb3J9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPE1vZGVyYXRpb25Gb3JtIHsuLi50aGlzLnByb3BzfSBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TG9hZGVyIC8+XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbkZvcm0gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcblxuICAgICAgdGl0bGU6ICcnLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBjYXRlZ29yaWVzOiBwcm9wcy5jYXRlZ29yaWVzLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQoKVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5JyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiBmYWxzZSxcbiAgICAgICAgJ2ljb24nOiAnbG9ja19vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiB0cnVlLFxuICAgICAgICAnaWNvbic6ICdsb2NrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5hY2wgPSB7fTtcbiAgICB0aGlzLnByb3BzLmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcbiAgICAgIGlmIChjYXRlZ29yeS5wb3N0KSB7XG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNsW2NhdGVnb3J5LmlkXSA9IHtcbiAgICAgICAgICBjYW5fcGluX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QucGluLFxuICAgICAgICAgIGNhbl9jbG9zZV90aHJlYWRzOiBjYXRlZ29yeS5wb3N0LmNsb3NlLFxuICAgICAgICAgIGNhbl9oaWRlX3RocmVhZHM6IGNhdGVnb3J5LnBvc3QuaGlkZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVycm9yczogdGhpcy52YWxpZGF0ZSgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzZW5kKCkge1xuICAgIHJldHVybiBhamF4LnBvc3QodGhpcy5wcm9wcy50aHJlYWQuYXBpLnBvc3RzLnNwbGl0LCB7XG4gICAgICB0aXRsZTogdGhpcy5zdGF0ZS50aXRsZSxcbiAgICAgIGNhdGVnb3J5OiB0aGlzLnN0YXRlLmNhdGVnb3J5LFxuICAgICAgd2VpZ2h0OiB0aGlzLnN0YXRlLndlaWdodCxcbiAgICAgIGlzX2hpZGRlbjogdGhpcy5zdGF0ZS5pc19oaWRkZW4sXG4gICAgICBpc19jbG9zZWQ6IHRoaXMuc3RhdGUuaXNfY2xvc2VkLFxuICAgICAgcG9zdHM6IHRoaXMucHJvcHMuc2VsZWN0aW9uLm1hcCgocG9zdCkgPT4gcG9zdC5pZClcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZVN1Y2Nlc3MoYXBpUmVzcG9uc2UpIHtcbiAgICB0aGlzLnByb3BzLnNlbGVjdGlvbi5mb3JFYWNoKChzZWxlY3Rpb24pID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBvc3QucGF0Y2goc2VsZWN0aW9uLCB7XG4gICAgICAgIGlzRGVsZXRlZDogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiU2VsZWN0ZWQgcG9zdHMgd2VyZSBzcGxpdCBpbnRvIG5ldyB0aHJlYWQuXCIpKTtcbiAgfVxuXG4gIGhhbmRsZUVycm9yKHJlamVjdGlvbikge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAnZXJyb3JzJzogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgIH0pO1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgfSBlbHNlIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDMgJiYgQXJyYXkuaXNBcnJheShyZWplY3Rpb24pKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e3JlamVjdGlvbn0gLz4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXYpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gZXYudGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWRcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9waW5fdGhyZWFkcyA8IG5ld1N0YXRlLndlaWdodCkge1xuICAgICAgbmV3U3RhdGUud2VpZ2h0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIG5ld1N0YXRlLmlzX2hpZGRlbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjbFtjYXRlZ29yeUlkXS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfY2xvc2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gIH07XG5cbiAgZ2V0V2VpZ2h0Q2hvaWNlcygpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICdyZW1vdmUnLFxuICAgICAgICAnbGFiZWwnOiBnZXR0ZXh0KFwiTm90IHBpbm5lZFwiKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDEsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrX2JvcmRlcicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgbG9jYWxseVwiKSxcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcyA9PSAyKSB7XG4gICAgICBjaG9pY2VzLnB1c2goe1xuICAgICAgICAndmFsdWUnOiAyLFxuICAgICAgICAnaWNvbic6ICdib29rbWFyaycsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJQaW5uZWQgZ2xvYmFsbHlcIiksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvaWNlcztcbiAgfVxuXG4gIHJlbmRlcldlaWdodEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fcGluX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHdlaWdodFwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3dlaWdodFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiPlxuICAgICAgICA8U2VsZWN0IGlkPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3dlaWdodCcpfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLndlaWdodH1cbiAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmdldFdlaWdodENob2ljZXMoKX0gLz5cbiAgICAgIDwvRm9ybUdyb3VwPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19oaWRkZW4nKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckNsb3NlZEZpZWxkKCkge1xuICAgIGlmICh0aGlzLmFjbFt0aGlzLnN0YXRlLmNhdGVnb3J5XS5jYW5fY2xvc2VfdGhyZWFkcykge1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDbG9zZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19jbG9zZWQnKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19jbG9zZWR9XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0Nsb3NlZENob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9PlxuICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJpZF90aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCd0aXRsZScpfVxuICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudGl0bGV9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIkNhdGVnb3J5XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMuY2F0ZWdvcnl9PlxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNhdGVnb3J5Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9IC8+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICAgICAge3RoaXMucmVuZGVyV2VpZ2h0RmllbGQoKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckhpZGRlbkZpZWxkKCl9XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU3BsaXQgcG9zdHNcIil9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Nb2RhbD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2FkZXIoKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgICAgPE1vZGFsTG9hZGVyIC8+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsIGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgc2VsZWN0ZWQgcG9zdHMgYXQgdGhlIG1vbWVudC5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge3Byb3BzLm1lc3NhZ2V9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvTW9kYWw+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbChwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwibW9kYWwtdGl0bGVcIj57Z2V0dGV4dChcIlNwbGl0IHBvc3RzIGludG8gbmV3IHRocmVhZFwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBNZXJnZU1vZGFsIGZyb20gJy4vbWVyZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNb3ZlTW9kYWwgZnJvbSAnLi9tb3ZlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyB0aHJlYWQgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNhbGxBcGkgPSAob3BzLCBzdWNjZXNzTWVzc2FnZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5idXN5KCkpO1xuXG4gICAgLy8gYnkgdGhlIGNoYW5jZSB1cGRhdGUgdGhyZWFkIGFjbCB0b29cbiAgICBvcHMucHVzaCh7b3A6ICdhZGQnLCBwYXRoOiAnYWNsJywgdmFsdWU6IHRydWV9KTtcblxuICAgIGFqYXgucGF0Y2godGhpcy5wcm9wcy50aHJlYWQuYXBpLmluZGV4LCBvcHMpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC51cGRhdGUoZGF0YSkpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLnJlbGVhc2UoKSk7XG4gICAgICBzbmFja2Jhci5zdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgc25hY2tiYXIuZXJyb3IocmVqZWN0aW9uLmRldGFpbFswXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMlxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gcGlubmVkIGdsb2JhbGx5LlwiKSk7XG4gIH07XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIHBpbm5lZCBsb2NhbGx5LlwiKSk7XG4gIH07XG5cbiAgdW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiB1bnBpbm5lZC5cIikpO1xuICB9O1xuXG4gIGFwcHJvdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLXVuYXBwcm92ZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGFwcHJvdmVkLlwiKSk7XG4gIH07XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBvcGVuZWQuXCIpKTtcbiAgfTtcblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIGNsb3NlZC5cIikpO1xuICB9O1xuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBtYWRlIHZpc2libGUuXCIpKTtcbiAgfTtcblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICdpcy1oaWRkZW4nLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbWFkZSBoaWRkZW4uXCIpKTtcbiAgfTtcblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZU1vZGFsXG4gICAgICAgIHBvc3RzPXt0aGlzLnByb3BzLnBvc3RzfVxuICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgLz5cbiAgICApO1xuICB9O1xuXG4gIG1lcmdlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TWVyZ2VNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICk7XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIGlmICghY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHRocmVhZD9cIikpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICBhamF4LmRlbGV0ZSh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlRocmVhZCBoYXMgYmVlbiBkZWxldGVkLlwiKSlcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5LmFic29sdXRlX3VybDtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgZ2V0UGluR2xvYmFsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA8IDIgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4gPT0gMikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5waW5HbG9iYWxseX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBnbG9iYWxseVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBpbkxvY2FsbHlCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCAhPT0gMSAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX3BpbiA+IDApIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluTG9jYWxseX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIlBpbiBsb2NhbGx5XCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5waW5CdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA+IDAgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9waW4gPiAwKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVucGlufT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiVW5waW5cIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX21vdmUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubW92ZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNZXJnZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9tZXJnZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5tZXJnZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0QXBwcm92ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfdW5hcHByb3ZlZCAmJiB0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2FwcHJvdmUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwcm92ZX0+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkFwcHJvdmVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRPcGVuQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQgJiYgdGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9jbG9zZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vcGVufT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiT3BlblwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsb3NlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fY2xvc2UpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2V9PlxuICAgICAgICAgICAge2dldHRleHQoXCJDbG9zZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5faGlkZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51bmhpZGV9PlxuICAgICAgICAgICAge2dldHRleHQoXCJVbmhpZGVcIil9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuICYmIHRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5faGlkZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oaWRlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZVwiKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldERlbGV0ZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuYWNsLmNhbl9oaWRlID09IDIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaT5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfT5cbiAgICAgICAgICAgIHtnZXR0ZXh0KFwiRGVsZXRlXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICB7dGhpcy5nZXRQaW5HbG9iYWxseUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRQaW5Mb2NhbGx5QnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVucGluQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1vdmVCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0TWVyZ2VCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0QXBwcm92ZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRPcGVuQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldENsb3NlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldFVuaGlkZUJ1dHRvbigpfVxuICAgICAgICB7dGhpcy5nZXRIaWRlQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldERlbGV0ZUJ1dHRvbigpfVxuICAgICAgPC91bD5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tICcuL2NvbnRyb2xzJztcbmltcG9ydCBpc01vZGVyYXRpb25WaXNpYmxlIGZyb20gJy4vaXMtdmlzaWJsZSc7XG5cbmV4cG9ydCB7IE1vZGVyYXRpb25Db250cm9scywgaXNNb2RlcmF0aW9uVmlzaWJsZSB9OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRocmVhZCkge1xuICByZXR1cm4gKFxuICAgICh0aHJlYWQuYWNsLmNhbl9hcHByb3ZlICYmIHRocmVhZC5pc191bmFwcHJvdmVkKSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX2Nsb3NlIHx8XG4gICAgdGhyZWFkLmFjbC5jYW5faGlkZSB8fFxuICAgIHRocmVhZC5hY2wuY2FuX21vdmUgfHxcbiAgICB0aHJlYWQuYWNsLmNhbl9waW5cbiAgKTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVyZ2VQb2xscyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1wb2xscyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuXG4gICAgICB1cmw6ICcnLFxuXG4gICAgICB2YWxpZGF0b3JzOiB7XG4gICAgICAgIHVybDogW11cbiAgICAgIH0sXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcbiAgfVxuXG4gIGNsZWFuKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS51cmwudHJpbSgpLmxlbmd0aCkge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIllvdSBoYXZlIHRvIGVudGVyIGxpbmsgdG8gdGhlIG90aGVyIHRocmVhZC5cIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICByZXR1cm4gYWpheC5wb3N0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZSwge1xuICAgICAgdGhyZWFkX3VybDogdGhpcy5zdGF0ZS51cmxcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgaGFuZGxlU3VjY2VzcyA9IChzdWNjZXNzKSA9PiB7XG4gICAgdGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkKHN1Y2Nlc3MpO1xuXG4gICAgLy8ga2VlcCBmb3JtIGxvYWRpbmdcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc0xvYWRpbmcnOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlU3VjY2Vzc1VubW91bnRlZCA9IChzdWNjZXNzKSA9PiB7XG4gICAgc25hY2tiYXIuc3VjY2VzcyhnZXR0ZXh0KFwiVGhyZWFkIGhhcyBiZWVuIG1lcmdlZCB3aXRoIG90aGVyIG9uZS5cIikpO1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHN1Y2Nlc3MudXJsO1xuICB9O1xuXG4gIGhhbmRsZUVycm9yID0gKHJlamVjdGlvbikgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5wb2xscykge1xuICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgIDxNZXJnZVBvbGxzXG4gICAgICAgICAgICBhcGk9e3RoaXMucHJvcHMudGhyZWFkLmFwaS5tZXJnZX1cbiAgICAgICAgICAgIGRhdGE9e3t0aHJlYWRfdXJsOiB0aGlzLnN0YXRlLnVybH19XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzVW5tb3VudGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgb25VcmxDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCd1cmwnLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICA8TW9kYWxIZWFkZXIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgZm9yPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17Z2V0dGV4dChcIkxpbmsgdG8gdGhyZWFkIHlvdSB3YW50IHRvIG1lcmdlIHdpdGhcIil9XG4gICAgICAgICAgICAgICAgaGVscF90ZXh0PXtnZXR0ZXh0KFwiTWVyZ2Ugd2lsbCBkZWxldGUgY3VycmVudCB0aHJlYWQgYW5kIG1vdmUgaXRzIGNvbnRlbnRzIHRvIHRoZSB0aHJlYWQgc3BlY2lmaWVkIGhlcmUuXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX1cbiAgICAgICAgICAgICAgICAgIGlkPVwiaWRfdXJsXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX0+XG4gICAgICAgICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5leHBvcnQgZnVuY3Rpb24gTW9kYWxIZWFkZXIocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBhcmlhLWxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2VcIil9XG4gICAgICAgIGNsYXNzTmFtZT1cImNsb3NlXCJcbiAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBGb3JtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0nO1xuaW1wb3J0IEZvcm1Hcm91cCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtLWdyb3VwJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ2F0ZWdvcnlTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvY2F0ZWdvcnktc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW9kYWxMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbW9kYWwtbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNSZWFkeTogZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNFcnJvcjogZmFsc2UsXG5cbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgY2F0ZWdvcmllczogW10sXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGFqYXguZ2V0KG1pc2Fnby5nZXQoJ1RIUkVBRF9FRElUT1JfQVBJJykpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGxldCBjYXRlZ29yeSA9IG51bGw7XG5cbiAgICAgIC8vIGh5ZHJhdGUgY2F0ZWdvcmllcywgZXh0cmFjdCBwb3N0aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAvLyBwaWNrIGZpcnN0IGNhdGVnb3J5IHRoYXQgYWxsb3dzIHBvc3RpbmcgYW5kIGlmIGl0IG1heSwgb3ZlcnJpZGUgaXQgd2l0aCBpbml0aWFsIG9uZVxuICAgICAgICBpZiAoaXRlbS5wb3N0ICE9PSBmYWxzZSAmJiAhY2F0ZWdvcnkpIHtcbiAgICAgICAgICBjYXRlZ29yeSA9IGl0ZW0uaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7XG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0ucG9zdCA9PT0gZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcbiAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNSZWFkeTogdHJ1ZSxcblxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRXJyb3I6IHJlamVjdGlvbi5kZXRhaWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc2VuZCgpIHtcbiAgICAvLyBmcmVlemUgdGhyZWFkXG4gICAgc3RvcmUuZGlzcGF0Y2godGhyZWFkLmJ1c3koKSk7XG5cbiAgICByZXR1cm4gYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnY2F0ZWdvcnknLCB2YWx1ZTogdGhpcy5zdGF0ZS5jYXRlZ29yeX0sXG4gICAgXSk7XG4gIH1cblxuICBoYW5kbGVTdWNjZXNzKCkge1xuICAgIC8vIHJlZnJlc2ggdGhyZWFkIGFuZCBkaXNwbGF5ZWQgcG9zdHNcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsIHtwYWdlOiB0aGlzLnByb3BzLnBvc3RzLnBhZ2V9KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgICBzdG9yZS5kaXNwYXRjaChwb3N0cy5sb2FkKGRhdGEucG9zdF9zZXQpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHRocmVhZC5yZWxlYXNlKCkpO1xuXG4gICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJUaHJlYWQgaGFzIGJlZW4gbW92ZWQuXCIpKTtcbiAgICAgIG1vZGFsLmhpZGUoKTtcbiAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVsZWFzZSgpKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVFcnJvcihyZWplY3Rpb24pIHtcbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAwKSB7XG4gICAgICBzbmFja2Jhci5lcnJvcihyZWplY3Rpb24uZGV0YWlsWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG9uQ2F0ZWdvcnlDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNoYW5nZVZhbHVlKCdjYXRlZ29yeScsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5zdGF0ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxGb3JtR3JvdXAgZm9yPVwiaWRfY2F0ZWdvcnlcIiBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX0+XG4gICAgICAgICAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5zdGF0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5zdGF0ZS5pc0xvYWRpbmcgfHwgdGhpcy5wcm9wcy50aHJlYWQuaXNCdXN5fVxuICAgICAgICAgICAgICAgICAgICBpZD1cImlkX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DYXRlZ29yeUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNMb2FkaW5nIHx8IHRoaXMucHJvcHMudGhyZWFkLmlzQnVzeX0+XG4gICAgICAgICAgICAgICAgICB7Z2V0dGV4dChcIk1vdmUgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5pc0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TW9kYWxNZXNzYWdlIG1lc3NhZ2U9e3RoaXMuc3RhdGUuaXNFcnJvcn0gLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxNb2RhbExvYWRpbmcgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsSGVhZGVyKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfVxuICAgICAgICBjbGFzc05hbWU9XCJjbG9zZVwiXG4gICAgICAgIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRcIil9PC9oND5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1vZGFsTG9hZGluZyhwcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgIDxNb2RhbExvYWRlciAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RhbE1lc3NhZ2UocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlXCIgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPE1vZGFsSGVhZGVyIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIllvdSBjYW4ndCBtb3ZlIHRoaXMgdGhyZWFkIGF0IHRoZSBtb21lbnQuXCIpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIHtwcm9wcy5tZXNzYWdlfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICByZXR1cm4gPG5hdiBjbGFzc05hbWU9XCJtaXNhZ28tcGFnaW5hdGlvbiBwdWxsLWxlZnRcIj5cbiAgICA8UGFnZXIgey4uLnByb3BzfSAvPlxuICAgIDxNb3JlIG1vcmU9e3Byb3BzLnBvc3RzLm1vcmV9IC8+XG4gIDwvbmF2Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VyKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5wYWdlcyA+IDEpIHtcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cInBhZ2luYXRpb25cIj5cbiAgICAgIDxGaXJzdFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPFByZXZpb3VzUGFnZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8TmV4dFBhZ2Ugey4uLnByb3BzfSAvPlxuICAgICAgPExhc3RQYWdlIHsuLi5wcm9wc30gLz5cbiAgICA8L3VsPjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlyc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5maXJzdCkge1xuICAgIHJldHVybiA8bGk+XG4gICAgICA8TGluayB0bz17cHJvcHMudGhyZWFkLnVybC5pbmRleH0gdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJkaXNhYmxlZFwiPlxuICAgICAgPHNwYW4gdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmZpcnN0X3BhZ2U8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZXZpb3VzUGFnZShwcm9wcykge1xuICBpZiAocHJvcHMucG9zdHMuaXNMb2FkZWQgJiYgcHJvcHMucG9zdHMucGFnZSA+IDEpIHtcbiAgICBsZXQgcHJldmlvdXNVcmwgPSAnJztcbiAgICBpZiAocHJvcHMucG9zdHMucHJldmlvdXMpIHtcbiAgICAgIHByZXZpb3VzVXJsID0gcHJvcHMucG9zdHMucHJldmlvdXMgKyAnLyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgcHJldmlvdXNVcmx9IHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gcHJldmlvdXMgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX2xlZnQ8L3NwYW4+XG4gICAgICA8L0xpbms+XG4gICAgPC9saT47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJkaXNhYmxlZFwiPlxuICAgICAgPHNwYW4gdGl0bGU9e2dldHRleHQoXCJHbyB0byBwcmV2aW91cyBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fbGVmdDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTmV4dFBhZ2UocHJvcHMpIHtcbiAgaWYgKHByb3BzLnBvc3RzLmlzTG9hZGVkICYmIHByb3BzLnBvc3RzLm1vcmUpIHtcbiAgICBsZXQgbmV4dFVybCA9ICcnO1xuICAgIGlmIChwcm9wcy5wb3N0cy5uZXh0KSB7XG4gICAgICBuZXh0VXJsID0gcHJvcHMucG9zdHMubmV4dCArICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gPGxpPlxuICAgICAgPExpbmsgdG89e3Byb3BzLnRocmVhZC51cmwuaW5kZXggKyBuZXh0VXJsfSB0aXRsZT17Z2V0dGV4dChcIkdvIHRvIG5leHQgcGFnZVwiKX0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5jaGV2cm9uX3JpZ2h0PC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgIDxzcGFuIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbmV4dCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZXZyb25fcmlnaHQ8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExhc3RQYWdlKHByb3BzKSB7XG4gIGlmIChwcm9wcy5wb3N0cy5pc0xvYWRlZCAmJiBwcm9wcy5wb3N0cy5sYXN0KSB7XG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXtwcm9wcy50aHJlYWQudXJsLmluZGV4ICsgcHJvcHMucG9zdHMubGFzdCArICcvJ30gdGl0bGU9e2dldHRleHQoXCJHbyB0byBsYXN0IHBhZ2VcIil9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+bGFzdF9wYWdlPC9zcGFuPlxuICAgICAgPC9MaW5rPlxuICAgIDwvbGk+O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj5cbiAgICAgIDxzcGFuIHRpdGxlPXtnZXR0ZXh0KFwiR28gdG8gbGFzdCBwYWdlXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmxhc3RfcGFnZTwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTW9yZShwcm9wcykge1xuICBsZXQgbWVzc2FnZSA9IG51bGw7XG4gIGlmIChwcm9wcy5tb3JlKSB7XG4gICAgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKG1vcmUpcyBtb3JlIHBvc3QgaW4gdGhpcyB0aHJlYWQuXCIsXG4gICAgICBcIlRoZXJlIGFyZSAlKG1vcmUpcyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiLFxuICAgICAgcHJvcHMubW9yZSk7XG4gICAgbWVzc2FnZSA9IGludGVycG9sYXRlKG1lc3NhZ2UsIHsnbW9yZSc6IHByb3BzLm1vcmV9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gZ2V0dGV4dChcIlRoZXJlIGFyZSBubyBtb3JlIHBvc3RzIGluIHRoaXMgdGhyZWFkLlwiKTtcbiAgfVxuXG4gIHJldHVybiA8cD57bWVzc2FnZX08L3A+O1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWUgfHwgJ2J0biBidG4tc3VjY2Vzcyd9XG4gICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICBjaGF0XG4gICAgICA8L3NwYW4+XG4gICAgICB7Z2V0dGV4dChcIlJlcGx5XCIpfVxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBSb3V0ZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWQvcm91dGUnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0b3JlKSB7XG4gIHJldHVybiB7XG4gICAgJ3BhcnRpY2lwYW50cyc6IHN0b3JlLnBhcnRpY2lwYW50cyxcbiAgICAncG9sbCc6IHN0b3JlLnBvbGwsXG4gICAgJ3Bvc3RzJzogc3RvcmUucG9zdHMsXG4gICAgJ3RocmVhZCc6IHN0b3JlLnRocmVhZCxcbiAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAndXNlcic6IHN0b3JlLmF1dGgudXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0aHMoKSB7XG4gIGNvbnN0IHRocmVhZCA9IG1pc2Fnby5nZXQoJ1RIUkVBRCcpO1xuICBjb25zdCBiYXNlUGF0aCA9IHRocmVhZC51cmwuaW5kZXgucmVwbGFjZSh0aHJlYWQuc2x1ZyArICctJyArIHRocmVhZC5waywgJzpzbHVnJyk7XG5cbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBwYXRoOiBiYXNlUGF0aCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogYmFzZVBhdGggKyAnOnBhZ2UvJyxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJvdXRlKVxuICAgIH1cbiAgXTtcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wYXJ0aWNpcGFudHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IFBvbGwgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdHNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3Bvc3RzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBQYWdpbmF0b3IgZnJvbSAnLi9wYWdpbmF0b3InOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZXBseUJ1dHRvbiBmcm9tICcuL3JlcGx5LWJ1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tICcuL3N1YnNjcmlwdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRvb2xiYXJUb3AgZnJvbSAnLi90b29sYmFyLXRvcCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFBvc3RzTW9kZXJhdGlvbiBmcm9tICcuL21vZGVyYXRpb24vcG9zdHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHBhcnRpY2lwYW50cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcGFydGljaXBhbnRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb2xsIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyBwb3N0cyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdHMnO1xuaW1wb3J0ICogYXMgdGhyZWFkIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWQnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zZXRQYWdlVGl0bGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnNob3VsZEZldGNoRGF0YSgpKSB7XG4gICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgdGhpcy5zdGFydFBvbGxpbmdBcGkoKTtcbiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdG9wUG9sbGluZ0FwaSgpO1xuICB9XG5cbiAgc2hvdWxkRmV0Y2hEYXRhKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBvc3RzLmlzTG9hZGVkKSB7XG4gICAgICBjb25zdCBwYWdlID0gKHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMSkgKiAxO1xuICAgICAgcmV0dXJuIHBhZ2UgIT0gdGhpcy5wcm9wcy5wb3N0cy5wYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBvc3RzLnVubG9hZCgpKTtcblxuICAgIGFqYXguZ2V0KHRoaXMucHJvcHMudGhyZWFkLmFwaS5wb3N0cy5pbmRleCwge1xuICAgICAgcGFnZTogdGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxXG4gICAgfSwgJ3Bvc3RzJykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoZGF0YSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZ0FwaSgpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndGhyZWFkLXBvc3RzJyxcblxuICAgICAgdXJsOiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXgsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgMVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG5cbiAgICAgIGZyZXF1ZW5jeTogMTIwICogMTAwMCxcbiAgICAgIGRlbGF5ZWQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIHN0b3BQb2xsaW5nQXBpKCkge1xuICAgIHBvbGxzLnN0b3AoJ3RocmVhZC1wb3N0cycpO1xuICB9XG5cbiAgc2V0UGFnZVRpdGxlKCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy50aHJlYWQudGl0bGUsXG4gICAgICBwYXJlbnQ6IHRoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5Lm5hbWUsXG4gICAgICBwYWdlOiAodGhpcy5wcm9wcy5wYXJhbXMucGFnZSB8fCAxKSAqIDFcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgdXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh0aHJlYWQucmVwbGFjZShkYXRhKSk7XG4gICAgc3RvcmUuZGlzcGF0Y2gocG9zdHMubG9hZChkYXRhLnBvc3Rfc2V0KSk7XG5cbiAgICBpZiAoZGF0YS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhcnRpY2lwYW50cy5yZXBsYWNlKGRhdGEucGFydGljaXBhbnRzKSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEucG9sbCkge1xuICAgICAgc3RvcmUuZGlzcGF0Y2gocG9sbC5yZXBsYWNlKGRhdGEucG9sbCkpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0UGFnZVRpdGxlKCk7XG4gIH07XG5cbiAgb3BlblJlcGx5Rm9ybSA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1JFUExZJyxcblxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRocmVhZC5hcGkuZWRpdG9yLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9zdHMuaW5kZXhcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UgcGFnZS10aHJlYWRcIj5cbiAgICAgIDxIZWFkZXIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgIDxUb29sYmFyVG9wIG9wZW5SZXBseUZvcm09e3RoaXMub3BlblJlcGx5Rm9ybX0gey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgIDxQb2xsXG4gICAgICAgICAgcG9sbD17dGhpcy5wcm9wcy5wb2xsfVxuICAgICAgICAgIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuICAgICAgICA8UGFydGljaXBhbnRzXG4gICAgICAgICAgcGFydGljaXBhbnRzPXt0aGlzLnByb3BzLnBhcnRpY2lwYW50c31cbiAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cbiAgICAgICAgLz5cbiAgICAgICAgPFBvc3RzTGlzdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLWJvdHRvbVwiPlxuICAgICAgICAgIDxQYWdpbmF0b3Igey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFJlcGx5IG9uQ2xpY2s9e3RoaXMub3BlblJlcGx5Rm9ybX0gdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0gLz5cbiAgICAgICAgICA8U3Vic2NyaXB0aW9uIGNsYXNzTmFtZT1cInRvb2xiYXItcmlnaHQgZHJvcHVwXCIgey4uLnRoaXMucHJvcHN9IC8+XG4gICAgICAgICAgPFBvc3RzTW9kZXJhdGlvbiB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyLWZpeFwiIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVwbHkocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8UmVwbHlCdXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zdWNjZXNzIHRvb2xiYXItcmlnaHRcIlxuICAgICAgICBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfVxuICAgICAgLz5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkJztcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICghcHJvcHMudXNlci5pZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIlxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICB7Z2V0SWNvbihwcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0TGFiZWwocHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbil9XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxEcm9wZG93biB7Li4ucHJvcHN9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKHN1YnNjcmlwdGlvbikge1xuICBpZiAoc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuICdzdGFyJztcbiAgfSBlbHNlIGlmIChzdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuICdzdGFyX2hhbGYnO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnc3Rhcl9ib3JkZXInO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYWJlbChzdWJzY3JpcHRpb24pIHtcbiAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiRS1tYWlsXCIpO1xuICB9IGVsc2UgaWYgKHN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZ2V0dGV4dChcIkVuYWJsZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldHRleHQoXCJEaXNhYmxlZFwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRHJvcGRvd24ocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0XCI+XG4gICAgICA8RGlzYWJsZSB7Li4ucHJvcHN9IC8+XG4gICAgICA8RW5hYmxlIHsuLi5wcm9wc30gLz5cbiAgICAgIDxFbWFpbCB7Li4ucHJvcHN9IC8+XG4gICAgPC91bD5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIERpc2FibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGUodGhpcy5wcm9wcy50aHJlYWQsIG51bGwsICd1bnN1YnNjcmliZScpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2JvcmRlclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbmFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCBmYWxzZSwgJ25vdGlmeScpO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1saW5rXCIgb25DbGljaz17dGhpcy5vbkNsaWNrfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2hhbGZcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJTdWJzY3JpYmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVtYWlsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlKHRoaXMucHJvcHMudGhyZWFkLCB0cnVlLCAnZW1haWwnKTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4tbGlua1wiIG9uQ2xpY2s9e3RoaXMub25DbGlja30+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3RhclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlN1YnNjcmliZSB3aXRoIGUtbWFpbFwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHRocmVhZCwgbmV3U3RhdGUsIHZhbHVlKSB7XG4gIGNvbnN0IG9sZFN0YXRlID0ge1xuICAgIHN1YnNjcmlwdGlvbjogdGhyZWFkLnN1YnNjcmlwdGlvblxuICB9O1xuXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKHtcbiAgICBzdWJzY3JpcHRpb246IG5ld1N0YXRlXG4gIH0pKTtcblxuICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ3N1YnNjcmlwdGlvbicsIHZhbHVlOiB2YWx1ZX1cbiAgXSkudGhlbigoZmluYWxTdGF0ZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKGZpbmFsU3RhdGUpKTtcbiAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MDApIHtcbiAgICAgIHNuYWNrYmFyLmVycm9yKHJlamVjdGlvbi5kZXRhaWxbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMudXBkYXRlKG9sZFN0YXRlKSk7XG4gIH0pO1xufSIsIi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVwbHlCdXR0b24gZnJvbSAnLi9yZXBseS1idXR0b24nO1xuaW1wb3J0IFN1YnNjcmlwdGlvbiBmcm9tICcuL3N1YnNjcmlwdGlvbic7XG5pbXBvcnQgQWRkUGFydGljaXBhbnRNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hZGQtcGFydGljaXBhbnQnO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5pbXBvcnQgcG9zdGluZyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9zdGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAgPEdvdG9OZXcgdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxHb3RvVW5hcHByb3ZlZCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPEdvdG9MYXN0IHRocmVhZD17cHJvcHMudGhyZWFkfSAvPlxuICAgICAgICA8UmVwbHkgb3BlblJlcGx5Rm9ybT17cHJvcHMub3BlblJlcGx5Rm9ybX0gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxTdGFydFBvbGwgcG9sbD17cHJvcHMucG9sbH0gdGhyZWFkPXtwcm9wcy50aHJlYWR9IC8+XG4gICAgICAgIDxBZGRQYXJ0aWNpcGFudCB0aHJlYWQ9e3Byb3BzLnRocmVhZH0gLz5cbiAgICAgICAgPFN1YnNjcmlwdGlvbk1lbnUgey4uLnByb3BzfSAvPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9OZXcocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5pc19uZXcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpPlxuICAgICAgICA8YSBocmVmPXtwcm9wcy50aHJlYWQudXJsLm5ld19wb3N0fSBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIiB0aXRsZT17Z2V0dGV4dCgnR28gdG8gZmlyc3QgbmV3IHBvc3QnKX0+XG4gICAgICAgICAge2dldHRleHQoXCJOZXdcIil9XG4gICAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR290b1VuYXBwcm92ZWQocHJvcHMpIHtcbiAgaWYgKHByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cyAmJiBwcm9wcy50aHJlYWQuYWNsLmNhbl9hcHByb3ZlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaT5cbiAgICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC51bmFwcHJvdmVkX3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIHRpdGxlPXtnZXR0ZXh0KCdHbyB0byBmaXJzdCB1bmFwcHJvdmVkIHBvc3QnKX0+XG4gICAgICAgICAge2dldHRleHQoXCJVbmFwcHJvdmVkXCIpfVxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdvdG9MYXN0KHByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGxpPlxuICAgICAgPGEgaHJlZj17cHJvcHMudGhyZWFkLnVybC5sYXN0X3Bvc3R9IGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiIHRpdGxlPXtnZXR0ZXh0KCdHbyB0byBsYXN0IHBvc3QnKX0+XG4gICAgICAgIHtnZXR0ZXh0KFwiTGFzdFwiKX1cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU3Vic2NyaXB0aW9uTWVudShwcm9wcykge1xuICBpZiAoIXByb3BzLnVzZXIuaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIj5cbiAgICAgIDxTdWJzY3JpcHRpb24gY2xhc3NOYW1lPVwiZHJvcGRvd24gdG9vbGJhci1yaWdodFwiIHsuLi5wcm9wc30gLz5cbiAgICA8L2xpPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXBseShwcm9wcykge1xuICBpZiAoIXByb3BzLnRocmVhZC5hY2wuY2FuX3JlcGx5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxsaSBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0XCI+XG4gICAgICA8UmVwbHlCdXR0b24gb25DbGljaz17cHJvcHMub3BlblJlcGx5Rm9ybX0gLz5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgU3RhcnRQb2xsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgb25DbGljayA9ICgpID0+IHtcbiAgICBwb3N0aW5nLm9wZW4oe1xuICAgICAgbW9kZTogJ1BPTEwnLFxuICAgICAgc3VibWl0OiB0aGlzLnByb3BzLnRocmVhZC5hcGkucG9sbCxcblxuICAgICAgdGhyZWFkOiB0aGlzLnByb3BzLnRocmVhZCxcbiAgICAgIHBvbGw6IG51bGxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMudGhyZWFkLmFjbC5jYW5fc3RhcnRfcG9sbCB8fCB0aGlzLnByb3BzLnRocmVhZC5wb2xsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT1cInB1bGwtcmlnaHRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgcG9sbFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkFkZCBwb2xsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRkUGFydGljaXBhbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBvbkNsaWNrID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8QWRkUGFydGljaXBhbnRNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnRocmVhZC5hY2wuY2FuX2FkZF9wYXJ0aWNpcGFudHMpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9XCJwdWxsLXJpZ2h0XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHRcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHBlcnNvbl9hZGRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAge2dldHRleHQoXCJBZGQgcGFydGljaXBhbnRcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRNZXNzYWdlKCkge1xuICAgIGxldCBsYWJlbCA9IG5nZXR0ZXh0KFxuICAgICAgXCJUaGVyZSBpcyAlKHRocmVhZHMpcyBuZXcgb3IgdXBkYXRlZCB0aHJlYWQuIENsaWNrIHRoaXMgbWVzc2FnZSB0byBzaG93IGl0LlwiLFxuICAgICAgXCJUaGVyZSBhcmUgJSh0aHJlYWRzKXMgbmV3IG9yIHVwZGF0ZWQgdGhyZWFkcy4gQ2xpY2sgdGhpcyBtZXNzYWdlIHRvIHNob3cgdGhlbS5cIixcbiAgICAgIHRoaXMucHJvcHMuZGlmZlNpemUpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKGxhYmVsLCB7XG4gICAgICB0aHJlYWRzOiB0aGlzLnByb3BzLmRpZmZTaXplXG4gICAgfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSB0aHJlYWRzLWRpZmYtbWVzc2FnZVwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMuYXBwbHlEaWZmfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGNhY2hlZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpZmYtbWVzc2FnZVwiPlxuICAgICAgICAgIHt0aGlzLmdldE1lc3NhZ2UoKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGlmZk1lc3NhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvZGlmZi1tZXNzYWdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RGlmZk1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlmZlNpemUgPT09IDApIHJldHVybiBudWxsO1xuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8RGlmZk1lc3NhZ2VcbiAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn1cbiAgICAgICAgZGlmZlNpemU9e3RoaXMucHJvcHMuZGlmZlNpemV9XG4gICAgICAvPlxuICAgICk7XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgIHt0aGlzLmdldERpZmZNZXNzYWdlKCl9XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRocmVhZFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9wcmV2aWV3JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZHMtbGlzdCB1aS1wcmV2aWV3XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICB7WzAsIDEsIDJdLm1hcCgoaSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8VGhyZWFkUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBEaWZmTWVzc2FnZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvbGlzdC9kaWZmLW1lc3NhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWQgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9yZWFkeSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldERpZmZNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpZmZTaXplID4gMCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxEaWZmTWVzc2FnZSBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0aHJlYWRzLWxpc3QgdWktcmVhZHlcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHt0aGlzLmdldERpZmZNZXNzYWdlKCl9XG4gICAgICAgIHt0aGlzLnByb3BzLnRocmVhZHMubWFwKCh0aHJlYWQpID0+IHtcbiAgICAgICAgICByZXR1cm4gPFRocmVhZCBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM9e3RoaXMucHJvcHMuc2hvd09wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17dGhpcy5wcm9wcy5zZWxlY3Rpb24uaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICBpc0J1c3k9e3RoaXMucHJvcHMuYnVzeVRocmVhZHMuaW5kZXhPZih0aHJlYWQuaWQpID49IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAga2V5PXt0aHJlYWQuaWR9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L2VtcHR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFJlYWR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC9saXN0L3JlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdFByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L2xpc3QvcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnByb3BzLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIDxMaXN0UmVhZHkgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMubGlzdH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T3B0aW9ucz17dGhpcy5wcm9wcy5zaG93T3B0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXt0aGlzLnByb3BzLnNlbGVjdGlvbn1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5wcm9wcy5idXN5VGhyZWFkc30gLz47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSBkaWZmU2l6ZT17dGhpcy5wcm9wcy5kaWZmU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlEaWZmPXt0aGlzLnByb3BzLmFwcGx5RGlmZn0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvTGlzdEVtcHR5PjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXJsKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNhdGVnb3J5LmFic29sdXRlX3VybCArIHRoaXMucHJvcHMubGlzdC5wYXRoO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuICd0aHJlYWQtY2F0ZWdvcnkgdGhyZWFkLWNhdGVnb3J5LScgKyB0aGlzLnByb3BzLmNhdGVnb3J5LmNzc19jbGFzcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICd0aHJlYWQtY2F0ZWdvcnknO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxMaW5rIHRvPXt0aGlzLmdldFVybCgpfSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICA8L0xpbms+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhdGVnb3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvY2F0ZWdvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBnZXRQYXRoKCkge1xuICAgIGxldCB0b3AgPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy50aHJlYWQudG9wX2NhdGVnb3J5XTtcbiAgICBsZXQgYm90dG9tID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMudGhyZWFkLmNhdGVnb3J5XTtcblxuICAgIGlmICh0b3AgJiYgYm90dG9tICYmIHRvcC5pZCAhPT0gYm90dG9tLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1wYXRoXCI+XG4gICAgICAgIDxDYXRlZ29yeSBjYXRlZ29yeT17Ym90dG9tfSBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0b3ApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBhdGhcIj5cbiAgICAgICAgPENhdGVnb3J5IGNhdGVnb3J5PXt0b3B9IGxpc3Q9e3RoaXMucHJvcHMubGlzdH0gLz5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVwbGllc0NvdW50KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1yZXBsaWVzLWNvdW50XCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIGZvcnVtXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWQucmVwbGllc31cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgZ2V0TGFzdFJlcGx5KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1sYXN0LXJlcGx5LWNsb2NrXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHNjaGVkdWxlXG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICB7dGhpcy5wcm9wcy50aHJlYWQubGFzdF9wb3N0X29uLmZyb21Ob3coKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1jb21wYWN0IGxpc3QtaW5saW5lXCI+XG4gICAgICB7dGhpcy5nZXRQYXRoKCl9XG4gICAgICB7dGhpcy5nZXRSZXBsaWVzQ291bnQoKX1cbiAgICAgIHt0aGlzLmdldExhc3RSZXBseSgpfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENhdGVnb3J5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvY2F0ZWdvcnknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBlc2NhcGVIdG1sIGZyb20gJ21pc2Fnby91dGlscy9lc2NhcGUtaHRtbCc7XG5cbmNvbnN0IExBU1RfUE9TVEVSX1VSTCA9ICc8YSBocmVmPVwiJSh1cmwpc1wiIGNsYXNzPVwicG9zdGVyLXRpdGxlXCI+JSh1c2VyKXM8L2E+JztcbmNvbnN0IExBU1RfUE9TVEVSX1NQQU4gPSAnPHNwYW4gY2xhc3M9XCJwb3N0ZXItdGl0bGVcIj4lKHVzZXIpczwvc3Bhbj4nO1xuY29uc3QgTEFTVF9SRVBMWV9VUkwgPSAnPGEgaHJlZj1cIiUodXJsKXNcIiBjbGFzcz1cImxhc3QtdGl0bGVcIiB0aXRsZT1cIiUoYWJzb2x1dGUpc1wiPiUocmVsYXRpdmUpczwvYT4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldE5ld0xhYmVsKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50aHJlYWQuaXNfcmVhZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbmV3LXBvc3RzXCJcbiAgICAgICAgICAgICAgICAgdGl0bGU9e2dldHRleHQoXCJHbyB0byBmaXJzdCB1bnJlYWQgcG9zdFwiKX0+XG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY29tbWVudFxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJOZXcgcG9zdHNcIil9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2E+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFBpbm5lZExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDIpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1nbG9iYWxseVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYm9va21hcmtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGdsb2JhbGx5XCIpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC53ZWlnaHQgPT09IDEpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBib29rbWFya19ib3JkZXJcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGlubmVkIGxvY2FsbHlcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0VW5hcHByb3ZlZExhYmVsKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuYXBwcm92ZWRcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLmhhc191bmFwcHJvdmVkX3Bvc3RzKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5hcHByb3ZlZCBwb3N0c1wiKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIaWRkZW5MYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfaGlkZGVuKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1oaWRkZW5cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbi1sZWdlbmRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIkhpZGRlblwiKX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbG9zZWRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuaXNfY2xvc2VkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cInRocmVhZC1jbG9zZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGxvY2tfb3V0bGluZVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAge2dldHRleHQoXCJDbG9zZWRcIil9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGF0aCgpIHtcbiAgICBsZXQgdG9wID0gdGhpcy5wcm9wcy5jYXRlZ29yaWVzW3RoaXMucHJvcHMudGhyZWFkLnRvcF9jYXRlZ29yeV07XG4gICAgbGV0IGJvdHRvbSA9IHRoaXMucHJvcHMuY2F0ZWdvcmllc1t0aGlzLnByb3BzLnRocmVhZC5jYXRlZ29yeV07XG5cbiAgICBpZiAodG9wICYmIGJvdHRvbSAmJiB0b3AuaWQgIT09IGJvdHRvbS5pZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtcGF0aFwiPlxuICAgICAgICA8Q2F0ZWdvcnkgY2F0ZWdvcnk9e3RvcH0gbGlzdD17dGhpcy5wcm9wcy5saXN0fSAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwYXRoLXNlcGFyYXRvciBtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgYXJyb3dfZm9yd2FyZFxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxDYXRlZ29yeSBjYXRlZ29yeT17Ym90dG9tfSBsaXN0PXt0aGlzLnByb3BzLmxpc3R9IC8+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0b3ApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXBhdGhcIj5cbiAgICAgICAgPENhdGVnb3J5IGNhdGVnb3J5PXt0b3B9IGxpc3Q9e3RoaXMucHJvcHMubGlzdH0gLz5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVwbGllc0NvdW50KCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBsZXQgbWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICBcIiUocmVwbGllcylzIHJlcGx5XCIsXG4gICAgICAgIFwiJShyZXBsaWVzKXMgcmVwbGllc1wiLFxuICAgICAgICB0aGlzLnByb3BzLnRocmVhZC5yZXBsaWVzKTtcblxuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPVwidGhyZWFkLXJlcGxpZXNcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgZm9ydW1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgIHtpbnRlcnBvbGF0ZShtZXNzYWdlLCB7XG4gICAgICAgICAgcmVwbGllczogdGhpcy5wcm9wcy50aHJlYWQucmVwbGllcyxcbiAgICAgICAgfSwgdHJ1ZSl9XG4gICAgICA8L3NwYW4+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldExhc3RSZXBseURhdGUoKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUkVQTFlfVVJMLCB7XG4gICAgICB1cmw6IGVzY2FwZUh0bWwodGhpcy5wcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdCksXG4gICAgICBhYnNvbHV0ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZm9ybWF0KCdMTEwnKSksXG4gICAgICByZWxhdGl2ZTogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rfb24uZnJvbU5vdygpKVxuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0TGFzdFBvc3RlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQudXJsLmxhc3RfcG9zdGVyKSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoTEFTVF9QT1NURVJfVVJMLCB7XG4gICAgICAgIHVybDogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0ZXIpLFxuICAgICAgICB1c2VyOiBlc2NhcGVIdG1sKHRoaXMucHJvcHMudGhyZWFkLmxhc3RfcG9zdGVyX25hbWUpXG4gICAgICB9LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRlKExBU1RfUE9TVEVSX1NQQU4sIHtcbiAgICAgICAgdXNlcjogZXNjYXBlSHRtbCh0aGlzLnByb3BzLnRocmVhZC5sYXN0X3Bvc3Rlcl9uYW1lKVxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFzdFJlcGx5KCkge1xuICAgIGxldCBtZXNzYWdlID0gZ2V0dGV4dChcImxhc3QgcmVwbHkgYnkgJSh1c2VyKXMgJShkYXRlKXNcIik7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmxhc3RfcG9zdF9pc19ldmVudCkge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJsYXN0IGFjdGlvbiBieSAlKHVzZXIpcyAlKGRhdGUpc1wiKTtcbiAgICB9XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJ0aHJlYWQtbGFzdC1yZXBseVwiXG4gICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogaW50ZXJwb2xhdGUoXG4gICAgICBlc2NhcGVIdG1sKG1lc3NhZ2UpLCB7XG4gICAgICAgIGRhdGU6IHRoaXMuZ2V0TGFzdFJlcGx5RGF0ZSgpLFxuICAgICAgICB1c2VyOiB0aGlzLmdldExhc3RQb3N0ZXIoKVxuICAgICAgfSwgdHJ1ZSl9fSAvPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1mdWxsIGxpc3QtaW5saW5lXCI+XG4gICAgICB7dGhpcy5nZXROZXdMYWJlbCgpfVxuICAgICAge3RoaXMuZ2V0UGlubmVkTGFiZWwoKX1cbiAgICAgIHt0aGlzLmdldFVuYXBwcm92ZWRMYWJlbCgpfVxuICAgICAge3RoaXMuZ2V0SGlkZGVuTGFiZWwoKX1cbiAgICAgIHt0aGlzLmdldENsb3NlZExhYmVsKCl9XG4gICAgICB7dGhpcy5nZXRQYXRoKCl9XG4gICAgICB7dGhpcy5nZXRSZXBsaWVzQ291bnQoKX1cbiAgICAgIHt0aGlzLmdldExhc3RSZXBseSgpfVxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFBpbm5lZEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLndlaWdodCA9PT0gMikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1waW5uZWQtZ2xvYmFsbHlcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGJvb2ttYXJrXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQud2VpZ2h0ID09PSAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLXBpbm5lZC1sb2NhbGx5XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBib29rbWFya19ib3JkZXJcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuYXBwcm92ZWRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc191bmFwcHJvdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGhyZWFkLXVuYXBwcm92ZWRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHJlbW92ZV9jaXJjbGVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5oYXNfdW5hcHByb3ZlZF9wb3N0cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC11bmFwcHJvdmVkLXBvc3RzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICByZW1vdmVfY2lyY2xlX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldEhpZGRlbkljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX2hpZGRlbikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRocmVhZC1oaWRkZW5cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIHZpc2liaWxpdHlfb2ZmXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbG9zZWRJY29uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19jbG9zZWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0aHJlYWQtY2xvc2VkXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBsb2NrX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1mbGFnc1wiPlxuICAgICAge3RoaXMuZ2V0UGlubmVkSWNvbigpfVxuICAgICAge3RoaXMuZ2V0VW5hcHByb3ZlZEljb24oKX1cbiAgICAgIHt0aGlzLmdldEhpZGRlbkljb24oKX1cbiAgICAgIHt0aGlzLmdldENsb3NlZEljb24oKX1cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gJ3JlYWQtc3RhdHVzIGl0ZW0tcmVhZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAncmVhZC1zdGF0dXMgaXRlbS1uZXcnO1xuICAgIH1cbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgdGhyZWFkIGhhcyBubyBuZXcgcG9zdHMuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIlRoaXMgdGhyZWFkIGhhcyBuZXcgcG9zdHMuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLmlzX3JlYWQpIHtcbiAgICAgIHJldHVybiAnY2hhdF9idWJibGVfb3V0bGluZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnY2hhdF9idWJibGUnO1xuICAgIH1cbiAgfVxuXG4gIGdldFVybCgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRocmVhZC51cmwubGFzdF9wb3N0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudGhyZWFkLnVybC5uZXdfcG9zdDtcbiAgICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxhIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gaHJlZj17dGhpcy5nZXRVcmwoKX0gdGl0bGU9e3RoaXMuZ2V0VGl0bGUoKX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2E+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFN1YnNjcmlwdGlvbkNvbXBhY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vY29tcGFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YnNjcmlwdGlvbkZ1bGwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHRvZ2dsZVNlbGVjdGlvbiA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuaXRlbSh0aGlzLnByb3BzLnRocmVhZC5pZCkpO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGdldFNlbGVjdFRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQubW9kZXJhdGlvbi5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmlzU2VsZWN0ZWRcbiAgICAgICAgICAgICAgPyAnY2hlY2tfYm94J1xuICAgICAgICAgICAgICA6ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayd9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pc1NlbGVjdGVkXG4gICAgICAgICAgICAgID8gZ2V0dGV4dChcIlNlbGVjdGVkXCIpXG4gICAgICAgICAgICAgIDogZ2V0dGV4dChcIlNlbGVjdFwiKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1vcHRpb25zXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1pbmxpbmVcIj5cbiAgICAgICAge3RoaXMuZ2V0U2VsZWN0VG9nZ2xlKCl9XG4gICAgICAgIDxTdWJzY3JpcHRpb25GdWxsIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfSAvPlxuICAgICAgICA8U3Vic2NyaXB0aW9uQ29tcGFjdCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0gLz5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgcmFuZG9tIGZyb20gJ21pc2Fnby91dGlscy9yYW5kb20nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbk9uTW9iaWxlKSB7XG4gICAgICByZXR1cm4gJ2xpc3QtZ3JvdXAtaXRlbSB0aHJlYWQtcHJldmlldyBoaWRkZW4teHMgaGlkZGVuLXNtJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gdGhyZWFkLXByZXZpZXcnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLWljb25cIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVhZC1zdGF0dXMgaXRlbS1yZWFkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgY2hhdF9idWJibGVfb3V0bGluZVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGhyZWFkLW1haW5cIj5cblxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNjAsIDIwMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0aHJlYWQtZGV0YWlscy1jb21wYWN0IGxpc3QtaW5saW5lXCI+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgNzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRocmVhZC1kZXRhaWxzLWZ1bGwgbGlzdC1pbmxpbmVcIj5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDE1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNTAsIDEwMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGk+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMTAwLCAyNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsZWFyZml4XCIgLz5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvbG9hZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRGV0YWlsc0NvbXBhY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9kZXRhaWxzL2NvbXBhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBEZXRhaWxzRnVsbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL2RldGFpbHMvZnVsbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZsYWdzIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvZmxhZ3MnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBJY29uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvaWNvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRocmVhZE9wdGlvbnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9vcHRpb25zJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0J1c3kpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8TG9hZGVyIC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxJY29uIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRPcHRpb25zKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dPcHRpb25zKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFRocmVhZE9wdGlvbnMgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZD17dGhpcy5wcm9wcy5pc1NlbGVjdGVkfSAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBsZXQgc3R5bGVzID0gWydsaXN0LWdyb3VwLWl0ZW0nXTtcblxuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5pc19yZWFkKSB7XG4gICAgICBzdHlsZXMucHVzaCgndGhyZWFkLXJlYWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzLnB1c2goJ3RocmVhZC1uZXcnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5pc0J1c3kpIHtcbiAgICAgIHN0eWxlcy5wdXNoKCd0aHJlYWQtYnVzeScpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5pc1NlbGVjdGVkKSB7XG4gICAgICBzdHlsZXMucHVzaCgndGhyZWFkLXNlbGVjdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd09wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5tb2RlcmF0aW9uLmxlbmd0aCkge1xuICAgICAgICBzdHlsZXMucHVzaCgndGhyZWFkLW9wcy10d28nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKCd0aHJlYWQtb3BzLW9uZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdHlsZXMuam9pbignICcpO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgICAgPEZsYWdzIHRocmVhZD17dGhpcy5wcm9wcy50aHJlYWR9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3RoaXMuZ2V0T3B0aW9ucygpfVxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRocmVhZC1tYWluXCI+XG5cbiAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy50aHJlYWQudXJsLmluZGV4fSBjbGFzc05hbWU9XCJpdGVtLXRpdGxlIHRocmVhZC10aXRsZVwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLnRocmVhZC50aXRsZX1cbiAgICAgICAgPC9hPlxuXG4gICAgICAgIDxEZXRhaWxzRnVsbCBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuXG4gICAgICAgIDxEZXRhaWxzQ29tcGFjdCBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiIC8+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFN1YnNjcmlwdGlvbkZ1bGwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vZnVsbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE9wdGlvbnNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzLWxpc3QvdGhyZWFkL3N1YnNjcmlwdGlvbi9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFN1YnNjcmlwdGlvbkZ1bGwge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNob3dPcHRpb25zID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coPE9wdGlvbnNNb2RhbCB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPik7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImhpZGRlbi1tZCBoaWRkZW4tbGdcIj5cbiAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd09wdGlvbnN9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24tbGVnZW5kXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TGVnZW5kKCl9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IE9wdGlvbnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3RocmVhZC9zdWJzY3JpcHRpb24vb3B0aW9ucyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldEljb24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuICdzdGFyJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiAnc3Rhcl9oYWxmJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdzdGFyX2JvcmRlcic7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGVnZW5kKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiRS1tYWlsXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJFbmFibGVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkRpc2FibGVkXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy50aHJlYWQuc3Vic2NyaXB0aW9uID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWZ1bGwgZHJvcGRvd24tdG9nZ2xlXCI7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnRocmVhZC5zdWJzY3JpcHRpb24gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLWRlZmF1bHQgYnRuLXN1YnNjcmliZSBidG4tc3Vic2NyaWJlLWhhbGYgZHJvcGRvd24tdG9nZ2xlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImJ0biBidG4tZGVmYXVsdCBidG4tc3Vic2NyaWJlIGRyb3Bkb3duLXRvZ2dsZVwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ0bi1ncm91cFwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJcbiAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0SWNvbigpfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uLWxlZ2VuZFwiPlxuICAgICAgICAgICAge3RoaXMuZ2V0TGVnZW5kKCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8T3B0aW9ucyBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICAgICB0aHJlYWQ9e3RoaXMucHJvcHMudGhyZWFkfSAvPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPcHRpb25zIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMtbGlzdC90aHJlYWQvc3Vic2NyaXB0aW9uL29wdGlvbnMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWRpYWxvZyBtb2RhbC1zbVwiXG4gICAgICAgICAgICAgICAgcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiQ2hhbmdlIHN1YnNjcmlwdGlvblwiKX08L2g0PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8T3B0aW9ucyBjbGFzc05hbWU9XCJtb2RhbC1tZW51XCIgdGhyZWFkPXt0aGlzLnByb3BzLnRocmVhZH0vPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcGF0Y2ggfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuY29uc3QgU1RBVEVfVVBEQVRFUyA9IHtcbiAgJ3Vuc3Vic2NyaWJlJzogbnVsbCxcbiAgJ25vdGlmeSc6IGZhbHNlLFxuICAnZW1haWwnOiB0cnVlXG59O1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgc2V0U3Vic2NyaXB0aW9uID0gKG5ld1N0YXRlKSA9PiB7XG4gICAgbW9kYWwuaGlkZSgpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRpbmc6IHRydWVcbiAgICB9KTtcblxuICAgIGxldCBvbGRTdGF0ZSA9IHRoaXMucHJvcHMudGhyZWFkLnN1YnNjcmlwdGlvbjtcblxuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICBzdWJzY3JpcHRpb246IFNUQVRFX1VQREFURVNbbmV3U3RhdGVdXG4gICAgfSkpO1xuXG4gICAgYWpheC5wYXRjaCh0aGlzLnByb3BzLnRocmVhZC5hcGkuaW5kZXgsIFtcbiAgICAgIHtvcDogJ3JlcGxhY2UnLCBwYXRoOiAnc3Vic2NyaXB0aW9uJywgdmFsdWU6IG5ld1N0YXRlfVxuICAgIF0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRoaXMucHJvcHMudGhyZWFkLCB7XG4gICAgICAgIHN1YnNjcmlwdGlvbjogU1RBVEVfVVBEQVRFU1tvbGRTdGF0ZV1cbiAgICAgIH0pKTtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24oJ3Vuc3Vic2NyaWJlJyk7XG4gIH07XG5cbiAgbm90aWZ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKCdub3RpZnknKTtcbiAgfTtcblxuICBlbWFpbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN1YnNjcmlwdGlvbignZW1haWwnKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLnVuc3Vic2NyaWJlfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyX2JvcmRlclxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVuc3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLm5vdGlmeX0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgc3Rhcl9oYWxmXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWxpbmtcIiBvbkNsaWNrPXt0aGlzLmVtYWlsfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBzdGFyXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU3Vic2NyaWJlIHdpdGggZS1tYWlsXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBjbGFzcyBTdWJjYXRlZ29yeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldFVybCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5saXN0UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsICsgdGhpcy5wcm9wcy5saXN0UGF0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcnkuYWJzb2x1dGVfdXJsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaT5cbiAgICAgIDxMaW5rIHRvPXt0aGlzLmdldFVybCgpfSBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2F0ZWdvcnkubmFtZX1cbiAgICAgIDwvTGluaz5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXAgY2F0ZWdvcnktcGlja2VyXCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBtb3JlX3ZlcnRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIkdvIHRvXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSBjYXRlZ29yaWVzLW1lbnVcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hvaWNlcy5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF0pIHtcbiAgICAgICAgICAgIHJldHVybiA8U3ViY2F0ZWdvcnkgY2F0ZWdvcnk9e3RoaXMucHJvcHMuY2F0ZWdvcmllc1tpZF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RQYXRoPXt0aGlzLnByb3BzLmxpc3QucGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZH0gLz47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVMYXN0UG9zdEFnZShhLCBiKSB7XG4gIGlmIChhLmxhc3RfcG9zdCA+IGIubGFzdF9wb3N0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGEubGFzdF9wb3N0IDwgYi5sYXN0X3Bvc3QpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUdsb2JhbFdlaWdodChhLCBiKSB7XG4gIGlmIChhLndlaWdodCA9PT0gMiAmJiBhLndlaWdodCA+IGIud2VpZ2h0KSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGIud2VpZ2h0ID09PSAyICYmIGEud2VpZ2h0IDwgYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcGFyZUxhc3RQb3N0QWdlKGEsIGIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlV2VpZ2h0KGEsIGIpIHtcbiAgaWYgKGEud2VpZ2h0ID4gYi53ZWlnaHQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH0gZWxzZSBpZiAoYS53ZWlnaHQgPCBiLndlaWdodCkge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wYXJlTGFzdFBvc3RBZ2UoYSwgYik7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhZ2VMZWFkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFRvb2xiYXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy90b29sYmFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5wYWdlTGVhZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1sZWFkXCI+XG4gICAgICAgICAgICA8cD57dGhpcy5wcm9wcy5wYWdlTGVhZH08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmRlc2NyaXB0aW9uKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuZGVzY3JpcHRpb24uaHRtbH0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGlzYWJsZVRvb2xiYXIoKSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmlzTG9hZGVkIHx8IHRoaXMucHJvcHMuaXNCdXN5IHx8IHRoaXMucHJvcHMuYnVzeVRocmVhZHMubGVuZ3RoO1xuICB9XG5cbiAgZ2V0VG9vbGJhcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzLmxlbmd0aCB8fCB0aGlzLnByb3BzLnVzZXIuaWQpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8VG9vbGJhciBzdWJjYXRlZ29yaWVzPXt0aGlzLnByb3BzLnN1YmNhdGVnb3JpZXN9XG4gICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNNYXA9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG5cbiAgICAgICAgICAgICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgICAgICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5wcm9wcy5tb2RlcmF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsVGhyZWFkcz17dGhpcy5wcm9wcy5zZWxlY3RBbGxUaHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdE5vbmVUaHJlYWRzPXt0aGlzLnByb3BzLnNlbGVjdE5vbmVUaHJlYWRzfVxuXG4gICAgICAgICAgICAgICAgICAgICAgYWRkVGhyZWFkcz17dGhpcy5wcm9wcy5hZGRUaHJlYWRzfVxuICAgICAgICAgICAgICAgICAgICAgIGZyZWV6ZVRocmVhZD17dGhpcy5wcm9wcy5mcmVlemVUaHJlYWR9XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLnByb3BzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUaHJlYWQ9e3RoaXMucHJvcHMudXBkYXRlVGhyZWFkfVxuXG4gICAgICAgICAgICAgICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuZ2V0RGlzYWJsZVRvb2xiYXIoKX1cbiAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9PlxuICAgICAgPC9Ub29sYmFyPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG5cbiAgICAgIHt0aGlzLmdldENhdGVnb3J5RGVzY3JpcHRpb24oKX1cbiAgICAgIHt0aGlzLmdldFRvb2xiYXIoKX1cblxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IERyb3Bkb3duVG9nZ2xlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Ryb3Bkb3duLXRvZ2dsZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgVGFic05hdiB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgcmVhZCB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNCdXN5OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIG1hcmtBc1JlYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIGFqYXgucG9zdCh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmFwaV91cmwucmVhZCkudGhlbigoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChyZWFkKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcCwgdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeSkpO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNCdXN5OiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHNuYWNrYmFyLnN1Y2Nlc3MoZ2V0dGV4dChcIlRocmVhZHMgaGF2ZSBiZWVuIG1hcmtlZCBhcyByZWFkLlwiKSk7XG4gICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzQnVzeTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBzbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHN0YXJ0VGhyZWFkID0gKCkgPT4ge1xuICAgIHBvc3Rpbmcub3Blbih0aGlzLnByb3BzLnN0YXJ0VGhyZWFkIHx8IHtcbiAgICAgIG1vZGU6ICdTVEFSVCcsXG5cbiAgICAgIGNvbmZpZzogbWlzYWdvLmdldCgnVEhSRUFEX0VESVRPUl9BUEknKSxcbiAgICAgIHN1Ym1pdDogbWlzYWdvLmdldCgnVEhSRUFEU19BUEknKSxcblxuICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWRcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRHb0JhY2tCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkucGFyZW50KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnByb3BzLmNhdGVnb3JpZXNbdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5wYXJlbnRdO1xuXG4gICAgICByZXR1cm4gPExpbmsgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGJ0bi1pY29uIGJ0bi1nby1iYWNrIHB1bGwtbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgdG89e3BhcmVudC5hYnNvbHV0ZV91cmwgKyB0aGlzLnByb3BzLnJvdXRlLmxpc3QucGF0aH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBrZXlib2FyZF9hcnJvd19sZWZ0XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvTGluaz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTdGFydFRocmVhZEJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLmlkKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLWFsaWduZWRcIlxuICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdGFydFRocmVhZH1cbiAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGNoYXRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIlN0YXJ0IHRocmVhZFwiKX1cbiAgICAgIDwvQnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1hcmtBc1JlYWRCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5pZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1hbGlnbmVkIGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5tYXJrQXNSZWFkfVxuICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz17dGhpcy5zdGF0ZS5pc0J1c3l9XG4gICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH0+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBwbGF5bGlzdF9hZGRfY2hlY2tcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7Z2V0dGV4dChcIk1hcmsgYXMgcmVhZFwiKX1cbiAgICAgIDwvQnV0dG9uPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbXBhY3ROYXZUb2dnbGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm91dGUubGlzdHMubGVuZ3RoID4gMSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxEcm9wZG93blRvZ2dsZSB0b2dnbGVOYXY9e3RoaXMucHJvcHMudG9nZ2xlTmF2fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wZG93bj17dGhpcy5wcm9wcy5kcm9wZG93bn0gLz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRUYWJzTmF2KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmxpc3RzLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8VGFic05hdiBiYXNlVXJsPXt0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmFic29sdXRlX3VybH1cbiAgICAgICAgICAgICAgICAgICAgICBsaXN0PXt0aGlzLnByb3BzLnJvdXRlLmxpc3R9XG4gICAgICAgICAgICAgICAgICAgICAgbGlzdHM9e3RoaXMucHJvcHMucm91dGUubGlzdHN9IC8+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLmxpc3RzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiAncGFnZS1oZWFkZXIgdGFiYmVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdwYWdlLWhlYWRlcic7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAge3RoaXMuZ2V0R29CYWNrQnV0dG9uKCl9XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJwdWxsLWxlZnRcIj57dGhpcy5wcm9wcy50aXRsZX08L2gxPlxuXG4gICAgICAgIHt0aGlzLmdldFN0YXJ0VGhyZWFkQnV0dG9uKCl9XG4gICAgICAgIHt0aGlzLmdldE1hcmtBc1JlYWRCdXR0b24oKX1cbiAgICAgICAge3RoaXMuZ2V0Q29tcGFjdE5hdlRvZ2dsZSgpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0aGlzLmdldFRhYnNOYXYoKX1cblxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIgKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmxpc3QudHlwZSA9PT0gJ2FsbCcpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmVtcHR5TWVzc2FnZX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIldoeSBub3Qgc3RhcnQgb25lIHlvdXJzZWxmP1wiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW0gZW1wdHktbWVzc2FnZVwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jYXRlZ29yeS5zcGVjaWFsX3JvbGVcbiAgICAgICAgICAgICAgICA/IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBvbiB0aGlzIGZvcnVtLi4uIHlldCFcIilcbiAgICAgICAgICAgICAgICA6IGdldHRleHQoXCJUaGVyZSBhcmUgbm8gdGhyZWFkcyBpbiB0aGlzIGNhdGVnb3J5LlwiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIldoeSBub3Qgc3RhcnQgb25lIHlvdXJzZWxmP1wiKX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbSBlbXB0eS1tZXNzYWdlXCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiTm8gdGhyZWFkcyBtYXRjaGluZyBzcGVjaWZpZWQgY3JpdGVyaWEgd2VyZSBmb3VuZC5cIil9XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBFcnJvcnNNb2RhbCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vZXJyb3JzLWxpc3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBNZXJnZVRocmVhZHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21lcmdlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTW92ZVRocmVhZHMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL21vdmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENvdW50ZG93biBmcm9tICdtaXNhZ28vdXRpbHMvY291bnRkb3duJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjYWxsQXBpID0gKG9wcywgc3VjY2Vzc01lc3NhZ2UsIG9uU3VjY2Vzcz1udWxsKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3QgY291bnRkb3duID0gbmV3IENvdW50ZG93bigoKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtlcnJvcnN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNuYWNrYmFyLnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpO1xuICAgICAgICBpZiAob25TdWNjZXNzKSB7XG4gICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnByb3BzLnRocmVhZHMubGVuZ3RoKTtcblxuICAgIC8vIHVwZGF0ZSB0aHJlYWQgYWNsIHRvZ2V0aGVyIHdpdGggaXRzIHN0YXRlXG4gICAgb3BzLnB1c2goe29wOiAnYWRkJywgcGF0aDogJ2FjbCcsIHZhbHVlOiB0cnVlfSk7XG5cbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuXG4gICAgICBhamF4LnBhdGNoKHRocmVhZC5hcGkuaW5kZXgsIG9wcykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVRocmVhZChkYXRhKTtcbiAgICAgICAgY291bnRkb3duLmNvdW50KCk7XG4gICAgICB9LCAocmVqZWN0aW9uKSA9PiB7XG4gICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICB0aHJlYWQ6IHRocmVhZCxcbiAgICAgICAgICBlcnJvcnM6IFtyZWplY3Rpb24uZGV0YWlsXVxuICAgICAgICB9KTtcblxuICAgICAgICBjb3VudGRvd24uY291bnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHBpbkdsb2JhbGx5ID0gKCkgPT4ge1xuICAgIHRoaXMuY2FsbEFwaShbXG4gICAgICB7XG4gICAgICAgIG9wOiAncmVwbGFjZScsXG4gICAgICAgIHBhdGg6ICd3ZWlnaHQnLFxuICAgICAgICB2YWx1ZTogMlxuICAgICAgfVxuICAgIF0sIGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgcGlubmVkIGdsb2JhbGx5LlwiKSk7XG4gIH07XG5cbiAgcGluTG9jYWxseSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnd2VpZ2h0JyxcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIHBpbm5lZCBsb2NhbGx5LlwiKSk7XG4gIH07XG5cbiAgdW5waW4gPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ3dlaWdodCcsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSB1bnBpbm5lZC5cIikpO1xuICB9O1xuXG4gIGFwcHJvdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLXVuYXBwcm92ZWQnLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGFwcHJvdmVkLlwiKSk7XG4gIH07XG5cbiAgb3BlbiA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBvcGVuZWQuXCIpKTtcbiAgfTtcblxuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtY2xvc2VkJyxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIGNsb3NlZC5cIikpO1xuICB9O1xuXG4gIHVuaGlkZSA9ICgpID0+IHtcbiAgICB0aGlzLmNhbGxBcGkoW1xuICAgICAge1xuICAgICAgICBvcDogJ3JlcGxhY2UnLFxuICAgICAgICBwYXRoOiAnaXMtaGlkZGVuJyxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSB1bmhpZGRlbi5cIikpO1xuICB9O1xuXG4gIGhpZGUgPSAoKSA9PiB7XG4gICAgdGhpcy5jYWxsQXBpKFtcbiAgICAgIHtcbiAgICAgICAgb3A6ICdyZXBsYWNlJyxcbiAgICAgICAgcGF0aDogJ2lzLWhpZGRlbicsXG4gICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgXSwgZ2V0dGV4dChcIlNlbGVjdGVkIHRocmVhZHMgd2VyZSBoaWRkZW4uXCIpKTtcbiAgfTtcblxuICBtb3ZlID0gKCkgPT4ge1xuICAgIG1vZGFsLnNob3coXG4gICAgICA8TW92ZVRocmVhZHMgY2FsbEFwaT17dGhpcy5jYWxsQXBpfVxuICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMuY2F0ZWdvcmllc31cbiAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzTWFwPXt0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXB9XG4gICAgICAgICAgICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfSAvPlxuICAgICk7XG4gIH07XG5cbiAgbWVyZ2UgPSAoKSA9PiB7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgdGhpcy5wcm9wcy50aHJlYWRzLmZvckVhY2goKHRocmVhZCkgPT4ge1xuICAgICAgaWYgKCF0aHJlYWQuYWNsLmNhbl9tZXJnZSkge1xuICAgICAgICBlcnJvcnMuYXBwZW5kKHtcbiAgICAgICAgICAnaWQnOiB0aHJlYWQuaWQsXG4gICAgICAgICAgJ3RpdGxlJzogdGhyZWFkLnRpdGxlLFxuICAgICAgICAgICdlcnJvcnMnOiBbXG4gICAgICAgICAgICBnZXR0ZXh0KFwiWW91IGRvbid0IGhhdmUgcGVybWlzc2lvbiB0byBtZXJnZSB0aGlzIHRocmVhZCB3aXRoIG90aGVycy5cIilcbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudGhyZWFkcy5sZW5ndGggPCAyKSB7XG4gICAgICBzbmFja2Jhci5pbmZvKFxuICAgICAgICBnZXR0ZXh0KFwiWW91IGhhdmUgdG8gc2VsZWN0IGF0IGxlYXN0IHR3byB0aHJlYWRzIHRvIG1lcmdlLlwiKSk7XG4gICAgfSBlbHNlIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBtb2RhbC5zaG93KDxFcnJvcnNNb2RhbCBlcnJvcnM9e2Vycm9yc30gLz4pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RhbC5zaG93KDxNZXJnZVRocmVhZHMgey4uLnRoaXMucHJvcHN9IC8+KTtcbiAgICB9XG4gIH07XG5cbiAgZGVsZXRlID0gKCkgPT4ge1xuICAgIGlmICghY29uZmlybShnZXR0ZXh0KFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzZWxlY3RlZCB0aHJlYWRzP1wiKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCBjb3VudGRvd24gPSBuZXcgQ291bnRkb3duKCgpID0+IHtcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIG1vZGFsLnNob3coPEVycm9yc01vZGFsIGVycm9ycz17ZXJyb3JzfSAvPik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmFja2Jhci5zdWNjZXNzKGdldHRleHQoXCJTZWxlY3RlZCB0aHJlYWRzIHdlcmUgZGVsZXRlZC5cIikpO1xuICAgICAgfVxuXG4gICAgICAvLyB1bmZyZWV6ZSBub24tZGVsZXRlZCB0aHJlYWRzXG4gICAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVkdWNlIHNlbGVjdGlvbiB0byBub24tZGVsZXRlZCB0aHJlYWRzXG4gICAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuYWxsKHRoaXMucHJvcHMudGhyZWFkcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5pZDtcbiAgICAgIH0pKSk7XG4gICAgfSwgdGhpcy5wcm9wcy50aHJlYWRzLmxlbmd0aCk7XG5cbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuXG4gICAgICBhamF4LmRlbGV0ZSh0aHJlYWQuYXBpLmluZGV4KS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuZnJlZXplVGhyZWFkKHRocmVhZC5pZCk7XG4gICAgICAgIHRoaXMucHJvcHMuZGVsZXRlVGhyZWFkKHRocmVhZCk7XG4gICAgICAgIGNvdW50ZG93bi5jb3VudCgpO1xuICAgICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgdGhyZWFkOiB0aHJlYWQsXG4gICAgICAgICAgZXJyb3JzOiBbcmVqZWN0aW9uLmRldGFpbF1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY291bnRkb3duLmNvdW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRQaW5HbG9iYWxseUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9waW4gPT0gMikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucGluR2xvYmFsbHl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIHRocmVhZHMgZ2xvYmFsbHlcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRQaW5Mb2NhbGx5QnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiA+IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBpbkxvY2FsbHl9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiUGluIHRocmVhZHMgbG9jYWxseVwiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVucGluQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX3BpbiA+IDApIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVucGlufT5cbiAgICAgICAgICB7Z2V0dGV4dChcIlVucGluIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNb3ZlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX21vdmUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1vdmV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWVyZ2VCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1lcmdlfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIk1lcmdlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRBcHByb3ZlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2FwcHJvdmUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFwcHJvdmV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQXBwcm92ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0T3BlbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub3Blbn0+XG4gICAgICAgICAge2dldHRleHQoXCJPcGVuIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRDbG9zZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9jbG9zZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2V9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVuaGlkZUJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5tb2RlcmF0aW9uLmNhbl9oaWRlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGxpPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlua1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51bmhpZGV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiVW5oaWRlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRIaWRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2hpZGUpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8bGk+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhpZGV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVsZXRlQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm1vZGVyYXRpb24uY2FuX2hpZGUgPT0gMikge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxsaT5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlfT5cbiAgICAgICAgICB7Z2V0dGV4dChcIkRlbGV0ZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvbGk+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9PlxuICAgICAge3RoaXMuZ2V0UGluR2xvYmFsbHlCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldFBpbkxvY2FsbHlCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldFVucGluQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRNb3ZlQnV0dG9uKCl9XG4gICAgICB7dGhpcy5nZXRNZXJnZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0QXBwcm92ZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0T3BlbkJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0Q2xvc2VCdXR0b24oKX1cbiAgICAgIHt0aGlzLmdldFVuaGlkZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0SGlkZUJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0RGVsZXRlQnV0dG9uKCl9XG4gICAgPC91bD47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBUaHJlYWRFcnJvcnMocHJvcHMpIHtcbiAgcmV0dXJuIDxsaT5cbiAgICA8aDU+e3Byb3BzLnRocmVhZC50aXRsZX08L2g1PlxuICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkIGxpc3QtaXRlbS1lcnJvcnNcIj5cbiAgICAgIHtwcm9wcy5lcnJvcnMubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiA8bGkga2V5PXtpfT57aXRlbX08L2xpPlxuICAgICAgfSl9XG4gICAgPC91bD5cbiAgPC9saT47XG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZGlhbG9nXCJcbiAgICAgICAgICAgICAgICByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJUaHJlYWRzIG1vZGVyYXRpb25cIil9PC9oND5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgICAge2dldHRleHQoXCJFcnJvcnMgd2VyZSBlbmNvdW50ZXJlZCB3aGVuIHBlcmZvcm1pbmcgbW9kZXJhdGlvbiBhY3Rpb24gb24gb25lIG9yIG1vcmUgdGhyZWFkczpcIil9XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWQgbGlzdC1lcnJvcmVkLWl0ZW1zXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5lcnJvcnMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8VGhyZWFkRXJyb3JzXG4gICAgICAgICAgICAgICAgZXJyb3JzPXtpdGVtLmVycm9yc31cbiAgICAgICAgICAgICAgICBrZXk9e2l0ZW0udGhyZWFkLmlkfVxuICAgICAgICAgICAgICAgIHRocmVhZD17aXRlbS50aHJlYWR9XG4gICAgICAgICAgICAgIC8+O1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQnV0dG9uIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2J1dHRvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybSc7XG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVNlbGVjdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yeS1zZWxlY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2VsZWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBmaWx0ZXJUaHJlYWRzIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHNlbGVjdCBmcm9tICdtaXNhZ28vcmVkdWNlcnMvc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9tb2RlcmF0aW9uL2Vycm9ycy1saXN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTWVyZ2VQb2xscyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9tZXJnZS1wb2xscyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzbmFja2JhciBmcm9tICdtaXNhZ28vc2VydmljZXMvc25hY2tiYXInO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgdmFsaWRhdG9ycyBmcm9tICdtaXNhZ28vdXRpbHMvdmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG5cbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgd2VpZ2h0OiAwLFxuICAgICAgaXNfaGlkZGVuOiAwLFxuICAgICAgaXNfY2xvc2VkOiBmYWxzZSxcblxuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICB0aXRsZTogW1xuICAgICAgICAgIHZhbGlkYXRvcnMucmVxdWlyZWQoKVxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBlcnJvcnM6IHt9XG4gICAgfTtcblxuICAgIHRoaXMuYWNsID0ge307XG4gICAgZm9yIChjb25zdCBpIGluIHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMpIHtcbiAgICAgIGlmICghcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWNsID0gcHJvcHMudXNlci5hY2wuY2F0ZWdvcmllc1tpXTtcbiAgICAgIHRoaXMuYWNsW2FjbC5pZF0gPSBhY2w7XG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXTtcbiAgICBwcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IHRoaXMuYWNsW2NhdGVnb3J5LmlkXTtcbiAgICAgICAgY29uc3QgZGlzYWJsZWQgPSAhYWNsLmNhbl9zdGFydF90aHJlYWRzIHx8IChjYXRlZ29yeS5pc19jbG9zZWQgJiYgIWFjbC5jYW5fY2xvc2VfdGhyZWFkcyk7XG5cbiAgICAgICAgdGhpcy5jYXRlZ29yeUNob2ljZXMucHVzaCh7XG4gICAgICAgICAgdmFsdWU6IGNhdGVnb3J5LmlkLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICBsZXZlbDogY2F0ZWdvcnkubGV2ZWwgLSAxLFxuICAgICAgICAgIGxhYmVsOiBjYXRlZ29yeS5uYW1lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghZGlzYWJsZWQgJiYgIXRoaXMuc3RhdGUuY2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhdGVnb3J5ID0gY2F0ZWdvcnkuaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaXNIaWRkZW5DaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiAwLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5JyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiAxLFxuICAgICAgICAnaWNvbic6ICd2aXNpYmlsaXR5X29mZicsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJZZXNcIilcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuaXNDbG9zZWRDaG9pY2VzID0gW1xuICAgICAge1xuICAgICAgICAndmFsdWUnOiBmYWxzZSxcbiAgICAgICAgJ2ljb24nOiAnbG9ja19vdXRsaW5lJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIk5vXCIpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICAndmFsdWUnOiB0cnVlLFxuICAgICAgICAnaWNvbic6ICdsb2NrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlllc1wiKVxuICAgICAgfSxcbiAgICBdO1xuICB9XG5cbiAgY2xlYW4oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZvcm0gY29udGFpbnMgZXJyb3JzLlwiKSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXJyb3JzOiB0aGlzLnZhbGlkYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNlbmQoKSB7XG4gICAgcmV0dXJuIGFqYXgucG9zdChtaXNhZ28uZ2V0KCdNRVJHRV9USFJFQURTX0FQSScpLCB0aGlzLmdldEZvcm1kYXRhKCkpO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBnZXRGb3JtZGF0YSA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wX2NhdGVnb3J5OiB0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LmlkLFxuICAgICAgdGhyZWFkczogdGhpcy5wcm9wcy50aHJlYWRzLm1hcCgodGhyZWFkKSA9PiB0aHJlYWQuaWQpLFxuICAgICAgdGl0bGU6IHRoaXMuc3RhdGUudGl0bGUsXG4gICAgICBjYXRlZ29yeTogdGhpcy5zdGF0ZS5jYXRlZ29yeSxcbiAgICAgIHdlaWdodDogdGhpcy5zdGF0ZS53ZWlnaHQsXG4gICAgICBpc19oaWRkZW46IHRoaXMuc3RhdGUuaXNfaGlkZGVuLFxuICAgICAgaXNfY2xvc2VkOiB0aGlzLnN0YXRlLmlzX2Nsb3NlZFxuICAgIH07XG4gIH07XG5cbiAgaGFuZGxlU3VjY2VzcyA9IChhcGlSZXNwb25zZSkgPT4ge1xuICAgIC8vIHVuZnJlZXplIGFuZCByZW1vdmUgbWVyZ2VkIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLnRocmVhZHMuZm9yRWFjaCgodGhyZWFkKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLmZyZWV6ZVRocmVhZCh0aHJlYWQuaWQpO1xuICAgICAgdGhpcy5wcm9wcy5kZWxldGVUaHJlYWQodGhyZWFkKTtcbiAgICB9KTtcblxuICAgIC8vIGRlc2VsZWN0IGFsbCB0aHJlYWRzXG4gICAgc3RvcmUuZGlzcGF0Y2goc2VsZWN0Lm5vbmUoKSk7XG5cbiAgICAvLyBhcHBlbmQgbWVyZ2VkIHRocmVhZCwgZmlsdGVyIHRocmVhZHNcbiAgICB0aGlzLnByb3BzLmFkZFRocmVhZHMoW2FwaVJlc3BvbnNlXSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApKTtcblxuICAgIC8vIGhpZGUgbW9kYWxcbiAgICBtb2RhbC5oaWRlKCk7XG4gIH07XG5cbiAgaGFuZGxlRXJyb3IgPSAocmVqZWN0aW9uKSA9PiB7XG4gICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgaWYgKHJlamVjdGlvbi5wb2xscykge1xuICAgICAgICBtb2RhbC5zaG93KFxuICAgICAgICAgIDxNZXJnZVBvbGxzXG4gICAgICAgICAgICBhcGk9e21pc2Fnby5nZXQoJ01FUkdFX1RIUkVBRFNfQVBJJyl9XG4gICAgICAgICAgICBkYXRhPXt0aGlzLmdldEZvcm1kYXRhKCl9XG4gICAgICAgICAgICBwb2xscz17cmVqZWN0aW9uLnBvbGxzfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5oYW5kbGVFcnJvcn1cbiAgICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVTdWNjZXNzfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAnZXJyb3JzJzogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5lcnJvcnMsIHJlamVjdGlvbilcbiAgICAgICAgfSk7XG4gICAgICAgIHNuYWNrYmFyLmVycm9yKGdldHRleHQoXCJGb3JtIGNvbnRhaW5zIGVycm9ycy5cIikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIEFycmF5LmlzQXJyYXkocmVqZWN0aW9uKSkge1xuICAgICAgbW9kYWwuc2hvdyg8RXJyb3JzTW9kYWwgZXJyb3JzPXtyZWplY3Rpb259IC8+KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc25hY2tiYXIuYXBpRXJyb3IocmVqZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgb25DYXRlZ29yeUNoYW5nZSA9IChldikgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBldi50YXJnZXQudmFsdWU7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnlJZFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX3Bpbl90aHJlYWRzIDwgbmV3U3RhdGUud2VpZ2h0KSB7XG4gICAgICBuZXdTdGF0ZS53ZWlnaHQgPSAwO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5hY2xbY2F0ZWdvcnlJZF0uY2FuX2hpZGVfdGhyZWFkcykge1xuICAgICAgbmV3U3RhdGUuaXNfaGlkZGVuID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuYWNsW2NhdGVnb3J5SWRdLmNhbl9jbG9zZV90aHJlYWRzKSB7XG4gICAgICBuZXdTdGF0ZS5pc19jbG9zZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRXZWlnaHRDaG9pY2VzKCkge1xuICAgIGNvbnN0IGNob2ljZXMgPSBbXG4gICAgICB7XG4gICAgICAgICd2YWx1ZSc6IDAsXG4gICAgICAgICdpY29uJzogJ3JlbW92ZScsXG4gICAgICAgICdsYWJlbCc6IGdldHRleHQoXCJOb3QgcGlubmVkXCIpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgJ3ZhbHVlJzogMSxcbiAgICAgICAgJ2ljb24nOiAnYm9va21hcmtfYm9yZGVyJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBsb2NhbGx5XCIpLFxuICAgICAgfVxuICAgIF07XG5cbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX3Bpbl90aHJlYWRzID09IDIpIHtcbiAgICAgIGNob2ljZXMucHVzaCh7XG4gICAgICAgICd2YWx1ZSc6IDIsXG4gICAgICAgICdpY29uJzogJ2Jvb2ttYXJrJyxcbiAgICAgICAgJ2xhYmVsJzogZ2V0dGV4dChcIlBpbm5lZCBnbG9iYWxseVwiKSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9pY2VzO1xuICB9XG5cbiAgcmVuZGVyV2VpZ2h0RmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9waW5fdGhyZWFkcykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJUaHJlYWQgd2VpZ2h0XCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfd2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF93ZWlnaHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnd2VpZ2h0Jyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUud2VpZ2h0fVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuZ2V0V2VpZ2h0Q2hvaWNlcygpfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVySGlkZGVuRmllbGQoKSB7XG4gICAgaWYgKHRoaXMuYWNsW3RoaXMuc3RhdGUuY2F0ZWdvcnldLmNhbl9oaWRlX3RocmVhZHMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiSGlkZSB0aHJlYWRcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9pc19oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgPFNlbGVjdCBpZD1cImlkX2lzX2Nsb3NlZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdpc19oaWRkZW4nKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pc19oaWRkZW59XG4gICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5pc0hpZGRlbkNob2ljZXN9IC8+XG4gICAgICA8L0Zvcm1Hcm91cD47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDbG9zZWRGaWVsZCgpIHtcbiAgICBpZiAodGhpcy5hY2xbdGhpcy5zdGF0ZS5jYXRlZ29yeV0uY2FuX2Nsb3NlX3RocmVhZHMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiQ2xvc2UgdGhyZWFkXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yPVwiaWRfaXNfY2xvc2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgIDxTZWxlY3QgaWQ9XCJpZF9pc19jbG9zZWRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmJpbmRJbnB1dCgnaXNfY2xvc2VkJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaXNfY2xvc2VkfVxuICAgICAgICAgICAgICAgIGNob2ljZXM9e3RoaXMuaXNDbG9zZWRDaG9pY2VzfSAvPlxuICAgICAgPC9Gb3JtR3JvdXA+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyRm9ybSgpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cblxuICAgICAgICA8Rm9ybUdyb3VwIGxhYmVsPXtnZXR0ZXh0KFwiVGhyZWFkIHRpdGxlXCIpfVxuICAgICAgICAgICAgICAgICAgIGZvcj1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPVwiY29sLXNtLTRcIiBjb250cm9sQ2xhc3M9XCJjb2wtc20tOFwiXG4gICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17dGhpcy5zdGF0ZS5lcnJvcnMudGl0bGV9PlxuICAgICAgICAgIDxpbnB1dCBpZD1cImlkX3RpdGxlXCJcbiAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5iaW5kSW5wdXQoJ3RpdGxlJyl9XG4gICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnRpdGxlfSAvPlxuICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPjwvZGl2PlxuXG4gICAgICAgIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz1cImNvbC1zbS00XCIgY29udHJvbENsYXNzPVwiY29sLXNtLThcIlxuICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb249e3RoaXMuc3RhdGUuZXJyb3JzLmNhdGVnb3J5fT5cbiAgICAgICAgICA8Q2F0ZWdvcnlTZWxlY3QgaWQ9XCJpZF9jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2F0ZWdvcnlDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9pY2VzPXt0aGlzLmNhdGVnb3J5Q2hvaWNlc30gLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj48L2Rpdj5cblxuICAgICAgICB7dGhpcy5yZW5kZXJXZWlnaHRGaWVsZCgpfVxuICAgICAgICB7dGhpcy5yZW5kZXJIaWRkZW5GaWVsZCgpfVxuICAgICAgICB7dGhpcy5yZW5kZXJDbG9zZWRGaWVsZCgpfVxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiYnRuLXByaW1hcnlcIiBsb2FkaW5nPXt0aGlzLnN0YXRlLmlzTG9hZGluZ30+XG4gICAgICAgICAge2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIHJlbmRlckNhbnRNZXJnZU1lc3NhZ2UoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWJvZHlcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBpbmZvX291dGxpbmVcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtYm9keVwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgY2FuJ3QgbW92ZSB0aHJlYWRzIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGNhdGVnb3JpZXMgeW91IGFyZSBhbGxvd2VkIHRvIG1vdmUgdGhlbSB0by5cIil9XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+XG4gICAgICAgICAge2dldHRleHQoXCJZb3UgbmVlZCBwZXJtaXNzaW9uIHRvIHN0YXJ0IHRocmVhZHMgaW4gY2F0ZWdvcnkgdG8gYmUgYWJsZSB0byBtZXJnZSB0aHJlYWRzIHRvIGl0LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtb2RhbC1kaWFsb2cnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfSByb2xlPVwiZG9jdW1lbnRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17Z2V0dGV4dChcIkNsb3NlXCIpfT5cbiAgICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZ0aW1lczs8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGg0IGNsYXNzTmFtZT1cIm1vZGFsLXRpdGxlXCI+e2dldHRleHQoXCJNZXJnZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yeSA/IHRoaXMucmVuZGVyRm9ybSgpIDogdGhpcy5yZW5kZXJDYW50TWVyZ2VNZXNzYWdlKCl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9mb3JtJztcbmltcG9ydCBGb3JtR3JvdXAgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZm9ybS1ncm91cCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENhdGVnb3J5U2VsZWN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NhdGVnb3J5LXNlbGVjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGZpbHRlclRocmVhZHMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdGhyZWFkcyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICB9O1xuXG4gICAgY29uc3QgYWNscyA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wcy51c2VyLmFjbC5jYXRlZ29yaWVzKSB7XG4gICAgICBpZiAoIXByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjbCA9IHByb3BzLnVzZXIuYWNsLmNhdGVnb3JpZXNbaV07XG4gICAgICBhY2xzW2FjbC5pZF0gPSBhY2w7XG4gICAgfVxuXG4gICAgdGhpcy5jYXRlZ29yeUNob2ljZXMgPSBbXTtcbiAgICBwcm9wcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBpZiAoY2F0ZWdvcnkubGV2ZWwgPiAwKSB7XG4gICAgICAgIGNvbnN0IGFjbCA9IGFjbHNbY2F0ZWdvcnkuaWRdO1xuICAgICAgICBjb25zdCBkaXNhYmxlZCA9ICFhY2wuY2FuX3N0YXJ0X3RocmVhZHMgfHwgKGNhdGVnb3J5LmlzX2Nsb3NlZCAmJiAhYWNsLmNhbl9jbG9zZV90aHJlYWRzKTtcblxuICAgICAgICB0aGlzLmNhdGVnb3J5Q2hvaWNlcy5wdXNoKHtcbiAgICAgICAgICB2YWx1ZTogY2F0ZWdvcnkuaWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIGxldmVsOiBjYXRlZ29yeS5sZXZlbCAtIDEsXG4gICAgICAgICAgbGFiZWw6IGNhdGVnb3J5Lm5hbWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhdGhpcy5zdGF0ZS5jYXRlZ29yeSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuY2F0ZWdvcnkgPSBjYXRlZ29yeS5pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+IHtcbiAgICAvLyB3ZSBkb24ndCByZWxvYWQgcGFnZSBvbiBzdWJtaXNzaW9uc1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBtb2RhbC5oaWRlKCk7XG5cbiAgICBjb25zdCBvblN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChcbiAgICAgICAgZmlsdGVyVGhyZWFkcyh0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LCB0aGlzLnByb3BzLmNhdGVnb3JpZXNNYXApKTtcblxuICAgICAgLy8gZGVzZWxlY3QgdGhyZWFkcyBtb3ZlZCBvdXRzaWRlIG9mIHZpc2libGUgc2NvcGVcbiAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgY29uc3QgbGVmdFRocmVhZHMgPSBzdG9yZVN0YXRlLnRocmVhZHMubWFwKCh0aHJlYWQpID0+ICh0aHJlYWQuaWQpKTtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5hbGwoc3RvcmVTdGF0ZS5zZWxlY3Rpb24uZmlsdGVyKCh0aHJlYWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGxlZnRUaHJlYWRzLmluZGV4T2YodGhyZWFkKSAhPT0gLTE7XG4gICAgICB9KSkpO1xuICAgIH07XG5cbiAgICB0aGlzLnByb3BzLmNhbGxBcGkoW1xuICAgICAge29wOiAncmVwbGFjZScsIHBhdGg6ICdjYXRlZ29yeScsIHZhbHVlOiB0aGlzLnN0YXRlLmNhdGVnb3J5fSxcbiAgICAgIHtvcDogJ2FkZCcsIHBhdGg6ICd0b3AtY2F0ZWdvcnknLCB2YWx1ZTogdGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5pZH0sXG4gICAgICB7b3A6ICdyZXBsYWNlJywgcGF0aDogJ2ZsYXR0ZW4tY2F0ZWdvcmllcycsIHZhbHVlOiBudWxsfSxcbiAgICAgIHtvcDogJ2FkZCcsIHBhdGg6ICdhY2wnLCB2YWx1ZTogdHJ1ZX1cbiAgICBdLCBnZXR0ZXh0KFwiU2VsZWN0ZWQgdGhyZWFkcyB3ZXJlIG1vdmVkLlwiKSwgb25TdWNjZXNzKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDbGFzc05hbWUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gJ21vZGFsLWRpYWxvZyBtb2RhbC1tZXNzYWdlJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtb2RhbC1kaWFsb2cnO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckZvcm0oKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG5cbiAgICAgICAgPEZvcm1Hcm91cCBsYWJlbD17Z2V0dGV4dChcIk5ldyBjYXRlZ29yeVwiKX1cbiAgICAgICAgICAgICAgICAgICBmb3I9XCJpZF9uZXdfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgICAgICAgIGxhYmVsQ2xhc3M9XCJjb2wtc20tNFwiIGNvbnRyb2xDbGFzcz1cImNvbC1zbS04XCI+XG4gICAgICAgICAgPENhdGVnb3J5U2VsZWN0IGlkPVwiaWRfbmV3X2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYmluZElucHV0KCdjYXRlZ29yeScpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlcz17dGhpcy5jYXRlZ29yeUNob2ljZXN9IC8+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCI+XG4gICAgICAgICAge2dldHRleHQoXCJNb3ZlIHRocmVhZHNcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbiAgcmVuZGVyQ2FudE1vdmVNZXNzYWdlKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1ib2R5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtaWNvblwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgaW5mb19vdXRsaW5lXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWJvZHlcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IGNhbid0IG1vdmUgdGhyZWFkcyBiZWNhdXNlIHRoZXJlIGFyZSBubyBjYXRlZ29yaWVzIHlvdSBhcmUgYWxsb3dlZCB0byBtb3ZlIHRoZW0gdG8uXCIpfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiWW91IG5lZWQgcGVybWlzc2lvbiB0byBzdGFydCB0aHJlYWRzIGluIGNhdGVnb3J5IHRvIGJlIGFibGUgdG8gbW92ZSB0aHJlYWRzIHRvIGl0LlwiKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc05hbWUoKX0gcm9sZT1cImRvY3VtZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2dldHRleHQoXCJDbG9zZVwiKX0+XG4gICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJtb2RhbC10aXRsZVwiPntnZXR0ZXh0KFwiTW92ZSB0aHJlYWRzXCIpfTwvaDQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7dGhpcy5zdGF0ZS5jYXRlZ29yeSA/IHRoaXMucmVuZGVyRm9ybSgpIDogdGhpcy5yZW5kZXJDYW50TW92ZU1lc3NhZ2UoKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgc2VsZWN0IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHNlbGVjdEFsbCA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3QuYWxsKHRoaXMucHJvcHMudGhyZWFkcy5tYXAoZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgICByZXR1cm4gdGhyZWFkLmlkO1xuICAgIH0pKSk7XG4gIH07XG5cbiAgc2VsZWN0Tm9uZSA9ICgpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChzZWxlY3Qubm9uZSgpKTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICA8bGk+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1saW5rXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNlbGVjdEFsbH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveDwvc3Bhbj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlNlbGVjdCBhbGxcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICAgIDxsaT5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxpbmtcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0Tm9uZX0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmNoZWNrX2JveF9vdXRsaW5lX2JsYW5rPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2VsZWN0IG5vbmVcIil9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICA8L3VsPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5cbi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmxldCBuYXZMaW5rcyA9IGZ1bmN0aW9uKGJhc2VVcmwsIGFjdGl2ZSwgbGlzdHMsIGhpZGVOYXYpIHtcbiAgICByZXR1cm4gbGlzdHMubWFwKGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgIHJldHVybiA8TGkgaXNDb250cm9sbGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgICBpc0FjdGl2ZT17bGlzdC5wYXRoID09PSBhY3RpdmUucGF0aH1cbiAgICAgICAgICAgICAgICAga2V5PXtiYXNlVXJsICsgbGlzdC5wYXRofT5cbiAgICAgICAgPExpbmsgdG89e2Jhc2VVcmwgKyBsaXN0LnBhdGh9IG9uQ2xpY2s9e2hpZGVOYXZ9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbi14cyBoaWRkZW4tc21cIj57bGlzdC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4tbWQgaGlkZGVuLWxnXCI+e2xpc3QubG9uZ05hbWV9PC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L0xpPjtcbiAgfSk7XG59O1xuLy8ganNoaW50IGlnbm9yZTplbmRcblxuZXhwb3J0IGNsYXNzIFRhYnNOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtdGFicyBoaWRkZW4teHMgaGlkZGVuLXNtXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxsc1wiPlxuICAgICAgICAgIHtuYXZMaW5rcyh0aGlzLnByb3BzLmJhc2VVcmwsIHRoaXMucHJvcHMubGlzdCwgdGhpcy5wcm9wcy5saXN0cywgdGhpcy5wcm9wcy5oaWRlTmF2KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0TmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAge25hdkxpbmtzKHRoaXMucHJvcHMuYmFzZVVybCwgdGhpcy5wcm9wcy5saXN0LCB0aGlzLnByb3BzLmxpc3RzLCB0aGlzLnByb3BzLmhpZGVOYXYpfVxuICAgIDwvdWw+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFJvdXRlIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvcm91dGUnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0KG9wdGlvbnMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdvcHRpb25zJzogb3B0aW9ucyxcbiAgICAgICdzZWxlY3Rpb24nOiBzdG9yZS5zZWxlY3Rpb24sXG4gICAgICAndGhyZWFkcyc6IHN0b3JlLnRocmVhZHMsXG4gICAgICAndGljayc6IHN0b3JlLnRpY2sudGljayxcbiAgICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyXG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RzKHVzZXIpIHtcbiAgbGV0IGxpc3RzID0gW1xuICAgIHtcbiAgICAgIHR5cGU6ICdhbGwnLFxuICAgICAgcGF0aDogJycsXG4gICAgICBuYW1lOiBnZXR0ZXh0KFwiQWxsXCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJBbGwgdGhyZWFkc1wiKVxuICAgIH1cbiAgXTtcblxuICBpZiAodXNlci5pZCkge1xuICAgIGxpc3RzLnB1c2goe1xuICAgICAgdHlwZTogJ215JyxcbiAgICAgIHBhdGg6ICdteS8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIk15XCIpLFxuICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJNeSB0aHJlYWRzXCIpXG4gICAgfSk7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnbmV3JyxcbiAgICAgIHBhdGg6ICduZXcvJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJOZXdcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIk5ldyB0aHJlYWRzXCIpXG4gICAgfSk7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAndW5yZWFkJyxcbiAgICAgIHBhdGg6ICd1bnJlYWQvJyxcbiAgICAgIG5hbWU6IGdldHRleHQoXCJVbnJlYWRcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlVucmVhZCB0aHJlYWRzXCIpXG4gICAgfSk7XG4gICAgbGlzdHMucHVzaCh7XG4gICAgICB0eXBlOiAnc3Vic2NyaWJlZCcsXG4gICAgICBwYXRoOiAnc3Vic2NyaWJlZC8nLFxuICAgICAgbmFtZTogZ2V0dGV4dChcIlN1YnNjcmliZWRcIiksXG4gICAgICBsb25nTmFtZTogZ2V0dGV4dChcIlN1YnNjcmliZWQgdGhyZWFkc1wiKVxuICAgIH0pO1xuXG4gICAgaWYgKHVzZXIuYWNsLmNhbl9zZWVfdW5hcHByb3ZlZF9jb250ZW50X2xpc3RzKSB7XG4gICAgICBsaXN0cy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3VuYXBwcm92ZWQnLFxuICAgICAgICBwYXRoOiAndW5hcHByb3ZlZC8nLFxuICAgICAgICBuYW1lOiBnZXR0ZXh0KFwiVW5hcHByb3ZlZFwiKSxcbiAgICAgICAgbG9uZ05hbWU6IGdldHRleHQoXCJVbmFwcHJvdmVkIGNvbnRlbnRcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsaXN0cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGhzKHVzZXIsIG1vZGUpIHtcbiAgbGV0IGxpc3RzID0gZ2V0TGlzdHModXNlcik7XG4gIGxldCByb3V0ZXMgPSBbXTtcbiAgbGV0IGNhdGVnb3JpZXNNYXAgPSB7fTtcblxuICBtaXNhZ28uZ2V0KCdDQVRFR09SSUVTJykuZm9yRWFjaChmdW5jdGlvbihjYXRlZ29yeSkge1xuICAgIGxpc3RzLmZvckVhY2goZnVuY3Rpb24obGlzdCkge1xuICAgICAgY2F0ZWdvcmllc01hcFtjYXRlZ29yeS5pZF0gPSBjYXRlZ29yeTtcblxuICAgICAgcm91dGVzLnB1c2goe1xuICAgICAgICBwYXRoOiBjYXRlZ29yeS5hYnNvbHV0ZV91cmwgKyBsaXN0LnBhdGgsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChnZXRTZWxlY3QobW9kZSkpKFJvdXRlKSxcblxuICAgICAgICBjYXRlZ29yaWVzOiBtaXNhZ28uZ2V0KCdDQVRFR09SSUVTJyksXG4gICAgICAgIGNhdGVnb3JpZXNNYXAsXG4gICAgICAgIGNhdGVnb3J5LFxuXG4gICAgICAgIGxpc3RzLFxuICAgICAgICBsaXN0XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvdXRlcztcbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBjb21wYXJlR2xvYmFsV2VpZ2h0LCBjb21wYXJlV2VpZ2h0IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9jb21wYXJlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgQ29udGFpbmVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvY29udGFpbmVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBDb21wYWN0TmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9uYXZzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgSGVhZGVyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvaGVhZGVyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBkaWZmVGhyZWFkcywgZ2V0TW9kZXJhdGlvbkFjdGlvbnMsIGdldFBhZ2VUaXRsZSwgZ2V0VGl0bGUgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL3V0aWxzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVGhyZWFkc0xpc3QgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy1saXN0L3Jvb3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBUaHJlYWRzTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZHMvbGlzdC1lbXB0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFdpdGhEcm9wZG93biBmcm9tICdtaXNhZ28vY29tcG9uZW50cy93aXRoLWRyb3Bkb3duJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgKiBhcyBzZWxlY3QgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3NlbGVjdGlvbic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgYXBwZW5kLCBkZWxldGVUaHJlYWQsIGh5ZHJhdGUsIHBhdGNoIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBhamF4IGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hamF4JztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5pbXBvcnQgKiBhcyBzZXRzIGZyb20gJ21pc2Fnby91dGlscy9zZXRzJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNNb3VudGVkOiB0cnVlLFxuXG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlLFxuXG4gICAgICBkaWZmOiB7XG4gICAgICAgIHJlc3VsdHM6IFtdXG4gICAgICB9LFxuXG4gICAgICBtb2RlcmF0aW9uOiBbXSxcbiAgICAgIGJ1c3lUaHJlYWRzOiBbXSxcblxuICAgICAgZHJvcGRvd246IGZhbHNlLFxuICAgICAgc3ViY2F0ZWdvcmllczogW10sXG5cbiAgICAgIGNvdW50OiAwLFxuICAgICAgbW9yZTogMCxcblxuICAgICAgcGFnZTogMSxcbiAgICAgIHBhZ2VzOiAxXG4gICAgfTtcblxuICAgIGxldCBjYXRlZ29yeSA9IHRoaXMuZ2V0Q2F0ZWdvcnkoKTtcblxuICAgIGlmIChtaXNhZ28uaGFzKCdUSFJFQURTJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKGNhdGVnb3J5LCBtaXNhZ28uZ2V0KCdUSFJFQURTJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YShjYXRlZ29yeSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2F0ZWdvcnkoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnJvdXRlLmNhdGVnb3J5LnNwZWNpYWxfcm9sZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoUHJlbG9hZGVkRGF0YShjYXRlZ29yeSwgZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUsIHtcbiAgICAgIG1vZGVyYXRpb246IGdldE1vZGVyYXRpb25BY3Rpb25zKGRhdGEucmVzdWx0cyksXG5cbiAgICAgIHN1YmNhdGVnb3JpZXM6IGRhdGEuc3ViY2F0ZWdvcmllcyxcblxuICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICBtb3JlOiBkYXRhLm1vcmUsXG5cbiAgICAgIHBhZ2U6IGRhdGEucGFnZSxcbiAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXJ0UG9sbGluZyhjYXRlZ29yeSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoY2F0ZWdvcnkpIHtcbiAgICB0aGlzLmxvYWRUaHJlYWRzKGNhdGVnb3J5KTtcbiAgfVxuXG4gIGxvYWRUaHJlYWRzKGNhdGVnb3J5LCBwYWdlPTEpIHtcbiAgICBhamF4LmdldCh0aGlzLnByb3BzLm9wdGlvbnMuYXBpLCB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBsaXN0OiB0aGlzLnByb3BzLnJvdXRlLmxpc3QudHlwZSxcbiAgICAgIHBhZ2U6IHBhZ2UgfHwgMVxuICAgIH0sICd0aHJlYWRzJykudGhlbigoZGF0YSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICAvLyB1c2VyIGNoYW5nZWQgcm91dGUgYmVmb3JlIGxvYWRpbmcgY29tcGxldGlvblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwYWdlID09PSAxKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChhcHBlbmQoZGF0YS5yZXN1bHRzLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgICAgIGlzQnVzeTogZmFsc2UsXG5cbiAgICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgICBzdWJjYXRlZ29yaWVzOiBkYXRhLnN1YmNhdGVnb3JpZXMsXG5cbiAgICAgICAgY291bnQ6IGRhdGEuY291bnQsXG4gICAgICAgIG1vcmU6IGRhdGEubW9yZSxcblxuICAgICAgICBwYWdlOiBkYXRhLnBhZ2UsXG4gICAgICAgIHBhZ2VzOiBkYXRhLnBhZ2VzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zdGFydFBvbGxpbmcoY2F0ZWdvcnkpO1xuICAgIH0sIChyZWplY3Rpb24pID0+IHtcbiAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBzdGFydFBvbGxpbmcoY2F0ZWdvcnkpIHtcbiAgICBwb2xscy5zdGFydCh7XG4gICAgICBwb2xsOiAndGhyZWFkcycsXG4gICAgICB1cmw6IHRoaXMucHJvcHMub3B0aW9ucy5hcGksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgbGlzdDogdGhpcy5wcm9wcy5yb3V0ZS5saXN0LnR5cGVcbiAgICAgIH0sXG4gICAgICBmcmVxdWVuY3k6IDEyMCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMucG9sbFJlc3BvbnNlXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldFBhZ2VUaXRsZSgpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1RIUkVBRFMnKSkge1xuICAgICAgLy8gdW5saWtlIGluIG90aGVyIGNvbXBvbmVudHMsIHJvdXRlcyBhcmUgcm9vdCBjb21wb25lbnRzIGZvciB0aHJlYWRzXG4gICAgICAvLyBzbyB3ZSBjYW4ndCBkaXNwYXRjaCBzdG9yZSBhY3Rpb24gZnJvbSBjb25zdHJ1Y3RvclxuICAgICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShtaXNhZ28ucG9wKCdUSFJFQURTJykucmVzdWx0cykpO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0b3JlLmRpc3BhdGNoKHNlbGVjdC5ub25lKCkpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5zdGF0ZS5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICBwb2xscy5zdG9wKCd0aHJlYWRzJyk7XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRUaXRsZSh0aGlzLnByb3BzLnJvdXRlKTtcbiAgfVxuXG4gIHNldFBhZ2VUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCB8fCAhbWlzYWdvLmdldCgnVEhSRUFEU19PTl9JTkRFWCcpKSB7XG4gICAgICB0aXRsZS5zZXQoZ2V0UGFnZVRpdGxlKHRoaXMucHJvcHMucm91dGUpKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMub3B0aW9ucy50aXRsZSkge1xuICAgICAgICB0aXRsZS5zZXQodGhpcy5wcm9wcy5vcHRpb25zLnRpdGxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGUpIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0U29ydGluZygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgICAgcmV0dXJuIGNvbXBhcmVXZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlR2xvYmFsV2VpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cblxuICAvLyBBSkFYXG5cbiAgbG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0J1c3k6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMubG9hZFRocmVhZHModGhpcy5nZXRDYXRlZ29yeSgpLCB0aGlzLnN0YXRlLnBhZ2UgKyAxKTtcbiAgfTtcblxuICBwb2xsUmVzcG9uc2UgPSAoZGF0YSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGlmZjogT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuICAgICAgICByZXN1bHRzOiBkaWZmVGhyZWFkcyh0aGlzLnByb3BzLnRocmVhZHMsIGRhdGEucmVzdWx0cylcbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG5cbiAgYWRkVGhyZWFkcyA9ICh0aHJlYWRzKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goYXBwZW5kKHRocmVhZHMsIHRoaXMuZ2V0U29ydGluZygpKSk7XG4gIH07XG5cbiAgYXBwbHlEaWZmID0gKCkgPT4ge1xuICAgIHRoaXMuYWRkVGhyZWFkcyh0aGlzLnN0YXRlLmRpZmYucmVzdWx0cyk7XG5cbiAgICB0aGlzLnNldFN0YXRlKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZGlmZiwge1xuICAgICAgbW9kZXJhdGlvbjogZ2V0TW9kZXJhdGlvbkFjdGlvbnMoc3RvcmUuZ2V0U3RhdGUoKS50aHJlYWRzKSxcblxuICAgICAgZGlmZjoge1xuICAgICAgICByZXN1bHRzOiBbXVxuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICAvLyBUaHJlYWQgc3RhdGUgdXRpbHNcblxuICBmcmVlemVUaHJlYWQgPSAodGhyZWFkKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbihjdXJyZW50U3RhdGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1c3lUaHJlYWRzOiBzZXRzLnRvZ2dsZShjdXJyZW50U3RhdGUuYnVzeVRocmVhZHMsIHRocmVhZClcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlVGhyZWFkID0gKHRocmVhZCkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHBhdGNoKHRocmVhZCwgdGhyZWFkLCB0aGlzLmdldFNvcnRpbmcoKSkpO1xuICB9O1xuXG4gIGRlbGV0ZVRocmVhZCA9ICh0aHJlYWQpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaChkZWxldGVUaHJlYWQodGhyZWFkKSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgZ2V0Q29tcGFjdE5hdigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5saXN0cy5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q29tcGFjdE5hdkNsYXNzTmFtZSgpfT5cbiAgICAgICAgPENvbXBhY3ROYXYgYmFzZVVybD17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgICAgICAgICAgbGlzdHM9e3RoaXMucHJvcHMucm91dGUubGlzdHN9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVOYXY9e3RoaXMuaGlkZU5hdn0gLz5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vcmVCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubW9yZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItbW9yZVwiPlxuICAgICAgICA8QnV0dG9uIGxvYWRpbmc9e3RoaXMuc3RhdGUuaXNCdXN5IHx8IHRoaXMuc3RhdGUuYnVzeVRocmVhZHMubGVuZ3RofVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubG9hZE1vcmV9PlxuICAgICAgICAgIHtnZXR0ZXh0KFwiU2hvdyBtb3JlXCIpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gJ3BhZ2UgcGFnZS10aHJlYWRzJztcbiAgICBjbGFzc05hbWUgKz0gJyBwYWdlLXRocmVhZHMtJyArIHRoaXMucHJvcHMucm91dGUubGlzdDtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yeS5jc3NfY2xhc3MpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnIHBhZ2UtJyArIHRoaXMucHJvcHMucm91dGUuY2F0ZWdvcnkuY3NzX2NsYXNzO1xuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgICA8SGVhZGVyXG4gICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5yb3V0ZS5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBzdGFydFRocmVhZD17dGhpcy5wcm9wcy5vcHRpb25zLnN0YXJ0VGhyZWFkfVxuICAgICAgICAgIHRocmVhZHM9e3RoaXMucHJvcHMudGhyZWFkc31cbiAgICAgICAgICB0aXRsZT17dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgIHRvZ2dsZU5hdj17dGhpcy50b2dnbGVOYXZ9XG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuXG4gICAgICAgIHt0aGlzLmdldENvbXBhY3ROYXYoKX1cblxuICAgICAgICA8Q29udGFpbmVyXG4gICAgICAgICAgcm91dGU9e3RoaXMucHJvcHMucm91dGV9XG4gICAgICAgICAgc3ViY2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5zdWJjYXRlZ29yaWVzfVxuICAgICAgICAgIHVzZXI9e3RoaXMucHJvcHMudXNlcn1cblxuICAgICAgICAgIHBhZ2VMZWFkPXt0aGlzLnByb3BzLm9wdGlvbnMucGFnZUxlYWR9XG5cbiAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG4gICAgICAgICAgdGhyZWFkc0NvdW50PXt0aGlzLnN0YXRlLmNvdW50fVxuXG4gICAgICAgICAgbW9kZXJhdGlvbj17dGhpcy5zdGF0ZS5tb2RlcmF0aW9ufVxuICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG5cbiAgICAgICAgICBidXN5VGhyZWFkcz17dGhpcy5zdGF0ZS5idXN5VGhyZWFkc31cbiAgICAgICAgICBhZGRUaHJlYWRzPXt0aGlzLmFkZFRocmVhZHN9XG4gICAgICAgICAgZnJlZXplVGhyZWFkPXt0aGlzLmZyZWV6ZVRocmVhZH1cbiAgICAgICAgICBkZWxldGVUaHJlYWQ9e3RoaXMuZGVsZXRlVGhyZWFkfVxuICAgICAgICAgIHVwZGF0ZVRocmVhZD17dGhpcy51cGRhdGVUaHJlYWR9XG5cbiAgICAgICAgICBpc0xvYWRlZD17dGhpcy5zdGF0ZS5pc0xvYWRlZH1cbiAgICAgICAgICBpc0J1c3k9e3RoaXMuc3RhdGUuaXNCdXN5fVxuICAgICAgICA+XG5cbiAgICAgICAgICA8VGhyZWFkc0xpc3RcbiAgICAgICAgICAgIGNhdGVnb3JpZXM9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcmllc01hcH1cbiAgICAgICAgICAgIGxpc3Q9e3RoaXMucHJvcHMucm91dGUubGlzdH1cbiAgICAgICAgICAgIHNlbGVjdGlvbj17dGhpcy5wcm9wcy5zZWxlY3Rpb259XG4gICAgICAgICAgICB0aHJlYWRzPXt0aGlzLnByb3BzLnRocmVhZHN9XG5cbiAgICAgICAgICAgIGRpZmZTaXplPXt0aGlzLnN0YXRlLmRpZmYucmVzdWx0cy5sZW5ndGh9XG4gICAgICAgICAgICBhcHBseURpZmY9e3RoaXMuYXBwbHlEaWZmfVxuXG4gICAgICAgICAgICBzaG93T3B0aW9ucz17ISF0aGlzLnByb3BzLnVzZXIuaWR9XG5cbiAgICAgICAgICAgIGlzTG9hZGVkPXt0aGlzLnN0YXRlLmlzTG9hZGVkfVxuICAgICAgICAgICAgYnVzeVRocmVhZHM9e3RoaXMuc3RhdGUuYnVzeVRocmVhZHN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFRocmVhZHNMaXN0RW1wdHlcbiAgICAgICAgICAgICAgY2F0ZWdvcnk9e3RoaXMucHJvcHMucm91dGUuY2F0ZWdvcnl9XG4gICAgICAgICAgICAgIGVtcHR5TWVzc2FnZT17dGhpcy5wcm9wcy5vcHRpb25zLmVtcHR5TWVzc2FnZX1cbiAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5yb3V0ZS5saXN0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1RocmVhZHNMaXN0PlxuXG4gICAgICAgICAge3RoaXMuZ2V0TW9yZUJ1dHRvbigpfVxuXG4gICAgICAgIDwvQ29udGFpbmVyPlxuXG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBDYXRlZ29yeVBpY2tlciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL2NhdGVnb3J5LXBpY2tlcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IE1vZGVyYXRpb25Db250cm9scyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vY29udHJvbHMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBTZWxlY3Rpb25Db250cm9scyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy90aHJlYWRzL21vZGVyYXRpb24vc2VsZWN0aW9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0Q2F0ZWdvcnlQaWNrZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3ViY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXItbGVmdFwiPlxuICAgICAgICA8Q2F0ZWdvcnlQaWNrZXIgY2hvaWNlcz17dGhpcy5wcm9wcy5zdWJjYXRlZ29yaWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcz17dGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdD17dGhpcy5wcm9wcy5saXN0fSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2hvd01vZGVyYXRpb25PcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnVzZXIuaWQgJiYgdGhpcy5wcm9wcy5tb2RlcmF0aW9uLmFsbG93O1xuICB9XG5cbiAgZ2V0U2VsZWN0aW9uQnV0dG9uKCkge1xuICAgIGlmICh0aGlzLnNob3dNb2RlcmF0aW9uT3B0aW9ucygpKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0b29sYmFyLXJpZ2h0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1pY29uIGRyb3Bkb3duLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMucHJvcHMuZGlzYWJsZWR9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHNlbGVjdF9hbGxcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIDxTZWxlY3Rpb25Db250cm9scyBjbGFzc05hbWU9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZWFkcz17dGhpcy5wcm9wcy50aHJlYWRzfSAvPlxuXG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRTZWxlY3RlZFRocmVhZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMudGhyZWFkcy5maWx0ZXIoKHRocmVhZCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuc2VsZWN0aW9uLmluZGV4T2YodGhyZWFkLmlkKSA+PSAwO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0TW9kZXJhdGlvbkJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5zaG93TW9kZXJhdGlvbk9wdGlvbnMoKSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1yaWdodCBkcm9wZG93blwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcIlxuICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkIHx8ICF0aGlzLnByb3BzLnNlbGVjdGlvbi5sZW5ndGh9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICAgIHNldHRpbmdzXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHtnZXR0ZXh0KFwiT3B0aW9uc1wiKX1cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgPE1vZGVyYXRpb25Db250cm9sc1xuICAgICAgICAgIGFkZFRocmVhZHM9e3RoaXMucHJvcHMuYWRkVGhyZWFkc31cbiAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnByb3BzLmNhdGVnb3JpZXN9XG4gICAgICAgICAgY2F0ZWdvcmllc01hcD17dGhpcy5wcm9wcy5jYXRlZ29yaWVzTWFwfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodFwiXG4gICAgICAgICAgZGVsZXRlVGhyZWFkPXt0aGlzLnByb3BzLmRlbGV0ZVRocmVhZH1cbiAgICAgICAgICBmcmVlemVUaHJlYWQ9e3RoaXMucHJvcHMuZnJlZXplVGhyZWFkfVxuICAgICAgICAgIG1vZGVyYXRpb249e3RoaXMucHJvcHMubW9kZXJhdGlvbn1cbiAgICAgICAgICByb3V0ZT17dGhpcy5wcm9wcy5yb3V0ZX1cbiAgICAgICAgICB0aHJlYWRzPXt0aGlzLmdldFNlbGVjdGVkVGhyZWFkcygpfVxuICAgICAgICAgIHVwZGF0ZVRocmVhZD17dGhpcy5wcm9wcy51cGRhdGVUaHJlYWR9XG4gICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAvPlxuXG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRvb2xiYXIgd2l0aC1qc1wiPlxuICAgICAge3RoaXMuZ2V0Q2F0ZWdvcnlQaWNrZXIoKX1cbiAgICAgIHt0aGlzLmdldFNlbGVjdGlvbkJ1dHRvbigpfVxuICAgICAge3RoaXMuZ2V0TW9kZXJhdGlvbkJ1dHRvbigpfVxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVRpdGxlKHJvdXRlKSB7XG4gIGlmIChyb3V0ZS5jYXRlZ29yeS5sZXZlbCkge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lLFxuICAgICAgICBwYXJlbnQ6IHJvdXRlLmNhdGVnb3J5Lm5hbWVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5jYXRlZ29yeS5uYW1lXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChtaXNhZ28uZ2V0KCdUSFJFQURTX09OX0lOREVYJykpIHtcbiAgICBpZiAocm91dGUubGlzdC5wYXRoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogcm91dGUubGlzdC5sb25nTmFtZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChyb3V0ZS5saXN0LnBhdGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiByb3V0ZS5saXN0LmxvbmdOYW1lLFxuICAgICAgICBwYXJlbnQ6IGdldHRleHQoXCJUaHJlYWRzXCIpXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogZ2V0dGV4dChcIlRocmVhZHNcIilcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZShyb3V0ZSkge1xuICBpZiAocm91dGUuY2F0ZWdvcnkubGV2ZWwpIHtcbiAgICByZXR1cm4gcm91dGUuY2F0ZWdvcnkubmFtZTtcbiAgfSBlbHNlIGlmIChtaXNhZ28uZ2V0KCdUSFJFQURTX09OX0lOREVYJykpIHtcbiAgICBpZiAobWlzYWdvLmdldCgnU0VUVElOR1MnKS5mb3J1bV9pbmRleF90aXRsZSkge1xuICAgICAgcmV0dXJuIG1pc2Fnby5nZXQoJ1NFVFRJTkdTJykuZm9ydW1faW5kZXhfdGl0bGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXR0ZXh0KFwiVGhyZWFkc1wiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUaHJlYWRDaGFuZ2VkKGN1cnJlbnQsIGZyb21EYikge1xuICByZXR1cm4gW1xuICAgIGN1cnJlbnQudGl0bGUgPT09IGZyb21EYi50aXRsZSxcbiAgICBjdXJyZW50LndlaWdodCA9PT0gZnJvbURiLndlaWdodCxcbiAgICBjdXJyZW50LmNhdGVnb3J5ID09PSBmcm9tRGIuY2F0ZWdvcnksXG4gICAgY3VycmVudC50b3BfY2F0ZWdvcnkgPT09IGZyb21EYi50b3BfY2F0ZWdvcnksXG4gICAgY3VycmVudC5sYXN0X3Bvc3QgPT09IGZyb21EYi5sYXN0X3Bvc3QsXG4gICAgY3VycmVudC5sYXN0X3Bvc3Rlcl9uYW1lID09PSBmcm9tRGIubGFzdF9wb3N0ZXJfbmFtZVxuICBdLmluZGV4T2YoZmFsc2UpID49IDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaWZmVGhyZWFkcyhjdXJyZW50LCBmcm9tRGIpIHtcbiAgbGV0IGN1cnJlbnRNYXAgPSB7fTtcbiAgY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uKHRocmVhZCkge1xuICAgIGN1cnJlbnRNYXBbdGhyZWFkLmlkXSA9IHRocmVhZDtcbiAgfSk7XG5cbiAgcmV0dXJuIGZyb21EYi5maWx0ZXIoZnVuY3Rpb24odGhyZWFkKSB7XG4gICAgaWYgKGN1cnJlbnRNYXBbdGhyZWFkLmlkXSkge1xuICAgICAgcmV0dXJuIGlzVGhyZWFkQ2hhbmdlZChjdXJyZW50TWFwW3RocmVhZC5pZF0sIHRocmVhZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlcmF0aW9uQWN0aW9ucyh0aHJlYWRzKSB7XG4gIGxldCBtb2RlcmF0aW9uID0ge1xuICAgIGFsbG93OiBmYWxzZSxcblxuICAgIGNhbl9hcHByb3ZlOiAwLFxuICAgIGNhbl9jbG9zZTogMCxcbiAgICBjYW5faGlkZTogMCxcbiAgICBjYW5fbWVyZ2U6IDAsXG4gICAgY2FuX21vdmU6IDAsXG4gICAgY2FuX3BpbjogMFxuICB9O1xuXG4gIHRocmVhZHMuZm9yRWFjaChmdW5jdGlvbih0aHJlYWQpIHtcbiAgICBpZiAodGhyZWFkLmlzX3VuYXBwcm92ZWQgJiYgdGhyZWFkLmFjbC5jYW5fYXBwcm92ZSA+IG1vZGVyYXRpb24uY2FuX2FwcHJvdmUpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX2FwcHJvdmUgPSB0aHJlYWQuYWNsLmNhbl9hcHByb3ZlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9jbG9zZSA+IG1vZGVyYXRpb24uY2FuX2Nsb3NlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9jbG9zZSA9IHRocmVhZC5hY2wuY2FuX2Nsb3NlO1xuICAgIH1cblxuICAgIGlmICh0aHJlYWQuYWNsLmNhbl9oaWRlID4gbW9kZXJhdGlvbi5jYW5faGlkZSkge1xuICAgICAgbW9kZXJhdGlvbi5jYW5faGlkZSA9IHRocmVhZC5hY2wuY2FuX2hpZGU7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21lcmdlID4gbW9kZXJhdGlvbi5jYW5fbWVyZ2UpIHtcbiAgICAgIG1vZGVyYXRpb24uY2FuX21lcmdlID0gdGhyZWFkLmFjbC5jYW5fbWVyZ2U7XG4gICAgfVxuXG4gICAgaWYgKHRocmVhZC5hY2wuY2FuX21vdmUgPiBtb2RlcmF0aW9uLmNhbl9tb3ZlKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tb3ZlID0gdGhyZWFkLmFjbC5jYW5fbW92ZTtcbiAgICB9XG5cbiAgICBpZiAodGhyZWFkLmFjbC5jYW5fcGluID4gbW9kZXJhdGlvbi5jYW5fcGluKSB7XG4gICAgICBtb2RlcmF0aW9uLmNhbl9waW4gPSB0aHJlYWQuYWNsLmNhbl9waW47XG4gICAgfVxuXG4gICAgbW9kZXJhdGlvbi5hbGxvdyA9IChcbiAgICAgIG1vZGVyYXRpb24uY2FuX2FwcHJvdmUgfHxcbiAgICAgIG1vZGVyYXRpb24uY2FuX2Nsb3NlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9oaWRlIHx8XG4gICAgICBtb2RlcmF0aW9uLmNhbl9tZXJnZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fbW92ZSB8fFxuICAgICAgbW9kZXJhdGlvbi5jYW5fcGluXG4gICAgKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG1vZGVyYXRpb247XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVnaXN0ZXJCdXR0b24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVnaXN0ZXItYnV0dG9uJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU2lnbkluTW9kYWwgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvc2lnbi1pbi5qcyc7XG5pbXBvcnQgZHJvcGRvd24gZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vYmlsZS1uYXZiYXItZHJvcGRvd24nO1xuaW1wb3J0IG1vZGFsIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2RhbCc7XG5cbmV4cG9ydCBjbGFzcyBHdWVzdE1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93U2lnbkluTW9kYWwoKSB7XG4gICAgbW9kYWwuc2hvdyhTaWduSW5Nb2RhbCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duIGRyb3Bkb3duLW1lbnUtcmlnaHRcIlxuICAgICAgICAgICAgICAgcm9sZT1cIm1lbnVcIj5cbiAgICAgIDxsaSBjbGFzc05hbWU9XCJndWVzdC1wcmV2aWV3XCI+XG4gICAgICAgIDxoND57Z2V0dGV4dChcIllvdSBhcmUgYnJvd3NpbmcgYXMgZ3Vlc3QuXCIpfTwvaDQ+XG4gICAgICAgIDxwPlxuICAgICAgICAgIHtnZXR0ZXh0KCdTaWduIGluIG9yIHJlZ2lzdGVyIHRvIHN0YXJ0IGFuZCBwYXJ0aWNpcGF0ZSBpbiBkaXNjdXNzaW9ucy4nKX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLXhzLTEyXCI+XG5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnNob3dTaWduSW5Nb2RhbH0+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiU2lnbiBpblwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgey8qXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wteHMtNlwiPlxuICAgICAgICAgICAgPFJlZ2lzdGVyQnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IGJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICB7Z2V0dGV4dChcIlJlZ2lzdGVyXCIpfVxuICAgICAgICAgICAgPC9SZWdpc3RlckJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAqL31cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgIDwvdWw+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEd1ZXN0TmF2IGV4dGVuZHMgR3Vlc3RNZW51IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJuYXYgbmF2LWd1ZXN0XCI+XG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gbmF2YmFyLWJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2hvd1NpZ25Jbk1vZGFsfT5cbiAgICAgICAge2dldHRleHQoXCJTaWduIGluXCIpfVxuICAgICAgPC9idXR0b24+XG4gICAgICB7LypcbiAgICAgIDxSZWdpc3RlckJ1dHRvbiBjbGFzc05hbWU9XCJuYXZiYXItYnRuIGJ0bi1wcmltYXJ5XCI+XG4gICAgICAgIHtnZXR0ZXh0KFwiUmVnaXN0ZXJcIil9XG4gICAgICA8L1JlZ2lzdGVyQnV0dG9uPlxuICAgICAgKi99XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3RHdWVzdE5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3dHdWVzdE1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvdyhHdWVzdE1lbnUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93R3Vlc3RNZW51fT5cbiAgICAgIDxBdmF0YXIgc2l6ZT1cIjY0XCIgLz5cbiAgICA8L2J1dHRvbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEd1ZXN0TmF2LCBDb21wYWN0R3Vlc3ROYXYgfSBmcm9tICcuL2d1ZXN0LW5hdic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgVXNlck5hdiwgQ29tcGFjdFVzZXJOYXZ9IGZyb20gJy4vdXNlci1uYXYnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBpZiAodGhpcy5wcm9wcy5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiA8VXNlck5hdiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPEd1ZXN0TmF2IC8+O1xuICAgIH1cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wYWN0VXNlck1lbnUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIGlmICh0aGlzLnByb3BzLmlzQXV0aGVudGljYXRlZCkge1xuICAgICAgcmV0dXJuIDxDb21wYWN0VXNlck5hdiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPENvbXBhY3RHdWVzdE5hdiAvPjtcbiAgICB9XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5hdXRoO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQXZhdGFyIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F2YXRhcic7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IENoYW5nZUF2YXRhck1vZGFsLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2NoYW5nZS1hdmF0YXIvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBkcm9wZG93biBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9iaWxlLW5hdmJhci1kcm9wZG93bic7XG5pbXBvcnQgbW9kYWwgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL21vZGFsJztcblxuZXhwb3J0IGNsYXNzIFVzZXJNZW51IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgbG9nb3V0KCkge1xuICAgIGxldCBkZWNpc2lvbiA9IGNvbmZpcm0oZ2V0dGV4dChcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzaWduIG91dD9cIikpO1xuICAgIGlmIChkZWNpc2lvbikge1xuICAgICAgJCgnI2hpZGRlbi1sb2dvdXQtZm9ybScpLnN1Ym1pdCgpO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUF2YXRhcigpIHtcbiAgICBtb2RhbC5zaG93KGNvbm5lY3Qoc2VsZWN0KShDaGFuZ2VBdmF0YXJNb2RhbCkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gKFxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLW1lbnUgdXNlci1kcm9wZG93biBkcm9wZG93bi1tZW51LXJpZ2h0XCJcbiAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCI+XG4gICAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfTwvc3Ryb25nPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG5cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cImlzLXN0YWZmXCI+XG4gICAgICAgICAgPGEgaHJlZj17Jy9hZG1pbmNwJ30gdGFyZ2V0PSdfYmxhbmsnPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnN0YXJzPC9zcGFuPlxuICAgICAgICAgICAg566h55CG5LuL6Z2iXG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlciBpcy1zdGFmZlwiIC8+XG5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPmFjY291bnRfY2lyY2xlPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJTZWUgeW91ciBwcm9maWxlXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9e21pc2Fnby5nZXQoJ1VTRVJDUF9VUkwnKX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+ZG9uZV9hbGw8L3NwYW4+XG4gICAgICAgICAgICB7Z2V0dGV4dChcIkNoYW5nZSBvcHRpb25zXCIpfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICAgPGxpPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1saW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2hhbmdlQXZhdGFyfVxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPnBvcnRyYWl0PC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJDaGFuZ2UgYXZhdGFyXCIpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgPGEgaHJlZj17bWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX1VSTCcpfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5tZXNzYWdlPC9zcGFuPlxuICAgICAgICAgICAge2dldHRleHQoXCJQcml2YXRlIHRocmVhZHNcIil9XG4gICAgICAgICAgICA8UHJpdmF0ZVRocmVhZHNCYWRnZSB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9IC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwiZGl2aWRlclwiIC8+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93bi1idXR0b25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdCBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmxvZ291dH1cbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtnZXR0ZXh0KFwiTG9nIG91dFwiKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApO1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByaXZhdGVUaHJlYWRzQmFkZ2UocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMpIHJldHVybiBudWxsO1xuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPlxuICAgICAge3Byb3BzLnVzZXIudW5yZWFkX3ByaXZhdGVfdGhyZWFkc31cbiAgICA8L3NwYW4+XG4gICk7XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZXhwb3J0IGZ1bmN0aW9uIFVzZXJOYXYocHJvcHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cInVsIG5hdiBuYXZiYXItbmF2IG5hdi11c2VyXCI+XG4gICAgICAgIDxVc2VyUHJpdmF0ZVRocmVhZHNMaW5rIHVzZXI9e3Byb3BzLnVzZXJ9IC8+XG4gICAgICAgIDxsaSBjbGFzc05hbWU9XCJkcm9wZG93blwiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tdG9nZ2xlXCJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIlxuICAgICAgICAgICAgaHJlZj17cHJvcHMudXNlci5hYnNvbHV0ZV91cmx9XG4gICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8QXZhdGFyIHVzZXI9e3Byb3BzLnVzZXJ9IHNpemU9XCI2NFwiIC8+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxVc2VyTWVudSB1c2VyPXtwcm9wcy51c2VyfSAvPlxuICAgICAgICA8L2xpPlxuICAgICAgPC91bD5cbiAgICApO1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuZXhwb3J0IGZ1bmN0aW9uIFVzZXJQcml2YXRlVGhyZWFkc0xpbmsocHJvcHMpIHtcbiAgaWYgKCFwcm9wcy51c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHMpIHJldHVybiBudWxsO1xuXG4gIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgcmV0dXJuIChcbiAgICA8bGk+XG4gICAgICA8YVxuICAgICAgICBjbGFzc05hbWU9XCJuYXZiYXItbm90aWZpY2F0aW9uXCJcbiAgICAgICAgaHJlZj17bWlzYWdvLmdldCgnUFJJVkFURV9USFJFQURTX1VSTCcpfVxuICAgICAgICB0aXRsZT17Z2V0dGV4dChcIllvdSBoYXZlIHVucmVhZCBwcml2YXRlIHRocmVhZHMuXCIpfT5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiYWRnZVwiPlxuICAgICAgICAgIHtwcm9wcy51c2VyLnVucmVhZF9wcml2YXRlX3RocmVhZHN9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvYT5cbiAgICA8L2xpPlxuICApO1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0VXNlck1lbnUoc3RhdGUpIHtcbiAgcmV0dXJuIHt1c2VyOiBzdGF0ZS5hdXRoLnVzZXJ9O1xufVxuXG5leHBvcnQgY2xhc3MgQ29tcGFjdFVzZXJOYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzaG93VXNlck1lbnUoKSB7XG4gICAgZHJvcGRvd24uc2hvd0Nvbm5lY3RlZCgndXNlci1tZW51JywgY29ubmVjdChzZWxlY3RVc2VyTWVudSkoVXNlck1lbnUpKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuc2hvd1VzZXJNZW51fT5cbiAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPVwiNjRcIiAvPlxuICAgIDwvYnV0dG9uPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzKCkge1xuICAgIHJldHVybiBnZXRTdGF0dXNDbGFzc05hbWUodGhpcy5wcm9wcy5zdGF0dXMpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzKCl9PlxuICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgPC9zcGFuPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdGF0dXNJY29uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SWNvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gJ3JlbW92ZV9jaXJjbGVfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19oaWRkZW4pIHtcbiAgICAgIHJldHVybiAnaGVscF9vdXRsaW5lJztcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29ubGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiAnbGFiZWwnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZV9oaWRkZW4pIHtcbiAgICAgIHJldHVybiAnbGFiZWxfb3V0bGluZSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiAnbGVucyc7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vZmZsaW5lKSB7XG4gICAgICByZXR1cm4gJ3Bhbm9yYW1hX2Zpc2hfZXllJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uIHN0YXR1cy1pY29uXCI+XG4gICAgICB7dGhpcy5nZXRJY29uKCl9XG4gICAgPC9zcGFuPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIFN0YXR1c0xhYmVsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0SGVscCgpIHtcbiAgICByZXR1cm4gZ2V0U3RhdHVzRGVzY3JpcHRpb24odGhpcy5wcm9wcy51c2VyLCB0aGlzLnByb3BzLnN0YXR1cyk7XG4gIH1cblxuICBnZXRMYWJlbCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIkJhbm5lZFwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX2hpZGRlbikge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJIaWRkZW5cIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9ubGluZSAoaGlkZGVuKVwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk9mZmxpbmUgKGhpZGRlbilcIik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiT25saW5lXCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgICAgcmV0dXJuIGdldHRleHQoXCJPZmZsaW5lXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJzdGF0dXMtbGFiZWxcIn1cbiAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMuZ2V0SGVscCgpfT5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9zcGFuPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGF0dXNDbGFzc05hbWUoc3RhdHVzKSB7XG4gIGxldCBjbGFzc05hbWUgPSAnJztcbiAgaWYgKHN0YXR1cy5pc19iYW5uZWQpIHtcbiAgICBjbGFzc05hbWUgPSAnYmFubmVkJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ29mZmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ29ubGluZSc7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29mZmxpbmVfaGlkZGVuKSB7XG4gICAgY2xhc3NOYW1lID0gJ29mZmxpbmUnO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmUpIHtcbiAgICBjbGFzc05hbWUgPSAnb25saW5lJztcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIGNsYXNzTmFtZSA9ICdvZmZsaW5lJztcbiAgfVxuXG4gIHJldHVybiAndXNlci1zdGF0dXMgdXNlci0nICsgY2xhc3NOYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdHVzRGVzY3JpcHRpb24odXNlciwgc3RhdHVzKSB7XG4gIGlmIChzdGF0dXMuaXNfYmFubmVkKSB7XG4gICAgaWYgKHN0YXR1cy5iYW5uZWRfdW50aWwpIHtcbiAgICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIGJhbm5lZCB1bnRpbCAlKGJhbl9leHBpcmVzKXNcIiksIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgIGJhbl9leHBpcmVzOiBzdGF0dXMuYmFubmVkX3VudGlsLmZvcm1hdCgnTEwsIExUJylcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIiUodXNlcm5hbWUpcyBpcyBiYW5uZWRcIiksIHtcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgaGlkaW5nIHByZXNlbmNlXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vbmxpbmVfaGlkZGVuKSB7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGdldHRleHQoXCIlKHVzZXJuYW1lKXMgaXMgb25saW5lIChoaWRkZW4pXCIpLCB7XG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZVxuICAgIH0sIHRydWUpO1xuICB9IGVsc2UgaWYgKHN0YXR1cy5pc19vZmZsaW5lX2hpZGRlbikge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHdhcyBsYXN0IHNlZW4gJShsYXN0X2NsaWNrKXMgKGhpZGRlbilcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2suZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdHVzLmlzX29ubGluZSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIGlzIG9ubGluZVwiKSwge1xuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIGlmIChzdGF0dXMuaXNfb2ZmbGluZSkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShnZXR0ZXh0KFwiJSh1c2VybmFtZSlzIHdhcyBsYXN0IHNlZW4gJShsYXN0X2NsaWNrKXNcIiksIHtcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgbGFzdF9jbGljazogc3RhdHVzLmxhc3RfY2xpY2suZnJvbU5vdygpXG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWF2YXRhclwiPlxuICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjEwMFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFuZ2UtYXV0aG9yXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDEwMCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDcwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgIGFycm93X2ZvcndhcmRcbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIiBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA3MCkgKyBcInB4XCJ9fT4mbmJzcDs8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWRhdGVcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCIgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCg4MCwgMTQwKSArIFwicHhcIn19PiZuYnNwOzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXJVc2VyQXZhdGFyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPGEgaHJlZj17dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyLXdyYXBwZXJcIj5cbiAgICAgICAgPEF2YXRhciB1c2VyPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5fSBzaXplPVwiMTAwXCIgLz5cbiAgICAgIDwvYT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1hdmF0YXItd3JhcHBlclwiPlxuICAgICAgICA8QXZhdGFyIHNpemU9XCIxMDBcIiAvPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyVXNlcm5hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlLmNoYW5nZWRfYnkpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8YSBocmVmPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX2J5LmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieS51c2VybmFtZX1cbiAgICAgIDwvYT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2UuY2hhbmdlZF9ieV91c2VybmFtZX1cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJsaXN0LWdyb3VwLWl0ZW1cIiBrZXk9e3RoaXMucHJvcHMuY2hhbmdlLmlkfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF2YXRhclwiPlxuICAgICAgICB7dGhpcy5yZW5kZXJVc2VyQXZhdGFyKCl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhbmdlLWF1dGhvclwiPlxuICAgICAgICB7dGhpcy5yZW5kZXJVc2VybmFtZSgpfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZVwiPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJvbGQtdXNlcm5hbWVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGFuZ2Uub2xkX3VzZXJuYW1lfVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25cIj5cbiAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmV3LXVzZXJuYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlLm5ld191c2VybmFtZX1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW5nZS1kYXRlXCI+XG4gICAgICAgIDxhYmJyIHRpdGxlPXt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX29uLmZvcm1hdCgnTExMJyl9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoYW5nZS5jaGFuZ2VkX29uLmZyb21Ob3coKX1cbiAgICAgICAgPC9hYmJyPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmVtcHR5TWVzc2FnZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZW1wdHlNZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0dGV4dChcIk5vIG5hbWUgY2hhbmdlcyBoYXZlIGJlZW4gcmVjb3JkZWQgZm9yIHlvdXIgYWNjb3VudC5cIik7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXJlYWR5XCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtIGVtcHR5LW1lc3NhZ2VcIj5cbiAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgPC9saT5cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZVByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcm5hbWUtaGlzdG9yeS9jaGFuZ2UtcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZS1oaXN0b3J5IHVpLXByZXZpZXdcIj5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWdyb3VwXCI+XG4gICAgICAgIHtbMCwgMSwgMl0ubWFwKChpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxDaGFuZ2VQcmV2aWV3IGhpZGRlbk9uTW9iaWxlPXtpID4gMH0ga2V5PXtpfSAvPlxuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IENoYW5nZSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2NoYW5nZSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcm5hbWUtaGlzdG9yeSB1aS1yZWFkeVwiPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAge3RoaXMucHJvcHMuY2hhbmdlcy5tYXAoKGNoYW5nZSkgPT4ge1xuICAgICAgICAgIHJldHVybiA8Q2hhbmdlIGNoYW5nZT17Y2hhbmdlfSBrZXk9e2NoYW5nZS5pZH0gLz47XG4gICAgICAgIH0pfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTGlzdEVtcHR5IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJuYW1lLWhpc3RvcnkvbGlzdC1lbXB0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RSZWFkeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcmVhZHknOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaXN0UHJldmlldyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2VybmFtZS1oaXN0b3J5L2xpc3QtcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0xvYWRlZCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RSZWFkeSBjaGFuZ2VzPXt0aGlzLnByb3BzLmNoYW5nZXN9IC8+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPExpc3RFbXB0eSBlbXB0eU1lc3NhZ2U9e3RoaXMucHJvcHMuZW1wdHlNZXNzYWdlfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBVc2VyQ2FyZCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0L3VzZXItY2FyZCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlclByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMtbGlzdC91c2VyLXByZXZpZXcnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IGJhdGNoIGZyb20gJ21pc2Fnby91dGlscy9iYXRjaCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gbmV4dFByb3BzLmlzTG9hZGVkO1xuICB9XG5cbiAgZ2V0UGFnZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFnZXMgPiAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFBhZ2VyIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgcmV0dXJuIFwidXNlcnMtY2FyZHMtbGlzdCBcIiArIHRoaXMucHJvcHMuY2xhc3NOYW1lICsgXCIgdWktcmVhZHlcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwidXNlcnMtY2FyZHMtbGlzdCB1aS1yZWFkeVwiO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gXCJjb2wtbWQtXCIgKyAoMTIgLyB0aGlzLnByb3BzLmNvbHMpO1xuICB9XG5cbiAgZ2V0Qm9keSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0xvYWRlZCkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIGJhdGNoKHRoaXMucHJvcHMudXNlcnMsIHRoaXMucHJvcHMuY29scykubWFwKChyb3csIHIpID0+IHtcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicm93XCIga2V5PXtyfT5cbiAgICAgICAgICB7cm93Lm1hcCgodXNlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbENsYXNzTmFtZSgpfSBrZXk9e3VzZXIuaWR9PlxuICAgICAgICAgICAgICA8VXNlckNhcmQgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXM9e3RoaXMucHJvcHMuc2hvd1N0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dSYW5rPXt0aGlzLnByb3BzLnNob3dSYW5rfSAvPlxuICAgICAgICAgICAgPC9kaXY+O1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj47XG4gICAgICB9KTtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIGxldCByb3cgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5jb2xzOyBpICsrKSB7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgcm93LnB1c2godGhpcy5nZXRDb2xDbGFzc05hbWUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm93LnB1c2godGhpcy5nZXRDb2xDbGFzc05hbWUoKSArICcgaGlkZGVuLXhzIGhpZGRlbi1zbScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICB7cm93Lm1hcCgoY2xhc3NOYW1lLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9IGtleT17aX0+XG4gICAgICAgICAgICA8VXNlclByZXZpZXcgc2hvd1N0YXR1cz17dGhpcy5wcm9wcy5zaG93U3RhdHVzfSAvPlxuICAgICAgICAgIDwvZGl2PjtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidXNlcnMtY2FyZHMtbGlzdCB1aS1yZWFkeVwiPlxuICAgICAge3RoaXMuZ2V0Qm9keSgpfVxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0VXNlclN0YXR1cygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zaG93U3RhdHVzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VyLnN0YXR1cykge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfT5cbiAgICAgICAgICA8U3RhdHVzSWNvbiB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfSAvPlxuICAgICAgICAgIDxTdGF0dXNMYWJlbCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz17dGhpcy5wcm9wcy51c2VyLnN0YXR1c31cbiAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsXCIgLz5cbiAgICAgICAgPC9TdGF0dXM+O1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmFua05hbWUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd1JhbmspIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnVzZXIucmFuay5pc190YWIpIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICByZXR1cm4gPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLnJhbmsuYWJzb2x1dGVfdXJsfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbS10aXRsZSByYW5rLW5hbWVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnJhbmsubmFtZX1cbiAgICAgICAgPC9hPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGUgcmFuay1uYW1lXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMudXNlci5yYW5rLm5hbWV9XG4gICAgICAgIDwvc3Bhbj47XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJUaXRsZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLnRpdGxlKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci10aXRsZVwiPnt0aGlzLnByb3BzLnVzZXIudGl0bGV9PC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJKb2luZWRPbigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgbGV0IHRpdGxlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkpvaW5lZCBvbiAlKGpvaW5lZF9vbilzXCIpLCB7XG4gICAgICAnam9pbmVkX29uJzogdGhpcy5wcm9wcy51c2VyLmpvaW5lZF9vbi5mb3JtYXQoJ0xMLCBMVCcpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBsZXQgYWdlID0gaW50ZXJwb2xhdGUoZ2V0dGV4dChcIkpvaW5lZCAlKGpvaW5lZF9vbilzXCIpLCB7XG4gICAgICAnam9pbmVkX29uJzogdGhpcy5wcm9wcy51c2VyLmpvaW5lZF9vbi5mcm9tTm93KClcbiAgICB9LCB0cnVlKTtcblxuICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiIHRpdGxlPXt0aXRsZX0+XG4gICAgICB7YWdlfVxuICAgIDwvc3Bhbj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxuXG4gIGdldFBvc3RzQ291bnQoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJShwb3N0cylzIHBvc3RcIixcbiAgICAgIFwiJShwb3N0cylzIHBvc3RzXCIsXG4gICAgICB0aGlzLnByb3BzLnVzZXIucG9zdHMpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgICdwb3N0cyc6IHRoaXMucHJvcHMudXNlci5wb3N0c1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0VGhyZWFkc0NvdW50KCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICBcIiUodGhyZWFkcylzIHRocmVhZFwiLFxuICAgICAgXCIlKHRocmVhZHMpcyB0aHJlYWRzXCIsXG4gICAgICB0aGlzLnByb3BzLnVzZXIudGhyZWFkcyk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ3RocmVhZHMnOiB0aGlzLnByb3BzLnVzZXIudGhyZWFkc1xuICAgIH0sIHRydWUpO1xuICB9XG5cbiAgZ2V0Rm9sbG93ZXJzQ291bnQoKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBuZ2V0dGV4dChcbiAgICAgIFwiJShmb2xsb3dlcnMpcyBmb2xsb3dlclwiLFxuICAgICAgXCIlKGZvbGxvd2VycylzIGZvbGxvd2Vyc1wiLFxuICAgICAgdGhpcy5wcm9wcy51c2VyLmZvbGxvd2Vycyk7XG5cbiAgICByZXR1cm4gaW50ZXJwb2xhdGUobWVzc2FnZSwge1xuICAgICAgJ2ZvbGxvd2Vycyc6IHRoaXMucHJvcHMudXNlci5mb2xsb3dlcnNcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy51c2VyLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ3VzZXItY2FyZCB1c2VyLWNhcmQtJyArIHRoaXMucHJvcHMudXNlci5yYW5rLmNzc19jbGFzcyArICcgdWktcmVhZHknO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3VzZXItY2FyZCB1aS1yZWFkeSc7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYmctaW1hZ2VcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPXs2MH0gc2l6ZTJ4PXsxMDB9IC8+XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9IGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnVzZXJuYW1lfVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2g0PlxuXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ1c2VyLXN1YnNjcmlwdFwiPlxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VyU3RhdHVzKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFJhbmtOYW1lKCl9XG4gICAgICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICAgICAgICB7dGhpcy5nZXRVc2VySm9pbmVkT24oKX1cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1jYXJkLXN0YXRzXCI+XG5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LXVuc3R5bGVkXCI+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLXBvc3RzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0UG9zdHNDb3VudCgpfVxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci10aHJlYWRzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2V0VGhyZWFkc0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJ1c2VyLWZvbGxvd2Vycy1jb3VudFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEZvbGxvd2Vyc0NvdW50KCl9XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc2hvd1N0YXR1cykge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1pY29uIHVpLXByZXZpZXctdGV4dFwiPlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInN0YXR1cy1sYWJlbCB1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAmbmJzcDtcbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSd1c2VyLWNhcmQgdWktcHJldmlldyc+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItY2FyZC1iZy1pbWFnZVwiPlxuICAgICAgICA8QXZhdGFyIHNpemU9XCI0MDBcIiBjbGFzc05hbWU9XCJiZy1pbWFnZVwiIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtYmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItYXZhdGFyXCI+XG4gICAgICAgICAgICAgIDxBdmF0YXIgc2l6ZT1cIjQwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGVtLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDYwLCAxNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInVzZXItc3Vic2NyaXB0XCI+XG5cbiAgICAgICAgICAgICAge3RoaXMuZ2V0VXNlclN0YXR1cygpfVxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1c2VyLWpvaW5lZC1vblwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNhcmQtc3RhdHNcIj5cblxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtdW5zdHlsZWRcIj5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItcG9zdHMtY291bnRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoNDAsIDcwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwidXNlci10aHJlYWRzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDQwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cInVzZXItZm9sbG93ZXJzLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDQwLCA3MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0RW1wdHlNZXNzYWdlKCkge1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGdldHRleHQoXCJObyB1c2VycyBoYXZlIHBvc3RlZCBhbnkgbmV3IG1lc3NhZ2VzIGR1cmluZyBsYXN0ICUoZGF5cylzIGRheXMuXCIpLFxuICAgICAgeydkYXlzJzogdGhpcy5wcm9wcy50cmFja2VkUGVyaW9kfSwgdHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzLWxpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7dGhpcy5nZXRFbXB0eU1lc3NhZ2UoKX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF2YXRhciBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9hdmF0YXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5Pbk1vYmlsZSkge1xuICAgICAgcmV0dXJuICdsaXN0LWdyb3VwLWl0ZW0gaGlkZGVuLXhzIGhpZGRlbi1zbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbGlzdC1ncm91cC1pdGVtJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8bGkgY2xhc3NOYW1lPXt0aGlzLmdldENsYXNzTmFtZSgpfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyLWF2YXRhclwiPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8QXZhdGFyIHNpemU9XCI1MFwiIC8+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstdXNlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItbmFtZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0ZW0tdGl0bGVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA4MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItc3RhdHVzXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtaWNvbiB1aS1wcmV2aWV3LXRleHRcIj5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgdWktcHJldmlldy10ZXh0IGhpZGRlbi14cyBoaWRkZW4tc21cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWVcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDMwLCA1MCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMzAsIDUwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3NpdGlvblwiPlxuICAgICAgICA8c3Ryb25nPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInVpLXByZXZpZXctdGV4dFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgyMCwgMzApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLWNvdW50ZWRcIj5cbiAgICAgICAgPHN0cm9uZz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ1aS1wcmV2aWV3LXRleHRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IHJhbmRvbS5pbnQoMjAsIDMwKSArIFwicHhcIn19PlxuICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L3N0cm9uZz5cbiAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua2VkIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXBvc3RzLXRvdGFsXCI+XG4gICAgICAgIDxzdHJvbmc+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDIwLCAzMCkgKyBcInB4XCJ9fT5cbiAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9zdHJvbmc+XG4gICAgICAgIDxzbWFsbD57Z2V0dGV4dChcIlRvdGFsIHBvc3RzXCIpfTwvc21hbGw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBBdmF0YXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYXZhdGFyJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c0ljb24sIFN0YXR1c0xhYmVsIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlci1zdGF0dXMnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgKiBhcyByYW5kb20gZnJvbSAnbWlzYWdvL3V0aWxzL3JhbmRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yYW5rLmNzc19jbGFzcykge1xuICAgICAgcmV0dXJuIFwibGlzdC1ncm91cC1pdGVtIGxpc3QtZ3JvdXAtcmFuay1cIiArIHRoaXMucHJvcHMucmFuay5jc3NfY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcImxpc3QtZ3JvdXAtaXRlbVwiO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci5zdGF0dXMpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8U3RhdHVzIHVzZXI9e3RoaXMucHJvcHMudXNlcn0gc3RhdHVzPXt0aGlzLnByb3BzLnVzZXIuc3RhdHVzfT5cbiAgICAgICAgPFN0YXR1c0ljb24gdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9IC8+XG4gICAgICAgIDxTdGF0dXNMYWJlbCB1c2VyPXt0aGlzLnByb3BzLnVzZXJ9XG4gICAgICAgICAgICAgICAgICAgICBzdGF0dXM9e3RoaXMucHJvcHMudXNlci5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGF0dXMtbGFiZWwgaGlkZGVuLXhzIGhpZGRlbi1zbVwiIC8+XG4gICAgICA8L1N0YXR1cz47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidXNlci1zdGF0dXNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWljb24gdWktcHJldmlldy10ZXh0XCI+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3RhdHVzLWxhYmVsIHVpLXByZXZpZXctdGV4dCBoaWRkZW4teHMgaGlkZGVuLXNtXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogcmFuZG9tLmludCgzMCwgNTApICsgXCJweFwifX0+XG4gICAgICAgICAgJm5ic3A7XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmtOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJhbmsuaXNfdGFiKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgcmFua1VybCA9IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyB0aGlzLnByb3BzLnJhbmsuc2x1ZyArICcvJztcbiAgICAgIHJldHVybiA8TGluayB0bz17cmFua1VybH0gY2xhc3NOYW1lPVwicmFuay1uYW1lIGl0ZW0tdGl0bGVcIj5cbiAgICAgICAge3RoaXMucHJvcHMucmFuay5uYW1lfVxuICAgICAgPC9MaW5rPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJyYW5rLW5hbWUgaXRlbS10aXRsZVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5yYW5rLm5hbWV9XG4gICAgICA8L3NwYW4+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cblxuICBnZXRVc2VyVGl0bGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudXNlci50aXRsZSkge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInVzZXItdGl0bGUgaGlkZGVuLXhzIGhpZGRlbi1zbVwiPlxuICAgICAgICB7dGhpcy5wcm9wcy51c2VyLnRpdGxlfVxuICAgICAgPC9zcGFuPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyYW5rLXVzZXItYXZhdGFyXCI+XG4gICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMudXNlci5hYnNvbHV0ZV91cmx9PlxuICAgICAgICAgIDxBdmF0YXIgdXNlcj17dGhpcy5wcm9wcy51c2VyfSBzaXplPXs1MH0gc2l6ZTJ4PXs2NH0gLz5cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay11c2VyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidXNlci1uYW1lXCI+XG4gICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy51c2VyLmFic29sdXRlX3VybH0gY2xhc3NOYW1lPVwiaXRlbS10aXRsZVwiPlxuICAgICAgICAgICAge3RoaXMucHJvcHMudXNlci51c2VybmFtZX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItZGV0YWlsc1wiPlxuICAgICAgICAgIHt0aGlzLmdldFVzZXJTdGF0dXMoKX1cbiAgICAgICAgICB7dGhpcy5nZXRSYW5rTmFtZSgpfVxuICAgICAgICAgIHt0aGlzLmdldFVzZXJUaXRsZSgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zaXRpb25cIj5cbiAgICAgICAgPHN0cm9uZz4je3RoaXMucHJvcHMuY291bnRlcn08L3N0cm9uZz5cbiAgICAgICAgPHNtYWxsPntnZXR0ZXh0KFwiUmFua1wiKX08L3NtYWxsPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmFuay1wb3N0cy1jb3VudGVkXCI+XG4gICAgICAgIDxzdHJvbmc+e3RoaXMucHJvcHMudXNlci5tZXRhLnNjb3JlfTwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJSYW5rZWQgcG9zdHNcIil9PC9zbWFsbD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJhbmstcG9zdHMtdG90YWxcIj5cbiAgICAgICAgPHN0cm9uZz57dGhpcy5wcm9wcy51c2VyLnBvc3RzfTwvc3Ryb25nPlxuICAgICAgICA8c21hbGw+e2dldHRleHQoXCJUb3RhbCBwb3N0c1wiKX08L3NtYWxsPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSXRlbVByZXZpZXcgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1pdGVtLXByZXZpZXcnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCAqIGFzIHJhbmRvbSBmcm9tICdtaXNhZ28vdXRpbHMvcmFuZG9tJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZCB1aS1wcmV2aWV3XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidWktcHJldmlldy10ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiByYW5kb20uaW50KDUwLCAyMjApICsgXCJweFwifX0+XG4gICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzIHVpLXByZXZpZXdcIj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1ncm91cFwiPlxuICAgICAgICAgICAge1swLCAxLCAyXS5tYXAoKGkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxJdGVtUHJldmlldyBoaWRkZW5Pbk1vYmlsZT17aSA+IDB9IGtleT17aX0gLz5cbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IExpc3RJdGVtIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtaXRlbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldExlYWRNZXNzYWdlKCkge1xuICAgIGxldCBtZXNzYWdlID0gbmdldHRleHQoXG4gICAgICAgIFwiJShwb3N0ZXJzKXMgbW9zdCBhY3RpdmUgcG9zdGVyIGZyb20gbGFzdCAlKGRheXMpcyBkYXlzLlwiLFxuICAgICAgICBcIiUocG9zdGVycylzIG1vc3QgYWN0aXZlIHBvc3RlcnMgZnJvbSBsYXN0ICUoZGF5cylzIGRheXMuXCIsXG4gICAgICAgIHRoaXMucHJvcHMuY291bnQpO1xuXG4gICAgcmV0dXJuIGludGVycG9sYXRlKG1lc3NhZ2UsIHtcbiAgICAgIHBvc3RlcnM6IHRoaXMucHJvcHMuY291bnQsXG4gICAgICBkYXlzOiB0aGlzLnByb3BzLnRyYWNrZWRQZXJpb2RcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiYWN0aXZlLXBvc3RlcnMtbGlzdFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPlxuICAgICAgICAgIHt0aGlzLmdldExlYWRNZXNzYWdlKCl9XG4gICAgICAgIDwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGl2ZS1wb3N0ZXJzIHVpLXJlYWR5XCI+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLnVzZXJzLm1hcCgodXNlciwgaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPExpc3RJdGVtIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuaz17dXNlci5yYW5rfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ZXI9e2kgKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dXNlci5pZH0gLz47XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMaXN0RW1wdHkgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvbGlzdC1lbXB0eSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RQcmV2aWV3IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL2FjdGl2ZS1wb3N0ZXJzL2xpc3QtcHJldmlldyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RSZWFkeSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9hY3RpdmUtcG9zdGVycy9saXN0LXJlYWR5JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3VzZXJzJztcbmltcG9ydCBwb2xscyBmcm9tICdtaXNhZ28vc2VydmljZXMvcG9sbHMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgdGl0bGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BhZ2UtdGl0bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKG1pc2Fnby5oYXMoJ1VTRVJTJykpIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhQcmVsb2FkZWREYXRhKG1pc2Fnby5wb3AoJ1VTRVJTJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcblxuICAgICAgdHJhY2tlZFBlcmlvZDogZGF0YS50cmFja2VkX3BlcmlvZCxcbiAgICAgIGNvdW50OiBkYXRhLmNvdW50XG4gICAgfTtcblxuICAgIHN0b3JlLmRpc3BhdGNoKGh5ZHJhdGUoZGF0YS5yZXN1bHRzKSk7XG4gIH1cblxuICBpbml0V2l0aG91dFByZWxvYWRlZERhdGEoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBzdGFydFBvbGxpbmcoKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ2FjdGl2ZS1wb3N0ZXJzJyxcbiAgICAgIHVybDogbWlzYWdvLmdldCgnVVNFUlNfQVBJJyksXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGxpc3Q6ICdhY3RpdmUnXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG5cbiAgICAgIHRyYWNrZWRQZXJpb2Q6IGRhdGEudHJhY2tlZF9wZXJpb2QsXG4gICAgICBjb3VudDogZGF0YS5jb3VudFxuICAgIH0pO1xuICB9O1xuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRpdGxlLnNldCh7XG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5yb3V0ZS5leHRyYS5uYW1lLFxuICAgICAgcGFyZW50OiBnZXR0ZXh0KFwiVXNlcnNcIilcbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHBvbGxzLnN0b3AoJ2FjdGl2ZS1wb3N0ZXJzJyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNMb2FkZWQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNvdW50ID4gMCkge1xuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIHJldHVybiA8TGlzdFJlYWR5IHVzZXJzPXt0aGlzLnByb3BzLnVzZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFja2VkUGVyaW9kPXt0aGlzLnN0YXRlLnRyYWNrZWRQZXJpb2R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50PXt0aGlzLnN0YXRlLmNvdW50fSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxMaXN0RW1wdHkgdHJhY2tlZFBlcmlvZD17dGhpcy5zdGF0ZS50cmFja2VkUGVyaW9kfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMaXN0UHJldmlldyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBMaSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9saSc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7IC8vanNoaW50IGlnbm9yZTpsaW5lXG5cbi8vIGpzaGludCBpZ25vcmU6c3RhcnRcbmxldCBsaXN0VXJsID0gZnVuY3Rpb24oYmFzZVVybCwgbGlzdCkge1xuICBsZXQgdXJsID0gYmFzZVVybDtcbiAgaWYgKGxpc3QuY29tcG9uZW50ID09PSAncmFuaycpIHtcbiAgICB1cmwgKz0gbGlzdC5zbHVnO1xuICB9IGVsc2Uge1xuICAgIHVybCArPSBsaXN0LmNvbXBvbmVudDtcbiAgfVxuICByZXR1cm4gdXJsICsgJy8nO1xufTtcblxubGV0IG5hdkxpbmtzID0gZnVuY3Rpb24oYmFzZVVybCwgbGlzdHMsIGhpZGVOYXYpIHtcbiAgICByZXR1cm4gbGlzdHMubWFwKGZ1bmN0aW9uKGxpc3QpIHtcbiAgICAgIGxldCB1cmwgPSBsaXN0VXJsKGJhc2VVcmwsIGxpc3QpO1xuICAgICAgcmV0dXJuIDxMaSBwYXRoPXt1cmx9XG4gICAgICAgICAgICAgICAgIGtleT17dXJsfT5cbiAgICAgICAgPExpbmsgdG89e3VybH0gb25DbGljaz17aGlkZU5hdn0+XG4gICAgICAgICAge2xpc3QubmFtZX1cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9MaT47XG4gIH0pO1xufTtcbi8vIGpzaGludCBpZ25vcmU6ZW5kXG5cbmV4cG9ydCBjbGFzcyBUYWJzTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgICByZXR1cm4gPHVsIGNsYXNzTmFtZT1cIm5hdiBuYXYtcGlsbHNcIj5cbiAgICAgIHtuYXZMaW5rcyh0aGlzLnByb3BzLmJhc2VVcmwsIHRoaXMucHJvcHMubGlzdHMpfVxuICAgIDwvdWw+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhY3ROYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgLy8ganNoaW50IGlnbm9yZTpzdGFydFxuICAgIHJldHVybiA8dWwgY2xhc3NOYW1lPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICB7bmF2TGlua3ModGhpcy5wcm9wcy5iYXNlVXJsLCB0aGlzLnByb3BzLmxpc3RzLCB0aGlzLnByb3BzLmhpZGVOYXYpfVxuICAgIDwvdWw+O1xuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFVzZXJzTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy1saXN0L3Jvb3QnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2PlxuICAgICAgPFVzZXJzTGlzdCBpc0xvYWRlZD17ZmFsc2V9IGNvbHM9ezN9IHNob3dTdGF0dXM9e3RydWV9IC8+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFnZXIgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9wYWdlcicgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgVXNlcnNMaXN0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzLWxpc3Qvcm9vdCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0UGFnZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucGFnZXMgPiAxKSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICByZXR1cm4gPFBhZ2VyIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdj5cbiAgICAgIDxVc2Vyc0xpc3QgdXNlcnM9e3RoaXMucHJvcHMudXNlcnN9XG4gICAgICAgICAgICAgICAgIHNob3dTdGF0dXM9e3RydWV9XG4gICAgICAgICAgICAgICAgIGNvbHM9ezN9XG4gICAgICAgICAgICAgICAgIGlzTG9hZGVkPXt0cnVlfSAvPlxuXG4gICAgICB7dGhpcy5nZXRQYWdlcigpfVxuICAgIDwvZGl2PjtcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCByZXNldFNjcm9sbCBmcm9tICdtaXNhZ28vdXRpbHMvcmVzZXQtc2Nyb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2V0UHJldmlvdXNQYWdlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnByZXZpb3VzIHx8IHRoaXMucHJvcHMuZmlyc3QpIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIGxldCB1cmwgPSB0aGlzLnByb3BzLmJhc2VVcmw7XG4gICAgICBpZiAodGhpcy5wcm9wcy5wcmV2aW91cykge1xuICAgICAgICB1cmwgKz0gdGhpcy5wcm9wcy5wcmV2aW91cyArICcvJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJwcmV2aW91c1wiPlxuICAgICAgICA8TGluayB0bz17dXJsfSBvbkNsaWNrPXtyZXNldFNjcm9sbH0+XG4gICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCIgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvblwiPlxuICAgICAgICAgICAgYXJyb3dfYmFja1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9MaW5rPlxuICAgICAgPC9saT47XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXROZXh0UGFnZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5uZXh0KSB7XG4gICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICBsZXQgdXJsID0gdGhpcy5wcm9wcy5iYXNlVXJsICsgdGhpcy5wcm9wcy5uZXh0ICsgJy8nO1xuICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJuZXh0XCI+XG4gICAgICAgIDxMaW5rIHRvPXt1cmx9IG9uQ2xpY2s9e3Jlc2V0U2Nyb2xsfT5cbiAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgICAgICBhcnJvd19mb3J3YXJkXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L0xpbms+XG4gICAgICA8L2xpPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwicGFnZXItdW5kZXJjb250ZW50XCI+XG4gICAgICA8bmF2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwicGFnZXJcIj5cbiAgICAgICAgICB7dGhpcy5nZXRQcmV2aW91c1BhZ2UoKX1cbiAgICAgICAgICB7dGhpcy5nZXROZXh0UGFnZSgpfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9uYXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBhZ2VMZWFkIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3BhZ2UtbGVhZCcgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgTGlzdCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy91c2Vycy9yYW5rL2xpc3QnIC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IExpc3RMb2FkaW5nIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXJzL3JhbmsvbGlzdC1sb2FkaW5nJyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IGh5ZHJhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuaW1wb3J0IHBvbGxzIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wb2xscyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcbmltcG9ydCB0aXRsZSBmcm9tICdtaXNhZ28vc2VydmljZXMvcGFnZS10aXRsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAobWlzYWdvLmhhcygnVVNFUlMnKSkge1xuICAgICAgdGhpcy5pbml0V2l0aFByZWxvYWRlZERhdGEobWlzYWdvLnBvcCgnVVNFUlMnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdFdpdGhvdXRQcmVsb2FkZWREYXRhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFBvbGxpbmcocHJvcHMucGFyYW1zLnBhZ2UgfHwgMSk7XG4gIH1cblxuICBpbml0V2l0aFByZWxvYWRlZERhdGEoZGF0YSkge1xuICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKGRhdGEsIHtcbiAgICAgIGlzTG9hZGVkOiB0cnVlXG4gICAgfSk7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcbiAgfVxuXG4gIGluaXRXaXRob3V0UHJlbG9hZGVkRGF0YSgpIHtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0UG9sbGluZyhwYWdlKSB7XG4gICAgcG9sbHMuc3RhcnQoe1xuICAgICAgcG9sbDogJ3JhbmstdXNlcnMnLFxuICAgICAgdXJsOiBtaXNhZ28uZ2V0KCdVU0VSU19BUEknKSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmFuazogdGhpcy5wcm9wcy5yb3V0ZS5yYW5rLmlkLFxuICAgICAgICBwYWdlOiBwYWdlXG4gICAgICB9LFxuICAgICAgZnJlcXVlbmN5OiA5MCAqIDEwMDAsXG4gICAgICB1cGRhdGU6IHRoaXMudXBkYXRlXG4gICAgfSk7XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHVwZGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShkYXRhLnJlc3VsdHMpKTtcblxuICAgIGRhdGEuaXNMb2FkZWQgPSB0cnVlO1xuICAgIHRoaXMuc2V0U3RhdGUoZGF0YSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGl0bGUuc2V0KHtcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsubmFtZSxcbiAgICAgIHBhZ2U6IHRoaXMucHJvcHMucGFyYW1zLnBhZ2UgfHwgbnVsbCxcbiAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBwb2xscy5zdG9wKCdyYW5rLXVzZXJzJyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLnBhcmFtcy5wYWdlICE9PSBuZXh0UHJvcHMucGFyYW1zLnBhZ2UpIHtcbiAgICAgIHRpdGxlLnNldCh7XG4gICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnJvdXRlLnJhbmsubmFtZSxcbiAgICAgICAgcGFnZTogbmV4dFByb3BzLnBhcmFtcy5wYWdlIHx8IG51bGwsXG4gICAgICAgIHBhcmVudDogZ2V0dGV4dChcIlVzZXJzXCIpXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTG9hZGVkOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHBvbGxzLnN0b3AoJ3JhbmstdXNlcnMnKTtcbiAgICAgIHRoaXMuc3RhcnRQb2xsaW5nKG5leHRQcm9wcy5wYXJhbXMucGFnZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzKSB7XG4gICAgICByZXR1cm4gJ3JhbmstdXNlcnMtbGlzdCByYW5rLXVzZXJzLScgKyB0aGlzLnByb3BzLnJvdXRlLnJhbmsuY3NzX2NsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3JhbmstdXNlcnMtbGlzdCc7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmFua0Rlc2NyaXB0aW9uKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvdXRlLnJhbmsuZGVzY3JpcHRpb24pIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInJhbmstZGVzY3JpcHRpb25cIj5cbiAgICAgICAgPFBhZ2VMZWFkIGNvcHk9e3RoaXMucHJvcHMucm91dGUucmFuay5kZXNjcmlwdGlvbi5odG1sfSAvPlxuICAgICAgPC9kaXY+O1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29tcG9uZW50KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5jb3VudCA+IDApIHtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICBsZXQgYmFzZVVybCA9IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyB0aGlzLnByb3BzLnJvdXRlLnJhbmsuc2x1ZyArICcvJztcbiAgICAgICAgcmV0dXJuIDxMaXN0IGJhc2VVcmw9e2Jhc2VVcmx9XG4gICAgICAgICAgICAgICAgICAgICB1c2Vycz17dGhpcy5wcm9wcy51c2Vyc31cbiAgICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnN0YXRlfSAvPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgICAgcmV0dXJuIDxwIGNsYXNzTmFtZT1cImxlYWRcIj5cbiAgICAgICAgICB7Z2V0dGV4dChcIlRoZXJlIGFyZSBubyB1c2VycyB3aXRoIHRoaXMgcmFuayBhdCB0aGUgbW9tZW50LlwiKX1cbiAgICAgICAgPC9wPjtcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgcmV0dXJuIDxMaXN0TG9hZGluZyAvPjtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAge3RoaXMuZ2V0UmFua0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgIHt0aGlzLmdldENvbXBvbmVudCgpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgRHJvcGRvd25Ub2dnbGUgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvZHJvcGRvd24tdG9nZ2xlJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgeyBUYWJzTmF2LCBDb21wYWN0TmF2IH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvbmF2cyc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEFjdGl2ZVBvc3RlcnMgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvYWN0aXZlLXBvc3RlcnMvcm9vdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJhbmsgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcmFuay9yb290JztcbmltcG9ydCBXaXRoRHJvcGRvd24gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvd2l0aC1kcm9wZG93bic7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgV2l0aERyb3Bkb3duIHtcbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJwYWdlIHBhZ2UtdXNlcnMtbGlzdHNcIj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlLWhlYWRlciB0YWJiZWRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cblxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwdWxsLWxlZnRcIj57Z2V0dGV4dChcIlVzZXJzXCIpfTwvaDE+XG5cbiAgICAgICAgICA8RHJvcGRvd25Ub2dnbGUgdG9nZ2xlTmF2PXt0aGlzLnRvZ2dsZU5hdn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd249e3RoaXMuc3RhdGUuZHJvcGRvd259IC8+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS10YWJzIGhpZGRlbi14cyBoaWRkZW4tc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuXG4gICAgICAgICAgICA8VGFic05hdiBsaXN0cz17bWlzYWdvLmdldCgnVVNFUlNfTElTVFMnKX1cbiAgICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9IC8+XG5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLmdldENvbXBhY3ROYXZDbGFzc05hbWUoKX0+XG5cbiAgICAgICAgPENvbXBhY3ROYXYgbGlzdHM9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RTJyl9XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVcmw9e21pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyl9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVOYXY9e3RoaXMuaGlkZU5hdn0gLz5cblxuICAgICAgPC9kaXY+XG5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXG4gICAgPC9kaXY+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChzdG9yZSkge1xuICByZXR1cm4ge1xuICAgICd0aWNrJzogc3RvcmUudGljay50aWNrLFxuICAgICd1c2VyJzogc3RvcmUuYXV0aC51c2VyLFxuICAgICd1c2Vycyc6IHN0b3JlLnVzZXJzXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRocygpIHtcbiAgbGV0IHBhdGhzID0gW107XG5cbiAgbWlzYWdvLmdldCgnVVNFUlNfTElTVFMnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5jb21wb25lbnQgPT09ICdyYW5rJykge1xuICAgICAgcGF0aHMucHVzaCh7XG4gICAgICAgIHBhdGg6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJykgKyBpdGVtLnNsdWcgKyAnLzpwYWdlLycsXG4gICAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFJhbmspLFxuICAgICAgICByYW5rOiBpdGVtXG4gICAgICB9KTtcbiAgICAgIHBhdGhzLnB1c2goe1xuICAgICAgICBwYXRoOiBtaXNhZ28uZ2V0KCdVU0VSU19MSVNUX1VSTCcpICsgaXRlbS5zbHVnICsgJy8nLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShSYW5rKSxcbiAgICAgICAgcmFuazogaXRlbVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpdGVtLmNvbXBvbmVudCA9PT0gJ2FjdGl2ZS1wb3N0ZXJzJyl7XG4gICAgICBwYXRocy5wdXNoKHtcbiAgICAgICAgcGF0aDogbWlzYWdvLmdldCgnVVNFUlNfTElTVF9VUkwnKSArIGl0ZW0uY29tcG9uZW50ICsgJy8nLFxuICAgICAgICBjb21wb25lbnQ6IGNvbm5lY3Qoc2VsZWN0KShBY3RpdmVQb3N0ZXJzKSxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICBuYW1lOiBpdGVtLm5hbWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGF0aHM7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRyb3Bkb3duOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIHRvZ2dsZU5hdiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyb3Bkb3duOiAhdGhpcy5zdGF0ZS5kcm9wZG93blxuICAgIH0pO1xuICB9O1xuXG4gIGhpZGVOYXYgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcm9wZG93bjogZmFsc2VcbiAgICB9KTtcbiAgfTtcbiAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuICBnZXRDb21wYWN0TmF2Q2xhc3NOYW1lKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmRyb3Bkb3duKSB7XG4gICAgICByZXR1cm4gJ2NvbXBhY3QtbmF2IG9wZW4nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2NvbXBhY3QtbmF2JztcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGdldENsYXNzTmFtZSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiYnRuIGJ0bi15ZXMtbm8gYnRuLXllcy1uby1vblwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJidG4gYnRuLXllcy1ubyBidG4teWVzLW5vLW9mZlwiO1xuICAgIH1cbiAgfVxuXG4gIGdldEljb24oKSB7XG4gICAgaWYgKCEhdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaWNvbk9uIHx8ICdjaGVja19ib3gnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5pY29uT2ZmIHx8ICdjaGVja19ib3hfb3V0bGluZV9ibGFuayc7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFiZWwoKSB7XG4gICAgaWYgKCEhdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMubGFiZWxPbiB8fCBnZXR0ZXh0KFwieWVzXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5sYWJlbE9mZiB8fCBnZXR0ZXh0KFwibm9cIik7XG4gICAgfVxuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICB0YXJnZXQ6IHtcbiAgICAgICAgdmFsdWU6ICF0aGlzLnByb3BzLnZhbHVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgcmVuZGVyKCkge1xuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICByZXR1cm4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZX1cbiAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMuZ2V0Q2xhc3NOYW1lKCl9XG4gICAgICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuaWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXt0aGlzLnByb3BzWydhcmlhLWRlc2NyaWJlZGJ5J10gfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZCB8fCBmYWxzZX0+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uXCI+XG4gICAgICAgIHt0aGlzLmdldEljb24oKX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIHt0aGlzLmdldExhYmVsKCl9XG4gICAgPC9idXR0b24+O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gIH1cbn0iLCJpbXBvcnQgT3JkZXJlZExpc3QgZnJvbSAnbWlzYWdvL3V0aWxzL29yZGVyZWQtbGlzdCc7XG5cbmV4cG9ydCBjbGFzcyBNaXNhZ28ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMgPSBbXTtcbiAgICB0aGlzLl9jb250ZXh0ID0ge307XG4gIH1cblxuICBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcikge1xuICAgIHRoaXMuX2luaXRpYWxpemVycy5wdXNoKHtcbiAgICAgIGtleTogaW5pdGlhbGl6ZXIubmFtZSxcblxuICAgICAgaXRlbTogaW5pdGlhbGl6ZXIuaW5pdGlhbGl6ZXIsXG5cbiAgICAgIGFmdGVyOiBpbml0aWFsaXplci5hZnRlcixcbiAgICAgIGJlZm9yZTogaW5pdGlhbGl6ZXIuYmVmb3JlXG4gICAgfSk7XG4gIH1cblxuICBpbml0KGNvbnRleHQpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcblxuICAgIHZhciBpbml0T3JkZXIgPSBuZXcgT3JkZXJlZExpc3QodGhpcy5faW5pdGlhbGl6ZXJzKS5vcmRlcmVkVmFsdWVzKCk7XG4gICAgaW5pdE9yZGVyLmZvckVhY2goaW5pdGlhbGl6ZXIgPT4ge1xuICAgICAgaW5pdGlhbGl6ZXIodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjb250ZXh0IGFjY2Vzc29yc1xuICBoYXMoa2V5KSB7XG4gICAgcmV0dXJuICEhdGhpcy5fY29udGV4dFtrZXldO1xuICB9XG5cbiAgZ2V0KGtleSwgZmFsbGJhY2spIHtcbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRleHRba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbGxiYWNrIHx8IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwb3Aoa2V5KSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuX2NvbnRleHRba2V5XTtcbiAgICAgIHRoaXMuX2NvbnRleHRba2V5XSA9IG51bGw7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59XG5cbi8vIGNyZWF0ZSAgc2luZ2xldG9uXG52YXIgbWlzYWdvID0gbmV3IE1pc2FnbygpO1xuXG4vLyBleHBvc2UgaXQgZ2xvYmFsbHlcbmdsb2JhbC5taXNhZ28gPSBtaXNhZ287XG5cbi8vIGFuZCBleHBvcnQgaXQgZm9yIHRlc3RzIGFuZCBzdHVmZlxuZXhwb3J0IGRlZmF1bHQgbWlzYWdvO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgYWpheC5pbml0KG1pc2Fnby5nZXQoJ0NTUkZfQ09PS0lFX05BTUUnKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdhamF4JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IHBhdGNoIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuY29uc3QgQVVUSF9TWU5DX1JBVEUgPSA0NTsgLy8gc3luYyB1c2VyIHdpdGggYmFja2VuZCBldmVyeSA0NSBzZWNvbmRzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuZ2V0KCdpc0F1dGhlbnRpY2F0ZWQnKSkge1xuICAgIHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGFqYXguZ2V0KGNvbnRleHQuZ2V0KCdBVVRIX0FQSScpKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocGF0Y2goZGF0YSkpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgIHNuYWNrYmFyLmFwaUVycm9yKHJlamVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9LCBBVVRIX1NZTkNfUkFURSAqIDEwMDApO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdhdXRoLXN5bmMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnYXV0aCdcbn0pOyIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBhdXRoIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9hdXRoJztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICdtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBhdXRoLmluaXQoc3RvcmUsIHN0b3JhZ2UsIG1vZGFsKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2F1dGgnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTsiLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgYWpheCBmcm9tICdtaXNhZ28vc2VydmljZXMvYWpheCc7XG5pbXBvcnQgY2FwdGNoYSBmcm9tICdtaXNhZ28vc2VydmljZXMvY2FwdGNoYSc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBjYXB0Y2hhLmluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY2FwdGNoYScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IEF1dGhNZXNzYWdlLCB7IHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2F1dGgtbWVzc2FnZSc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBtb3VudChjb25uZWN0KHNlbGVjdCkoQXV0aE1lc3NhZ2UpLCAnYXV0aC1tZXNzYWdlLW1vdW50Jyk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YXV0aC1tZXNzYWdlJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc2hvd0Jhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL3V0aWxzL2Jhbm5lZC1wYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ0JBTl9NRVNTQUdFJykpIHtcbiAgICBzaG93QmFubmVkUGFnZShjb250ZXh0LmdldCgnQkFOX01FU1NBR0UnKSwgZmFsc2UpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6YmFubWVkLXBhZ2UnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ2F0ZWdvcmllcywgeyBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9jYXRlZ29yaWVzL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yaWVzLW1vdW50JykpIHtcbiAgICBtb3VudChjb25uZWN0KHNlbGVjdCkoQ2F0ZWdvcmllcyksICdjYXRlZ29yaWVzLW1vdW50Jyk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpjYXRlZ29yaWVzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgT3B0aW9ucywgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL29wdGlvbnMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVVNFUl9PUFRJT05TJykpIHtcbiAgICBtb3VudCh7XG4gICAgICByb290OiBtaXNhZ28uZ2V0KCdVU0VSQ1BfVVJMJyksXG4gICAgICBjb21wb25lbnQ6IE9wdGlvbnMsXG4gICAgICBwYXRoczogcGF0aHMoKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6b3B0aW9ucycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9maWxlLCB7IHBhdGhzLCBzZWxlY3QgfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wcm9maWxlL3Jvb3QnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5oYXMoJ1BST0ZJTEUnKSAmJiBjb250ZXh0LmhhcygnUFJPRklMRV9QQUdFUycpKSB7XG4gICAgbW91bnQoe1xuICAgICAgcm9vdDogbWlzYWdvLmdldCgnUFJPRklMRScpLmFic29sdXRlX3VybCxcbiAgICAgIGNvbXBvbmVudDogY29ubmVjdChzZWxlY3QpKFByb2ZpbGUpLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnByb2ZpbGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAncmVkdWNlcjpwcm9maWxlLWh5ZHJhdGUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBSZXF1ZXN0QWN0aXZhdGlvbkxpbmsgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVxdWVzdC1hY3RpdmF0aW9uLWxpbmsnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXF1ZXN0LWFjdGl2YXRpb24tbGluay1tb3VudCcpKSB7XG4gICAgbW91bnQoUmVxdWVzdEFjdGl2YXRpb25MaW5rLCAncmVxdWVzdC1hY3RpdmF0aW9uLWxpbmstbW91bnQnLCBmYWxzZSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpyZXF1ZXN0LWFjdGl2YXRpb24tbGluaycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IFJlcXVlc3RQYXNzd29yZFJlc2V0IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQnO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0LW1vdW50JykpIHtcbiAgICBtb3VudChSZXF1ZXN0UGFzc3dvcmRSZXNldCwgJ3JlcXVlc3QtcGFzc3dvcmQtcmVzZXQtbW91bnQnLCBmYWxzZSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDpyZXF1ZXN0LXBhc3N3b3JkLXJlc2V0JyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnbyc7XG5pbXBvcnQgUmVzZXRQYXNzd29yZEZvcm0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvcmVzZXQtcGFzc3dvcmQtZm9ybSc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXBhc3N3b3JkLWZvcm0tbW91bnQnKSkge1xuICAgIG1vdW50KFJlc2V0UGFzc3dvcmRGb3JtLCAncmVzZXQtcGFzc3dvcmQtZm9ybS1tb3VudCcsIGZhbHNlKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnJlc2V0LXBhc3N3b3JkLWZvcm0nLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBwYXRocyBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9zZWFyY2gnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28nO1xuaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9yb3V0ZWQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBpZiAoY29udGV4dC5nZXQoJ0NVUlJFTlRfTElOSycpID09PSAnbWlzYWdvOnNlYXJjaCcpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMobWlzYWdvLmdldCgnU0VBUkNIX1BST1ZJREVSUycpKVxuICAgIH0pO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6c2VhcmNoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgU25hY2tiYXIsIHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3NuYWNrYmFyJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShTbmFja2JhciksICdzbmFja2Jhci1tb3VudCcpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnNuYWNrYmFyJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3NuYWNrYmFyJ1xufSk7XG4iLCJpbXBvcnQgeyBwYXRocyB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3RocmVhZC9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQuaGFzKCdUSFJFQUQnKSAmJiBjb250ZXh0LmhhcygnUE9TVFMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHBhdGhzOiBwYXRocygpXG4gICAgfSk7XG4gIH1cbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2NvbXBvbmVudDp0aHJlYWQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdGhyZWFkcy9yb290JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvcm91dGVkLWNvbXBvbmVudCc7XG5cbmNvbnN0IFBSSVZBVEVfVEhSRUFEU19MSVNUID0gJ21pc2Fnbzpwcml2YXRlLXRocmVhZHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVEhSRUFEUycpICYmIGNvbnRleHQuaGFzKCdDQVRFR09SSUVTJykpIHtcbiAgICBtb3VudCh7XG4gICAgICBwYXRoczogcGF0aHMoY29udGV4dC5nZXQoJ3VzZXInKSwgZ2V0TGlzdE9wdGlvbnMoY29udGV4dCkpXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExpc3RPcHRpb25zKGNvbnRleHQpIHtcbiAgY29uc3QgY3VycmVudExpbmsgPSBjb250ZXh0LmdldCgnQ1VSUkVOVF9MSU5LJyk7XG4gIGlmIChjdXJyZW50TGluay5zdWJzdHIoMCwgUFJJVkFURV9USFJFQURTX0xJU1QubGVuZ3RoKSA9PT0gUFJJVkFURV9USFJFQURTX0xJU1QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBpOiBjb250ZXh0LmdldCgnUFJJVkFURV9USFJFQURTX0FQSScpLFxuICAgICAgc3RhcnRUaHJlYWQ6IHtcbiAgICAgICAgbW9kZTogJ1NUQVJUX1BSSVZBVEUnLFxuICAgICAgICBzdWJtaXQ6IG1pc2Fnby5nZXQoJ1BSSVZBVEVfVEhSRUFEU19BUEknKVxuICAgICAgfSxcbiAgICAgIHRpdGxlOiBnZXR0ZXh0KFwiUHJpdmF0ZSB0aHJlYWRzXCIpLFxuICAgICAgcGFnZUxlYWQ6IGdldHRleHQoXCJQcml2YXRlIHRocmVhZHMgYXJlIHRocmVhZHMgd2hpY2ggb25seSB0aG9zZSB0aGF0IHN0YXJ0ZWQgdGhlbSBhbmQgdGhvc2UgdGhleSBoYXZlIGludml0ZWQgbWF5IHNlZSBhbmQgcGFydGljaXBhdGUgaW4uXCIpLFxuICAgICAgZW1wdHlNZXNzYWdlOiBnZXR0ZXh0KFwiWW91IGFyZW4ndCBwYXJ0aWNpcGF0aW5nIGluIGFueSBwcml2YXRlIHRocmVhZHMuXCIpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgJ2FwaSc6IGNvbnRleHQuZ2V0KCdUSFJFQURTX0FQSScpXG4gIH07XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdjb21wb25lbnQ6dGhyZWFkcycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCB7IFVzZXJNZW51LCBDb21wYWN0VXNlck1lbnUsIHNlbGVjdCB9IGZyb20gJ21pc2Fnby9jb21wb25lbnRzL3VzZXItbWVudS9yb290JztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vdW50KGNvbm5lY3Qoc2VsZWN0KShVc2VyTWVudSksICd1c2VyLW1lbnUtbW91bnQnKTtcbiAgbW91bnQoY29ubmVjdChzZWxlY3QpKENvbXBhY3RVc2VyTWVudSksICd1c2VyLW1lbnUtY29tcGFjdC1tb3VudCcpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnVzZXItbWVudScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IFVzZXJzLCB7IHBhdGhzIH0gZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvdXNlcnMvcm9vdCc7XG5pbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL3JvdXRlZC1jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcihjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LmhhcygnVVNFUlNfTElTVFMnKSkge1xuICAgIG1vdW50KHtcbiAgICAgIHJvb3Q6IG1pc2Fnby5nZXQoJ1VTRVJTX0xJU1RfVVJMJyksXG4gICAgICBjb21wb25lbnQ6IFVzZXJzLFxuICAgICAgcGF0aHM6IHBhdGhzKClcbiAgICB9KTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnY29tcG9uZW50OnVzZXJzJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBhZnRlcjogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgaW5jbHVkZSBmcm9tICdtaXNhZ28vc2VydmljZXMvaW5jbHVkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKGNvbnRleHQpIHtcbiAgaW5jbHVkZS5pbml0KGNvbnRleHQuZ2V0KCdTVEFUSUNfVVJMJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnaW5jbHVkZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc3RvcmFnZSBmcm9tICdtaXNhZ28vc2VydmljZXMvbG9jYWwtc3RvcmFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yYWdlLmluaXQoJ21pc2Fnb18nKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ2xvY2FsLXN0b3JhZ2UnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGRyb3Bkb3duIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9tb2JpbGUtbmF2YmFyLWRyb3Bkb3duJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS1uYXZiYXItZHJvcGRvd24tbW91bnQnKTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBkcm9wZG93bi5pbml0KGVsZW1lbnQpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdkcm9wZG93bicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBtb2RhbCBmcm9tICdtaXNhZ28vc2VydmljZXMvbW9kYWwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtbW91bnQnKTtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBtb2RhbC5pbml0KGVsZW1lbnQpO1xuICB9XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdtb2RhbCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIG1vbWVudC5sb2NhbGUoJCgnaHRtbCcpLmF0dHIoJ2xhbmcnKSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdtb21lbnQnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHRpdGxlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9wYWdlLXRpdGxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICB0aXRsZS5pbml0KFxuICAgIGNvbnRleHQuZ2V0KCdTRVRUSU5HUycpLmZvcnVtX2luZGV4X3RpdGxlLFxuICAgIGNvbnRleHQuZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWVcbiAgKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3BhZ2UtdGl0bGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5pbXBvcnQgcG9sbHMgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3BvbGxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHBvbGxzLmluaXQoYWpheCwgc25hY2tiYXIpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncG9sbHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXJcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGFqYXggZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2FqYXgnO1xuaW1wb3J0IHBvc3RpbmcgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3Bvc3RpbmcnO1xuaW1wb3J0IHNuYWNrYmFyIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zbmFja2Jhcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBwb3N0aW5nLmluaXQoYWpheCwgc25hY2tiYXIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0aW5nLXBsYWNlaG9sZGVyJykpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncG9zdGluZycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplclxufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBpbml0aWFsU3RhdGUgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvYXV0aCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoY29udGV4dCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdhdXRoJywgcmVkdWNlciwgT2JqZWN0LmFzc2lnbih7XG4gICAgaXNBdXRoZW50aWNhdGVkOiBjb250ZXh0LmdldCgnaXNBdXRoZW50aWNhdGVkJyksXG4gICAgaXNBbm9ueW1vdXM6ICFjb250ZXh0LmdldCgnaXNBdXRoZW50aWNhdGVkJyksXG5cbiAgICB1c2VyOiBjb250ZXh0LmdldCgndXNlcicpXG4gIH0sIGluaXRpYWxTdGF0ZSkpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjphdXRoJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyLFxuICBiZWZvcmU6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHJlZHVjZXIgZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BhcnRpY2lwYW50cyc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsO1xuICBpZiAobWlzYWdvLmhhcygnVEhSRUFEJykpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBtaXNhZ28uZ2V0KCdUSFJFQUQnKS5wYXJ0aWNpcGFudHM7XG4gIH1cblxuICBzdG9yZS5hZGRSZWR1Y2VyKCdwYXJ0aWNpcGFudHMnLCByZWR1Y2VyLCBpbml0aWFsU3RhdGUgfHwgW10pO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwYXJ0aWNpcGFudHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3BvbGwnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBsZXQgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgaWYgKG1pc2Fnby5oYXMoJ1RIUkVBRCcpICYmIG1pc2Fnby5nZXQoJ1RIUkVBRCcpLnBvbGwpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoJ1RIUkVBRCcpLnBvbGwpO1xuICB9IGVsc2Uge1xuICAgIGluaXRpYWxTdGF0ZSA9IHtcbiAgICAgIGlzQnVzeTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc3RvcmUuYWRkUmVkdWNlcigncG9sbCcsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnBvbGwnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Bvc3RzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgbGV0IGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gIGlmIChtaXNhZ28uaGFzKCdQT1NUUycpKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gaHlkcmF0ZShtaXNhZ28uZ2V0KCdQT1NUUycpKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3Bvc3RzJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6cG9zdHMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3Byb2ZpbGUnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBpZiAobWlzYWdvLmhhcygnUFJPRklMRScpKSB7XG4gICAgc3RvcmUuZGlzcGF0Y2goaHlkcmF0ZShtaXNhZ28uZ2V0KCdQUk9GSUxFJykpKTtcbiAgfVxufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAncmVkdWNlcjpwcm9maWxlLWh5ZHJhdGUnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGFmdGVyOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9wcm9maWxlJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigncHJvZmlsZScsIHJlZHVjZXIsIHt9KTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6cHJvZmlsZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvJztcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWFyY2gnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdzZWFyY2gnLCByZWR1Y2VyLCBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIHtcbiAgICBwcm92aWRlcnM6IG1pc2Fnby5nZXQoJ1NFQVJDSF9QUk9WSURFUlMnKSB8fCBbXVxuICB9KSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnNlYXJjaCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zZWxlY3Rpb24nO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCdzZWxlY3Rpb24nLCByZWR1Y2VyLCBbXSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnNlbGVjdGlvbicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zbmFja2Jhcic7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3NuYWNrYmFyJywgcmVkdWNlciwgaW5pdGlhbFN0YXRlKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6c25hY2tiYXInLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciwgeyBoeWRyYXRlIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RocmVhZCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIGxldCBpbml0aWFsU3RhdGUgPSBudWxsO1xuICBpZiAobWlzYWdvLmhhcygnVEhSRUFEJykpIHtcbiAgICBpbml0aWFsU3RhdGUgPSBoeWRyYXRlKG1pc2Fnby5nZXQoJ1RIUkVBRCcpKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBpc0J1c3k6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3RocmVhZCcsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnRocmVhZCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyIGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aHJlYWRzJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigndGhyZWFkcycsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dGhyZWFkcycsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnc3RvcmUnXG59KTtcbiIsImltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCByZWR1Y2VyLCB7IGluaXRpYWxTdGF0ZSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy90aWNrJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc3RvcmUuYWRkUmVkdWNlcigndGljaycsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnRpY2snLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcm5hbWUtaGlzdG9yeSc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3N0b3JlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHN0b3JlLmFkZFJlZHVjZXIoJ3VzZXJuYW1lLWhpc3RvcnknLCByZWR1Y2VyLCBbXSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdyZWR1Y2VyOnVzZXJuYW1lLWhpc3RvcnknLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgcmVkdWNlciBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5hZGRSZWR1Y2VyKCd1c2VycycsIHJlZHVjZXIsIFtdKTtcbn1cblxubWlzYWdvLmFkZEluaXRpYWxpemVyKHtcbiAgbmFtZTogJ3JlZHVjZXI6dXNlcnMnLFxuICBpbml0aWFsaXplcjogaW5pdGlhbGl6ZXIsXG4gIGJlZm9yZTogJ3N0b3JlJ1xufSk7XG4iLCJpbXBvcnQgbWlzYWdvIGZyb20gJ21pc2Fnby9pbmRleCc7XG5pbXBvcnQgc25hY2tiYXIgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL3NuYWNrYmFyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgc25hY2tiYXIuaW5pdChzdG9yZSk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdzbmFja2JhcicsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVyKCkge1xuICBzdG9yZS5pbml0KCk7XG59XG5cbm1pc2Fnby5hZGRJbml0aWFsaXplcih7XG4gIG5hbWU6ICdzdG9yZScsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYmVmb3JlOiAnX2VuZCdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IHsgZG9UaWNrIH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL3RpY2snO1xuaW1wb3J0IHN0b3JlIGZyb20gJ21pc2Fnby9zZXJ2aWNlcy9zdG9yZSc7XG5cbmNvbnN0IFRJQ0tfUEVSSU9EID0gNTAgKiAxMDAwOyAvL2RvIHRoZSB0aWNrIGV2ZXJ5IDUwc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplcigpIHtcbiAgd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgIHN0b3JlLmRpc3BhdGNoKGRvVGljaygpKTtcbiAgfSwgVElDS19QRVJJT0QpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAndGljay1zdGFydCcsXG4gIGluaXRpYWxpemVyOiBpbml0aWFsaXplcixcbiAgYWZ0ZXI6ICdzdG9yZSdcbn0pO1xuIiwiaW1wb3J0IG1pc2FnbyBmcm9tICdtaXNhZ28vaW5kZXgnO1xuaW1wb3J0IGluY2x1ZGUgZnJvbSAnbWlzYWdvL3NlcnZpY2VzL2luY2x1ZGUnO1xuaW1wb3J0IHp4Y3ZibiBmcm9tICdtaXNhZ28vc2VydmljZXMvenhjdmJuJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XG4gIHp4Y3Zibi5pbml0KGluY2x1ZGUpO1xufVxuXG5taXNhZ28uYWRkSW5pdGlhbGl6ZXIoe1xuICBuYW1lOiAnenhjdmJuJyxcbiAgaW5pdGlhbGl6ZXI6IGluaXRpYWxpemVyXG59KTtcbiIsImltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5cbmV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICBzaWduZWRJbjogZmFsc2UsXG4gIHNpZ25lZE91dDogZmFsc2Vcbn07XG5cbmV4cG9ydCBjb25zdCBQQVRDSF9VU0VSID0gJ1BBVENIX1VTRVInO1xuZXhwb3J0IGNvbnN0IFNJR05fSU4gPSAnU0lHTl9JTic7XG5leHBvcnQgY29uc3QgU0lHTl9PVVQgPSAnU0lHTl9PVVQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9VU0VSLFxuICAgIHBhdGNoXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduSW4odXNlcikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFNJR05fSU4sXG4gICAgdXNlclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbk91dChzb2Z0PWZhbHNlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0lHTl9PVVQsXG4gICAgc29mdFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRoKHN0YXRlPWluaXRpYWxTdGF0ZSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUEFUQ0hfVVNFUjpcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpO1xuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwgYWN0aW9uLnBhdGNoKTtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuXG4gICAgY2FzZSBTSUdOX0lOOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIHNpZ25lZEluOiBhY3Rpb24udXNlclxuICAgICAgfSk7XG5cbiAgICBjYXNlIFNJR05fT1VUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICAgIGlzQW5vbnltb3VzOiB0cnVlLFxuICAgICAgICBzaWduZWRPdXQ6ICFhY3Rpb24uc29mdFxuICAgICAgfSk7XG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICYmIHN0YXRlLnVzZXIuaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpO1xuICAgICAgICBuZXdTdGF0ZS51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudXNlciwge1xuICAgICAgICAgICdhdmF0YXJzJzogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAmJiBzdGF0ZS51c2VyLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICAgICAgbmV3U3RhdGUudXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHtcbiAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgIHNsdWc6IGFjdGlvbi5zbHVnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgUkVQTEFDRV9QQVJUSUNJUEFOVFMgPSAnUkVQTEFDRV9QQVJUSUNJUEFOVFMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfUEFSVElDSVBBTlRTLFxuICAgIHN0YXRlOiBuZXdTdGF0ZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJ0aWNpcGFudHMoc3RhdGU9W10sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFJFUExBQ0VfUEFSVElDSVBBTlRTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmV4cG9ydCBjb25zdCBCVVNZX1BPTEwgPSAnQlVTWV9QT0xMJztcbmV4cG9ydCBjb25zdCBSRUxFQVNFX1BPTEwgPSAnUkVMRUFTRV9QT0xMJztcbmV4cG9ydCBjb25zdCBSRU1PVkVfUE9MTCA9ICdSRU1PVkVfUE9MTCc7XG5leHBvcnQgY29uc3QgUkVQTEFDRV9QT0xMID0gJ1JFUExBQ0VfUE9MTCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1BPTEwgPSAnVVBEQVRFX1BPTEwnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIGxldCBoYXNTZWxlY3RlZENob2ljZXMgPSBmYWxzZTtcbiAgZm9yIChjb25zdCBpIGluIGpzb24uY2hvaWNlcykge1xuICAgIGNvbnN0IGNob2ljZSA9IGpzb24uY2hvaWNlc1tpXTtcbiAgICBpZiAoY2hvaWNlLnNlbGVjdGVkKSB7XG4gICAgICBoYXNTZWxlY3RlZENob2ljZXMgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICBwb3N0ZWRfb246IG1vbWVudChqc29uLnBvc3RlZF9vbiksXG5cbiAgICBoYXNTZWxlY3RlZENob2ljZXMsXG4gICAgZW5kc09uOiAoanNvbi5sZW5ndGggPyBtb21lbnQoanNvbi5wb3N0ZWRfb24pLmFkZChqc29uLmxlbmd0aCwgJ2RheXMnKSA6IG51bGwpLFxuXG4gICAgaXNCdXN5OiBmYWxzZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1c3koKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQlVTWV9QT0xMXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfUE9MTFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSwgaHlkcmF0ZWQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBSRVBMQUNFX1BPTEwsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfUE9MTCxcbiAgICBkYXRhXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogUkVNT1ZFX1BPTExcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbChzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQlVTWV9QT0xMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7aXNCdXN5OiB0cnVlfSk7XG5cbiAgICBjYXNlIFJFTEVBU0VfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogZmFsc2V9KTtcblxuICAgIGNhc2UgUkVNT1ZFX1BPTEw6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc0J1c3k6IGZhbHNlXG4gICAgICB9O1xuXG4gICAgY2FzZSBSRVBMQUNFX1BPTEw6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVUERBVEVfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLmRhdGEpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IGh5ZHJhdGVVc2VyIH0gZnJvbSAnLi91c2Vycyc7XG5cbmV4cG9ydCBjb25zdCBQQVRDSF9QT1NUID0gJ1BBVENIX1BPU1QnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZShqc29uKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBqc29uLCB7XG4gICAgcG9zdGVkX29uOiBtb21lbnQoanNvbi5wb3N0ZWRfb24pLFxuICAgIHVwZGF0ZWRfb246IG1vbWVudChqc29uLnVwZGF0ZWRfb24pLFxuICAgIGhpZGRlbl9vbjogbW9tZW50KGpzb24uaGlkZGVuX29uKSxcblxuICAgIGF0dGFjaG1lbnRzOiBqc29uLmF0dGFjaG1lbnRzID8ganNvbi5hdHRhY2htZW50cy5tYXAoaHlkcmF0ZUF0dGFjaG1lbnQpIDogbnVsbCxcbiAgICBwb3N0ZXI6IGpzb24ucG9zdGVyID8gaHlkcmF0ZVVzZXIoanNvbi5wb3N0ZXIpIDogbnVsbCxcblxuICAgIGlzU2VsZWN0ZWQ6IGZhbHNlLFxuICAgIGlzQnVzeTogZmFsc2UsXG4gICAgaXNEZWxldGVkOiBmYWxzZVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVBdHRhY2htZW50KGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICB1cGxvYWRlZF9vbjogbW9tZW50KGpzb24udXBsb2FkZWRfb24pXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gocG9zdCwgcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBQQVRDSF9QT1NULFxuICAgIHBvc3QsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdChzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgUEFUQ0hfUE9TVDpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PSBhY3Rpb24ucG9zdC5pZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5wYXRjaCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IHBvc3RSZWR1Y2VyLCB7IFBBVENIX1BPU1QsIGh5ZHJhdGUgYXMgaHlkcmF0ZVBvc3QgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvcG9zdCc7XG5cbmV4cG9ydCBjb25zdCBBUFBFTkRfUE9TVFMgPSAnQVBQRU5EX1BPU1RTJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RfUE9TVCA9ICdTRUxFQ1RfUE9TVCc7XG5leHBvcnQgY29uc3QgREVTRUxFQ1RfUE9TVCA9ICdERVNFTEVDVF9QT1NUJztcbmV4cG9ydCBjb25zdCBERVNFTEVDVF9QT1NUUyA9ICdERVNFTEVDVF9QT1NUUyc7XG5leHBvcnQgY29uc3QgTE9BRF9QT1NUUyA9ICdMT0FEX1BPU1RTJztcbmV4cG9ydCBjb25zdCBVTkxPQURfUE9TVFMgPSAnVU5MT0FEX1BPU1RTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9TVFMgPSAnVVBEQVRFX1BPU1RTJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChwb3N0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX1BPU1QsXG4gICAgcG9zdFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZWxlY3QocG9zdCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IERFU0VMRUNUX1BPU1QsXG4gICAgcG9zdFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZWxlY3RBbGwoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogREVTRUxFQ1RfUE9TVFMsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGpzb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGpzb24sIHtcbiAgICByZXN1bHRzOiBqc29uLnJlc3VsdHMubWFwKGh5ZHJhdGVQb3N0KSxcbiAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICBpc0J1c3k6IGZhbHNlLFxuICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZChuZXdTdGF0ZSwgaHlkcmF0ZWQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBMT0FEX1BPU1RTLFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZChuZXdTdGF0ZSwgaHlkcmF0ZWQ9ZmFsc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfUE9TVFMsXG4gICAgc3RhdGU6IGh5ZHJhdGVkID8gbmV3U3RhdGUgOiBoeWRyYXRlKG5ld1N0YXRlKVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5sb2FkKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVOTE9BRF9QT1NUU1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG5ld1N0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1BPU1RTLFxuICAgIHVwZGF0ZTogbmV3U3RhdGVcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdHMoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNFTEVDVF9QT1NUOlxuICAgICAgY29uc3Qgc2VsZWN0ZWRQb3N0cyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIGlmIChwb3N0LmlkID09IGFjdGlvbi5wb3N0LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBvc3QsIHtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBzZWxlY3RlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGNhc2UgREVTRUxFQ1RfUE9TVDpcbiAgICAgIGNvbnN0IGRlc2VsZXRlZFBvc3RzID0gc3RhdGUucmVzdWx0cy5tYXAoKHBvc3QpID0+IHtcbiAgICAgICAgaWYgKHBvc3QuaWQgPT0gYWN0aW9uLnBvc3QuaWQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgICAgaXNTZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcG9zdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRQb3N0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIERFU0VMRUNUX1BPU1RTOlxuICAgICAgY29uc3QgZGVzZWxldGVkQWxsUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcG9zdCwge1xuICAgICAgICAgIGlzU2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICByZXN1bHRzOiBkZXNlbGV0ZWRBbGxQb3N0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIEFQUEVORF9QT1NUUzpcbiAgICAgIGxldCByZXN1bHRzID0gc3RhdGUucmVzdWx0cy5zbGljZSgpO1xuICAgICAgY29uc3QgcmVzdWx0c0lkcyA9IHN0YXRlLnJlc3VsdHMubWFwKChwb3N0KSA9PiB7XG4gICAgICAgIHJldHVybiBwb3N0LmlkO1xuICAgICAgfSk7XG5cbiAgICAgIGFjdGlvbi5zdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0c0lkcy5pbmRleE9mKHBvc3QuaWQpID09PSAtMSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChwb3N0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0c1xuICAgICAgfSk7XG5cbiAgICBjYXNlIExPQURfUE9TVFM6XG4gICAgICByZXR1cm4gYWN0aW9uLnN0YXRlO1xuXG4gICAgY2FzZSBVTkxPQURfUE9TVFM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICBjYXNlIFVQREFURV9QT1NUUzpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnVwZGF0ZSk7XG5cbiAgICBjYXNlIFBBVENIX1BPU1Q6XG4gICAgICBjb25zdCByZWR1Y2VkUG9zdHMgPSBzdGF0ZS5yZXN1bHRzLm1hcCgocG9zdCkgPT4ge1xuICAgICAgICByZXR1cm4gcG9zdFJlZHVjZXIocG9zdCwgYWN0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcmVzdWx0czogcmVkdWNlZFBvc3RzXG4gICAgICB9KTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBVUERBVEVfQVZBVEFSLCBVUERBVEVfVVNFUk5BTUUsIGh5ZHJhdGVTdGF0dXMgfSBmcm9tICdtaXNhZ28vcmVkdWNlcnMvdXNlcnMnO1xuXG5leHBvcnQgY29uc3QgSFlEUkFURV9QUk9GSUxFID0gJ0hZRFJBVEVfUFJPRklMRSc7XG5leHBvcnQgY29uc3QgUEFUQ0hfUFJPRklMRSA9ICdQQVRDSF9QUk9GSUxFJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUocHJvZmlsZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEhZRFJBVEVfUFJPRklMRSxcbiAgICBwcm9maWxlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaChwYXRjaCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1BST0ZJTEUsXG4gICAgcGF0Y2hcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChzdGF0ZT17fSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgSFlEUkFURV9QUk9GSUxFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5wcm9maWxlLCB7XG4gICAgICAgIGpvaW5lZF9vbjogbW9tZW50KGFjdGlvbi5wcm9maWxlLmpvaW5lZF9vbiksXG4gICAgICAgIHN0YXR1czogaHlkcmF0ZVN0YXR1cyhhY3Rpb24ucHJvZmlsZS5zdGF0dXMpXG4gICAgICB9KTtcblxuICAgIGNhc2UgUEFUQ0hfUFJPRklMRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnBhdGNoKTtcblxuICAgIGNhc2UgVVBEQVRFX0FWQVRBUjpcbiAgICAgIGlmIChzdGF0ZS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICBhdmF0YXJzOiBhY3Rpb24uYXZhdGFyc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdGF0ZTtcblxuICAgIGNhc2UgVVBEQVRFX1VTRVJOQU1FOlxuICAgICAgaWYgKHN0YXRlLmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgIHVzZXJuYW1lOiBhY3Rpb24udXNlcm5hbWUsXG4gICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgUkVQTEFDRV9TRUFSQ0ggPSAnUkVQTEFDRV9TRUFSQ0gnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9TRUFSQ0ggPSAnVVBEQVRFX1NFQVJDSCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1NFQVJDSF9QUk9WSURFUiA9ICdVUERBVEVfU0VBUkNIX1BST1ZJREVSJztcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgcXVlcnk6ICcnLFxuICBwcm92aWRlcnM6IFtdXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfU0VBUkNILFxuICAgIHN0YXRlOiB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcHJvdmlkZXJzOiBuZXdTdGF0ZVxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShuZXdTdGF0ZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9TRUFSQ0gsXG4gICAgdXBkYXRlOiBuZXdTdGF0ZVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfU0VBUkNIX1BST1ZJREVSLFxuICAgIHByb3ZpZGVyOiBwcm92aWRlclxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJ0aWNpcGFudHMoc3RhdGU9e30sIGFjdGlvbj1udWxsKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFJFUExBQ0VfU0VBUkNIOlxuICAgICAgcmV0dXJuIGFjdGlvbi5zdGF0ZTtcblxuICAgIGNhc2UgVVBEQVRFX1NFQVJDSDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgYWN0aW9uLnVwZGF0ZSk7XG5cbiAgICBjYXNlIFVQREFURV9TRUFSQ0hfUFJPVklERVI6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgcHJvdmlkZXJzOiBzdGF0ZS5wcm92aWRlcnMubWFwKChwcm92aWRlcikgPT4ge1xuICAgICAgICAgIGlmIChwcm92aWRlci5pZCA9PT0gYWN0aW9uLnByb3ZpZGVyLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uLnByb3ZpZGVyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiaW1wb3J0IHsgdG9nZ2xlIH0gZnJvbSAnbWlzYWdvL3V0aWxzL3NldHMnO1xuXG5leHBvcnQgY29uc3QgU0VMRUNUX0FMTCA9ICdTRUxFQ1RfQUxMJztcbmV4cG9ydCBjb25zdCBTRUxFQ1RfTk9ORSA9ICdTRUxFQ1RfTk9ORSc7XG5leHBvcnQgY29uc3QgU0VMRUNUX0lURU0gPSAnU0VMRUNUX0lURU0nO1xuXG5leHBvcnQgZnVuY3Rpb24gYWxsKGl0ZW1zSWRzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0FMTCxcbiAgICBpdGVtczogaXRlbXNJZHNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vbmUoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX05PTkVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGl0ZW0oaXRlbUlkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX0lURU0sXG4gICAgaXRlbTogaXRlbUlkXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbGVjdGlvbihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VMRUNUX0FMTDpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXM7XG5cbiAgICBjYXNlIFNFTEVDVF9OT05FOlxuICAgICAgcmV0dXJuIFtdO1xuXG4gICAgY2FzZSBTRUxFQ1RfSVRFTTpcbiAgICAgIHJldHVybiB0b2dnbGUoc3RhdGUsIGFjdGlvbi5pdGVtKTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn0iLCJleHBvcnQgdmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgdHlwZTogJ2luZm8nLFxuICBtZXNzYWdlOiAnJyxcbiAgaXNWaXNpYmxlOiBmYWxzZVxufTtcblxuZXhwb3J0IGNvbnN0IFNIT1dfU05BQ0tCQVIgPSAnU0hPV19TTkFDS0JBUic7XG5leHBvcnQgY29uc3QgSElERV9TTkFDS0JBUiA9ICdISURFX1NOQUNLQkFSJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dTbmFja2JhcihtZXNzYWdlLCB0eXBlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0hPV19TTkFDS0JBUixcbiAgICBtZXNzYWdlLFxuICAgIG1lc3NhZ2VUeXBlOiB0eXBlXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlU25hY2tiYXIoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSElERV9TTkFDS0JBUlxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzbmFja2JhcihzdGF0ZT1pbml0aWFsU3RhdGUsIGFjdGlvbj1udWxsKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0hPV19TTkFDS0JBUikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBhY3Rpb24ubWVzc2FnZVR5cGUsXG4gICAgICBtZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSxcbiAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgIH07XG4gIH0gZWxzZSBpZiAoYWN0aW9uLnR5cGUgPT09IEhJREVfU05BQ0tCQVIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuIiwiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgUkVNT1ZFX1BPTEwsIFJFUExBQ0VfUE9MTCB9IGZyb20gJy4vcG9sbCc7XG5cbmV4cG9ydCBjb25zdCBCVVNZX1RIUkVBRCA9ICdCVVNZX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgUkVMRUFTRV9USFJFQUQgPSAnUkVMRUFTRV9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFJFUExBQ0VfVEhSRUFEID0gJ1JFUExBQ0VfVEhSRUFEJztcbmV4cG9ydCBjb25zdCBVUERBVEVfVEhSRUFEID0gJ1VQREFURV9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9USFJFQURfQUNMID0gJ1VQREFURV9USFJFQURfQUNMJztcblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoanNvbikge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwganNvbiwge1xuICAgIHN0YXJ0ZWRfb246IG1vbWVudChqc29uLnN0YXJ0ZWRfb24pLFxuICAgIGxhc3RfcG9zdF9vbjogbW9tZW50KGpzb24ubGFzdF9wb3N0X29uKSxcblxuICAgIGlzQnVzeTogZmFsc2VcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidXN5KCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEJVU1lfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxlYXNlKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFTEVBU0VfVEhSRUFEXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlKG5ld1N0YXRlLCBoeWRyYXRlZD1mYWxzZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFUExBQ0VfVEhSRUFELFxuICAgIHN0YXRlOiBoeWRyYXRlZCA/IG5ld1N0YXRlIDogaHlkcmF0ZShuZXdTdGF0ZSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX1RIUkVBRCxcbiAgICBkYXRhXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBY2woZGF0YSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9USFJFQURfQUNMLFxuICAgIGRhdGFcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlPXt9LCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBCVVNZX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogdHJ1ZX0pO1xuXG4gICAgY2FzZSBSRUxFQVNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2lzQnVzeTogZmFsc2V9KTtcblxuICAgIGNhc2UgUkVNT1ZFX1BPTEw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtwb2xsOiBudWxsfSk7XG5cbiAgICBjYXNlIFJFUExBQ0VfUE9MTDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge3BvbGw6IGFjdGlvbi5zdGF0ZX0pO1xuXG4gICAgY2FzZSBSRVBMQUNFX1RIUkVBRDpcbiAgICAgIHJldHVybiBhY3Rpb24uc3RhdGU7XG5cbiAgICBjYXNlIFVQREFURV9USFJFQUQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKTtcblxuICAgIGNhc2UgVVBEQVRFX1RIUkVBRF9BQ0w6XG4gICAgICBjb25zdCBhY2wgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hY2wsIGFjdGlvbi5kYXRhKTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge2FjbH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQVBQRU5EX1RIUkVBRFMgPSAnQVBQRU5EX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IERFTEVURV9USFJFQUQgPSAnREVMRVRFX1RIUkVBRCc7XG5leHBvcnQgY29uc3QgRklMVEVSX1RIUkVBRFMgPSAnRklMVEVSX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IEhZRFJBVEVfVEhSRUFEUyA9ICdIWURSQVRFX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IFBBVENIX1RIUkVBRCA9ICdQQVRDSF9USFJFQUQnO1xuZXhwb3J0IGNvbnN0IFJFQURfVEhSRUFEUyA9ICdSRUFEX1RIUkVBRFMnO1xuZXhwb3J0IGNvbnN0IFNPUlRfVEhSRUFEUyA9ICdTT1JUX1RIUkVBRFMnO1xuXG5leHBvcnQgY29uc3QgTU9ERVJBVElPTl9QRVJNSVNTSU9OUyA9IFtcbiAgJ2Nhbl9hbm5vdW5jZScsXG4gICdjYW5fYXBwcm92ZScsXG4gICdjYW5fY2xvc2UnLFxuICAnY2FuX2hpZGUnLFxuICAnY2FuX21vdmUnLFxuICAnY2FuX21lcmdlJyxcbiAgJ2Nhbl9waW4nLFxuICAnY2FuX3Jldmlldydcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMsIHNvcnRpbmcpIHtcbiByZXR1cm4ge1xuICAgIHR5cGU6IEFQUEVORF9USFJFQURTLFxuICAgIGl0ZW1zLFxuICAgIHNvcnRpbmdcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVRocmVhZCh0aHJlYWQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBERUxFVEVfVEhSRUFELFxuICAgIHRocmVhZFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyVGhyZWFkcyhjYXRlZ29yeSwgY2F0ZWdvcmllc01hcCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IEZJTFRFUl9USFJFQURTLFxuICAgIGNhdGVnb3J5LFxuICAgIGNhdGVnb3JpZXNNYXBcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX1RIUkVBRFMsXG4gICAgaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKHRocmVhZCwgcGF0Y2gsIHNvcnRpbmc9bnVsbCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBBVENIX1RIUkVBRCxcbiAgICB0aHJlYWQsXG4gICAgcGF0Y2gsXG4gICAgc29ydGluZ1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZChjYXRlZ29yaWVzTWFwLCBjYXRlZ29yeSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFJFQURfVEhSRUFEUyxcbiAgICBjYXRlZ29yaWVzTWFwLFxuICAgIGNhdGVnb3J5XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0KHNvcnRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTT1JUX1RIUkVBRFMsXG4gICAgc29ydGluZ1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGhyZWFkTW9kZXJhdGlvbk9wdGlvbnModGhyZWFkX2FjbCkge1xuICBsZXQgb3B0aW9ucyA9IFtdO1xuICBNT0RFUkFUSU9OX1BFUk1JU1NJT05TLmZvckVhY2goZnVuY3Rpb24ocGVybSkge1xuICAgIGlmICh0aHJlYWRfYWNsW3Blcm1dKSB7XG4gICAgICBvcHRpb25zLnB1c2gocGVybSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlVGhyZWFkKHRocmVhZCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhyZWFkLCB7XG4gICAgc3RhcnRlZF9vbjogbW9tZW50KHRocmVhZC5zdGFydGVkX29uKSxcbiAgICBsYXN0X3Bvc3Rfb246IG1vbWVudCh0aHJlYWQubGFzdF9wb3N0X29uKSxcbiAgICBtb2RlcmF0aW9uOiBnZXRUaHJlYWRNb2RlcmF0aW9uT3B0aW9ucyh0aHJlYWQuYWNsKVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyZWFkKHN0YXRlPVtdLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBUFBFTkRfVEhSRUFEUzpcbiAgICAgIGNvbnN0IG1lcmdlZFN0YXRlID0gY29uY2F0VW5pcXVlKGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVRocmVhZCksIHN0YXRlKTtcbiAgICAgIHJldHVybiBtZXJnZWRTdGF0ZS5zb3J0KGFjdGlvbi5zb3J0aW5nKTtcblxuICAgIGNhc2UgREVMRVRFX1RIUkVBRDpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS5pZCAhPT0gYWN0aW9uLnRocmVhZC5pZDtcbiAgICAgIH0pO1xuXG4gICAgY2FzZSBGSUxURVJfVEhSRUFEUzpcbiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtQ2F0ZWdvcnkgPSBhY3Rpb24uY2F0ZWdvcmllc01hcFtpdGVtLmNhdGVnb3J5XTtcbiAgICAgICAgaWYgKGl0ZW1DYXRlZ29yeS5sZnQgPj0gYWN0aW9uLmNhdGVnb3J5LmxmdCAmJiBpdGVtQ2F0ZWdvcnkucmdodCA8PSBhY3Rpb24uY2F0ZWdvcnkucmdodCkge1xuICAgICAgICAgIC8vIHNhbWUgb3Igc3ViIGNhdGVnb3J5XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS53ZWlnaHQgPT0gMikge1xuICAgICAgICAgIC8vIGdsb2JhbGx5IHBpbm5lZFxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHRocmVhZCBtb3ZlZCBvdXRzaWRlIGRpc3BsYXllZCBzY29wZSwgaGlkZSBpdFxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBjYXNlIEhZRFJBVEVfVEhSRUFEUzpcbiAgICAgIHJldHVybiBhY3Rpb24uaXRlbXMubWFwKGh5ZHJhdGVUaHJlYWQpO1xuXG4gICAgY2FzZSBQQVRDSF9USFJFQUQ6XG4gICAgICBjb25zdCBwYXRjaGVkU3RhdGUgPSBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gYWN0aW9uLnRocmVhZC5pZCkge1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCBhY3Rpb24ucGF0Y2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGFjdGlvbi5zb3J0aW5nKSB7XG4gICAgICAgIHJldHVybiBwYXRjaGVkU3RhdGUuc29ydChhY3Rpb24uc29ydGluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0Y2hlZFN0YXRlO1xuXG4gICAgY2FzZSBSRUFEX1RIUkVBRFM6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgaXRlbUNhdGVnb3J5ID0gYWN0aW9uLmNhdGVnb3JpZXNNYXBbaXRlbS5jYXRlZ29yeV07XG4gICAgICAgIGlmIChpdGVtQ2F0ZWdvcnkubGZ0ID49IGFjdGlvbi5jYXRlZ29yeS5sZnQgJiYgaXRlbUNhdGVnb3J5LnJnaHQgPD0gYWN0aW9uLmNhdGVnb3J5LnJnaHQpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgaXNfcmVhZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGNhc2UgU09SVF9USFJFQURTOlxuICAgICAgcmV0dXJuIHN0YXRlLnNvcnQoYWN0aW9uLnNvcnRpbmcpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImV4cG9ydCB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICB0aWNrOiAwXG59O1xuXG5leHBvcnQgY29uc3QgVElDSyA9ICdUSUNLJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRvVGljaygpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUSUNLXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRpY2soc3RhdGU9aW5pdGlhbFN0YXRlLCBhY3Rpb249bnVsbCkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IFRJQ0spIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgdGljazogc3RhdGUudGljayArIDFcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn1cbiIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IFVQREFURV9BVkFUQVIsIFVQREFURV9VU0VSTkFNRSB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy91c2Vycyc7XG5pbXBvcnQgY29uY2F0VW5pcXVlIGZyb20gJ21pc2Fnby91dGlscy9jb25jYXQtdW5pcXVlJztcblxuZXhwb3J0IGNvbnN0IEFERF9OQU1FX0NIQU5HRSA9ICdBRERfTkFNRV9DSEFOR0UnO1xuZXhwb3J0IGNvbnN0IEFQUEVORF9ISVNUT1JZID0gJ0FQUEVORF9ISVNUT1JZJztcbmV4cG9ydCBjb25zdCBIWURSQVRFX0hJU1RPUlkgPSAnSFlEUkFURV9ISVNUT1JZJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5hbWVDaGFuZ2UoY2hhbmdlLCB1c2VyLCBjaGFuZ2VkQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBRERfTkFNRV9DSEFOR0UsXG4gICAgY2hhbmdlLFxuICAgIHVzZXIsXG4gICAgY2hhbmdlZEJ5XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmQoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBBUFBFTkRfSElTVE9SWSxcbiAgICBpdGVtczogaXRlbXNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUoaXRlbXMpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBIWURSQVRFX0hJU1RPUlksXG4gICAgaXRlbXM6IGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlTmFtZWNoYW5nZShuYW1lY2hhbmdlKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBuYW1lY2hhbmdlLCB7XG4gICAgY2hhbmdlZF9vbjogbW9tZW50KG5hbWVjaGFuZ2UuY2hhbmdlZF9vbilcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJuYW1lKHN0YXRlPVtdLCBhY3Rpb249bnVsbCkge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBRERfTkFNRV9DSEFOR0U6XG4gICAgICBsZXQgbmV3U3RhdGUgPSBzdGF0ZS5zbGljZSgpO1xuICAgICAgbmV3U3RhdGUudW5zaGlmdCh7XG4gICAgICAgIGlkOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSwgLy8ganVzdCBzbWFsbCBoYXggZm9yIGdldHRpbmcgaWRcbiAgICAgICAgY2hhbmdlZF9ieTogYWN0aW9uLmNoYW5nZWRCeSxcbiAgICAgICAgY2hhbmdlZF9ieV91c2VybmFtZTogYWN0aW9uLmNoYW5nZWRCeS51c2VybmFtZSxcbiAgICAgICAgY2hhbmdlZF9vbjogbW9tZW50KCksXG4gICAgICAgIG5ld191c2VybmFtZTogYWN0aW9uLmNoYW5nZS51c2VybmFtZSxcbiAgICAgICAgb2xkX3VzZXJuYW1lOiBhY3Rpb24udXNlci51c2VybmFtZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG5cbiAgICBjYXNlIEFQUEVORF9ISVNUT1JZOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSkpO1xuXG4gICAgY2FzZSBIWURSQVRFX0hJU1RPUlk6XG4gICAgICByZXR1cm4gYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlTmFtZWNoYW5nZSk7XG5cbiAgICBjYXNlIFVQREFURV9BVkFUQVI6XG4gICAgICByZXR1cm4gc3RhdGUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICBpZiAoaXRlbS5jaGFuZ2VkX2J5ICYmIGl0ZW0uY2hhbmdlZF9ieS5pZCA9PT0gYWN0aW9uLnVzZXJJZCkge1xuICAgICAgICAgIGl0ZW0uY2hhbmdlZF9ieSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0uY2hhbmdlZF9ieSwge1xuICAgICAgICAgICAgYXZhdGFyczogYWN0aW9uLmF2YXRhcnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG5cbiAgICBjYXNlIFVQREFURV9VU0VSTkFNRTpcbiAgICAgIHJldHVybiBzdGF0ZS5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgIGlmIChpdGVtLmNoYW5nZWRfYnkgJiYgaXRlbS5jaGFuZ2VkX2J5LmlkID09PSBhY3Rpb24udXNlcklkKSB7XG4gICAgICAgICAgaXRlbS5jaGFuZ2VkX2J5ID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbS5jaGFuZ2VkX2J5LCB7XG4gICAgICAgICAgICB1c2VybmFtZTogYWN0aW9uLnVzZXJuYW1lLFxuICAgICAgICAgICAgc2x1ZzogYWN0aW9uLnNsdWdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgIH0pO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufSIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBjb25jYXRVbmlxdWUgZnJvbSAnbWlzYWdvL3V0aWxzL2NvbmNhdC11bmlxdWUnO1xuXG5leHBvcnQgY29uc3QgQVBQRU5EX1VTRVJTID0gJ0FQUEVORF9VU0VSUyc7XG5leHBvcnQgY29uc3QgSFlEUkFURV9VU0VSUyA9ICdIWURSQVRFX1VTRVJTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfQVZBVEFSID0gJ1VQREFURV9BVkFUQVInO1xuZXhwb3J0IGNvbnN0IFVQREFURV9VU0VSTkFNRSA9ICdVUERBVEVfVVNFUk5BTUUnO1xuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogQVBQRU5EX1VTRVJTLFxuICAgIGl0ZW1zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogSFlEUkFURV9VU0VSUyxcbiAgICBpdGVtc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMsIHtcbiAgICAgIGxhc3RfY2xpY2s6IHN0YXR1cy5sYXN0X2NsaWNrID8gbW9tZW50KHN0YXR1cy5sYXN0X2NsaWNrKSA6IG51bGwsXG4gICAgICBiYW5uZWRfdW50aWw6IHN0YXR1cy5iYW5uZWRfdW50aWwgPyBtb21lbnQoc3RhdHVzLmJhbm5lZF91bnRpbCkgOiBudWxsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGVVc2VyKHVzZXIpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHVzZXIsIHtcbiAgICBqb2luZWRfb246IG1vbWVudCh1c2VyLmpvaW5lZF9vbiksXG4gICAgc3RhdHVzOiBoeWRyYXRlU3RhdHVzKHVzZXIuc3RhdHVzKVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF2YXRhcih1c2VyLCBhdmF0YXJzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX0FWQVRBUixcbiAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgYXZhdGFyc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVXNlcm5hbWUodXNlciwgdXNlcm5hbWUsIHNsdWcpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBVUERBVEVfVVNFUk5BTUUsXG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJuYW1lLFxuICAgIHNsdWdcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlcihzdGF0ZT1bXSwgYWN0aW9uPW51bGwpIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQVBQRU5EX1VTRVJTOlxuICAgICAgcmV0dXJuIGNvbmNhdFVuaXF1ZShzdGF0ZSwgYWN0aW9uLml0ZW1zLm1hcChoeWRyYXRlVXNlcikpO1xuXG4gICAgY2FzZSBIWURSQVRFX1VTRVJTOlxuICAgICAgcmV0dXJuIGFjdGlvbi5pdGVtcy5tYXAoaHlkcmF0ZVVzZXIpO1xuXG4gICAgY2FzZSBVUERBVEVfQVZBVEFSOlxuICAgICAgcmV0dXJuIHN0YXRlLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGFjdGlvbi51c2VySWQpIHtcbiAgICAgICAgICBpdGVtLmF2YXRhcnMgPSBhY3Rpb24uYXZhdGFycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfSk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIEFqYXgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9jb29raWVOYW1lID0gbnVsbDtcbiAgICB0aGlzLl9jc3JmVG9rZW4gPSBudWxsO1xuICAgIHRoaXMuX2xvY2tzID0ge307XG4gIH1cblxuICBpbml0KGNvb2tpZU5hbWUpIHtcbiAgICB0aGlzLl9jb29raWVOYW1lID0gY29va2llTmFtZTtcbiAgfVxuXG4gIGdldENzcmZUb2tlbigpIHtcbiAgICBpZiAoZG9jdW1lbnQuY29va2llLmluZGV4T2YodGhpcy5fY29va2llTmFtZSkgIT09IC0xKSB7XG4gICAgICBsZXQgY29va2llUmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuX2Nvb2tpZU5hbWUgKyAnXFw9KFteO10qKScpO1xuICAgICAgbGV0IGNvb2tpZSA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChjb29raWVSZWdleClbMF07XG4gICAgICByZXR1cm4gY29va2llID8gY29va2llLnNwbGl0KCc9JylbMV0gOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0KG1ldGhvZCwgdXJsLCBkYXRhKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCB4aHIgPSB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdYLUNTUkZUb2tlbic6IHNlbGYuZ2V0Q3NyZlRva2VuKClcbiAgICAgICAgfSxcblxuICAgICAgICBkYXRhOiAoZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogbnVsbCksXG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcblxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgcmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIpIHtcbiAgICAgICAgICBsZXQgcmVqZWN0aW9uID0ganFYSFIucmVzcG9uc2VKU09OIHx8IHt9O1xuXG4gICAgICAgICAgcmVqZWN0aW9uLnN0YXR1cyA9IGpxWEhSLnN0YXR1cztcblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIkxvc3QgY29ubmVjdGlvbiB3aXRoIGFwcGxpY2F0aW9uLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gJ05PVCBGT1VORCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dDtcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkLmFqYXgoeGhyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCh1cmwsIHBhcmFtcywgbG9jaykge1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIHVybCArPSAnPycgKyAkLnBhcmFtKHBhcmFtcyk7XG4gICAgfVxuXG4gICAgaWYgKGxvY2spIHtcbiAgICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgICAgLy8gdXBkYXRlIHVybCBpbiBleGlzdGluZyBsb2NrP1xuICAgICAgaWYgKHRoaXMuX2xvY2tzW2xvY2tdKSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdLnVybCA9IHVybDtcbiAgICAgIH1cblxuICAgICAgLy8gaW1tZWRpYXRlbHkgZGVyZWZlcmVuY2UgcHJvbWlzZSBoYW5kbGVycyB3aXRob3V0IGRvaW5nIGFueXRoaW5nXG4gICAgICAvLyB3ZSBhcmUgYWxyZWFkeSB3YWl0aW5nIGZvciBleGlzdGluZyByZXNwb25zZSB0byByZXNvbHZlXG4gICAgICBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAvLyByZXR1cm4gcHJvbWlzZSB0aGF0IHdpbGwgYmVnaW4gd2hlbiBvcmlnaW5hbCBvbmUgcmVzb2x2ZXNcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fbG9ja3NbbG9ja10gJiYgdGhpcy5fbG9ja3NbbG9ja10ud2FpdCkge1xuICAgICAgICB0aGlzLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBsZXQgd2FpdCA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgLy8ga2VlcCB3YWl0aW5nIG9uIHByb21pc2VcbiAgICAgICAgICAgIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS53YWl0KSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHdhaXQodXJsKTtcbiAgICAgICAgICAgICAgfSwgMzAwKTtcblxuICAgICAgICAgICAgLy8gcG9sbCBmb3IgbmV3IHVybFxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9sb2Nrc1tsb2NrXS51cmwgIT09IHVybCkge1xuICAgICAgICAgICAgICB3YWl0KHNlbGYuX2xvY2tzW2xvY2tdLnVybCk7XG5cbiAgICAgICAgICAgIC8vIGFqYXggYmFja2VuZCBmb3IgcmVzcG9uc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuX2xvY2tzW2xvY2tdLndhaXRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICBzZWxmLnJlcXVlc3QoJ0dFVCcsIHNlbGYuX2xvY2tzW2xvY2tdLnVybCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgd2FpdChzZWxmLl9sb2Nrc1tsb2NrXS51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICByZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHdhaXQoc2VsZi5fbG9ja3NbbG9ja10udXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdhaXQodXJsKTtcbiAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gc2V0dXAgbmV3IGxvY2sgd2l0aG91dCB3YWl0ZXJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xvY2tzW2xvY2tdID0ge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICB3YWl0OiB0cnVlLFxuICAgICAgICAgIHdhaXRlcjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgc2VsZi5yZXF1ZXN0KCdHRVQnLCB1cmwpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgc2VsZi5fbG9ja3NbbG9ja10ud2FpdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNlbGYuX2xvY2tzW2xvY2tdLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICAgICBzZWxmLl9sb2Nrc1tsb2NrXS53YWl0ID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2VsZi5fbG9ja3NbbG9ja10udXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KHJlamVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdHRVQnLCB1cmwpO1xuICAgIH1cbiAgfVxuXG4gIHBvc3QodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUE9TVCcsIHVybCwgZGF0YSk7XG4gIH1cblxuICBwYXRjaCh1cmwsIGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdQQVRDSCcsIHVybCwgZGF0YSk7XG4gIH1cblxuICBwdXQodXJsLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUFVUJywgdXJsLCBkYXRhKTtcbiAgfVxuXG4gIGRlbGV0ZSh1cmwpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdERUxFVEUnLCB1cmwpO1xuICB9XG5cbiAgdXBsb2FkKHVybCwgZGF0YSwgcHJvZ3Jlc3MpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgbGV0IHhociA9IHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ1gtQ1NSRlRva2VuJzogc2VsZi5nZXRDc3JmVG9rZW4oKVxuICAgICAgICB9LFxuXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuXG4gICAgICAgIHhocjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGV0IHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgICBwcm9ncmVzcyhNYXRoLnJvdW5kKGV2dC5sb2FkZWQgLyBldnQudG90YWwgKiAxMDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuIHhocjtcbiAgICAgICAgfSxcblxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihqcVhIUikge1xuICAgICAgICAgIGxldCByZWplY3Rpb24gPSBqcVhIUi5yZXNwb25zZUpTT04gfHwge307XG5cbiAgICAgICAgICByZWplY3Rpb24uc3RhdHVzID0ganFYSFIuc3RhdHVzO1xuXG4gICAgICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiTG9zdCBjb25uZWN0aW9uIHdpdGggYXBwbGljYXRpb24uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyZWplY3Rpb24uc3RhdHVzID09PSA0MTMgJiYgIXJlamVjdGlvbi5kZXRhaWwpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5kZXRhaWwgPSBnZXR0ZXh0KFwiVXBsb2FkIHdhcyByZWplY3RlZCBieSBzZXJ2ZXIgYXMgdG9vIGxhcmdlLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdGlvbi5kZXRhaWwgfHwgcmVqZWN0aW9uLmRldGFpbCA9PT0gJ05PVCBGT1VORCcpIHtcbiAgICAgICAgICAgICAgcmVqZWN0aW9uLmRldGFpbCA9IGdldHRleHQoXCJBY3Rpb24gbGluayBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNTAwICYmICFyZWplY3Rpb24uZGV0YWlsKSB7XG4gICAgICAgICAgICByZWplY3Rpb24uZGV0YWlsID0gZ2V0dGV4dChcIlVua25vd24gZXJyb3IgaGFzIG9jY3VyZWQuXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlamVjdGlvbi5zdGF0dXNUZXh0ID0ganFYSFIuc3RhdHVzVGV4dDtcblxuICAgICAgICAgIHJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkLmFqYXgoeGhyKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQWpheCgpO1xuIiwiaW1wb3J0IHsgc2lnbkluLCBzaWduT3V0IH0gZnJvbSAnbWlzYWdvL3JlZHVjZXJzL2F1dGgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICBpbml0KHN0b3JlLCBsb2NhbCwgbW9kYWwpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIHRoaXMuX2xvY2FsID0gbG9jYWw7XG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcblxuICAgIC8vIHRlbGwgb3RoZXIgdGFicyB3aGF0IGF1dGggc3RhdGUgaXMgYmVjYXVzZSB3ZSBhcmUgbW9zdCBjdXJyZW50IHdpdGggaXRcbiAgICB0aGlzLnN5bmNTZXNzaW9uKCk7XG5cbiAgICAvLyBsaXN0ZW4gZm9yIG90aGVyIHRhYnMgdG8gdGVsbCB1cyB0aGF0IHN0YXRlIGNoYW5nZWRcbiAgICB0aGlzLndhdGNoU3RhdGUoKTtcbiAgfVxuXG4gIHN5bmNTZXNzaW9uKCkge1xuICAgIGxldCBzdGF0ZSA9IHRoaXMuX3N0b3JlLmdldFN0YXRlKCkuYXV0aDtcbiAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICAgICAgdXNlcm5hbWU6IHN0YXRlLnVzZXIudXNlcm5hbWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2NhbC5zZXQoJ2F1dGgnLCB7XG4gICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHdhdGNoU3RhdGUoKSB7XG4gICAgdGhpcy5fbG9jYWwud2F0Y2goJ2F1dGgnLCAobmV3U3RhdGUpID0+IHtcbiAgICAgIGlmIChuZXdTdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbkluKHtcbiAgICAgICAgICB1c2VybmFtZTogbmV3U3RhdGUudXNlcm5hbWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goc2lnbk91dCgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduSW4odXNlcikge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25Jbih1c2VyKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWVcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cblxuICBzaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQoKSk7XG4gICAgdGhpcy5fbG9jYWwuc2V0KCdhdXRoJywge1xuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuX21vZGFsLmhpZGUoKTtcbiAgfVxuXG4gIHNvZnRTaWduT3V0KCkge1xuICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHNpZ25PdXQodHJ1ZSkpO1xuICAgIHRoaXMuX2xvY2FsLnNldCgnYXV0aCcsIHtcbiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLl9tb2RhbC5oaWRlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGgoKTsiLCIvKiBnbG9iYWwgZ3JlY2FwdGNoYSAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgRm9ybUdyb3VwIGZyb20gJ21pc2Fnby9jb21wb25lbnRzL2Zvcm0tZ3JvdXAnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGNsYXNzIEJhc2VDYXB0Y2hhIHtcbiAgaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuX2FqYXggPSBhamF4O1xuICAgIHRoaXMuX2luY2x1ZGUgPSBpbmNsdWRlO1xuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgLy8gaW1tZWRpYXRlbHkgcmVzb2x2ZSBhcyB3ZSBkb24ndCBoYXZlIGFueXRoaW5nIHRvIHZhbGlkYXRlXG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFFBQ2FwdGNoYSBleHRlbmRzIEJhc2VDYXB0Y2hhIHtcbiAgbG9hZCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYuX2FqYXguZ2V0KHNlbGYuX2NvbnRleHQuZ2V0KCdDQVBUQ0hBX0FQSScpKS50aGVuKFxuICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBzZWxmLnF1ZXN0aW9uID0gZGF0YS5xdWVzdGlvbjtcbiAgICAgICAgc2VsZi5oZWxwVGV4dCA9IGRhdGEuaGVscF90ZXh0O1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5fc25hY2tiYXIuZXJyb3IoZ2V0dGV4dChcIkZhaWxlZCB0byBsb2FkIENBUFRDSEEuXCIpKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gPEZvcm1Hcm91cCBsYWJlbD17dGhpcy5xdWVzdGlvbn0gZm9yPVwiaWRfY2FwdGNoYVwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWxDbGFzcz17a3dhcmdzLmxhYmVsQ2xhc3MgfHwgXCJjb2wtc20tNFwifVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDbGFzcz17a3dhcmdzLmNvbnRyb2xDbGFzcyB8fCBcImNvbC1zbS04XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbj17a3dhcmdzLmZvcm0uc3RhdGUuZXJyb3JzLmNhcHRjaGF9XG4gICAgICAgICAgICAgICAgICAgICAgaGVscFRleHQ9e3RoaXMuaGVscFRleHQgfHwgbnVsbH0+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlkX2NhcHRjaGFcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpZF9jYXB0Y2hhX3N0YXR1c1wiXG4gICAgICAgICAgICAgZGlzYWJsZWQ9e2t3YXJncy5mb3JtLnN0YXRlLmlzTG9hZGluZ31cbiAgICAgICAgICAgICBvbkNoYW5nZT17a3dhcmdzLmZvcm0uYmluZElucHV0KCdjYXB0Y2hhJyl9XG4gICAgICAgICAgICAgdmFsdWU9e2t3YXJncy5mb3JtLnN0YXRlLmNhcHRjaGF9IC8+XG4gICAgPC9Gb3JtR3JvdXA+O1xuICB9XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG59XG5cblxuZXhwb3J0IGNsYXNzIFJlQ2FwdGNoYUNvbXBvbmVudCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGdyZWNhcHRjaGEucmVuZGVyKCdyZWNhcHRjaGEnLCB7XG4gICAgICAnc2l0ZWtleSc6IHRoaXMucHJvcHMuc2l0ZUtleSxcbiAgICAgICdjYWxsYmFjayc6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAvLyBmaXJlIGZha2V5IGV2ZW50IHRvIGJpbmRpbmdcbiAgICAgICAgdGhpcy5wcm9wcy5iaW5kaW5nKHtcbiAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHJldHVybiA8ZGl2IGlkPVwicmVjYXB0Y2hhXCIgLz47XG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVDYXB0Y2hhIGV4dGVuZHMgQmFzZUNhcHRjaGEge1xuICBsb2FkKCkge1xuICAgIHRoaXMuX2luY2x1ZGUuaW5jbHVkZSgnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzJywgdHJ1ZSk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIHdhaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBncmVjYXB0Y2hhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KCk7XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3YWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICB2YWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBjb21wb25lbnQoa3dhcmdzKSB7XG4gICAgcmV0dXJuIDxGb3JtR3JvdXAgbGFiZWw9e2dldHRleHQoXCJDYXB0Y2hhXCIpfSBmb3I9XCJpZF9jYXB0Y2hhXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbENsYXNzPXtrd2FyZ3MubGFiZWxDbGFzcyB8fCBcImNvbC1zbS00XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbENsYXNzPXtrd2FyZ3MuY29udHJvbENsYXNzIHx8IFwiY29sLXNtLThcIn1cbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uPXtrd2FyZ3MuZm9ybS5zdGF0ZS5lcnJvcnMuY2FwdGNoYX1cbiAgICAgICAgICAgICAgICAgICAgICBoZWxwVGV4dD17Z2V0dGV4dChcIlBsZWFzZSBzb2x2ZSB0aGUgcXVpY2sgdGVzdC5cIil9PlxuICAgICAgPFJlQ2FwdGNoYUNvbXBvbmVudCBzaXRlS2V5PXt0aGlzLl9jb250ZXh0LmdldCgnU0VUVElOR1MnKS5yZWNhcHRjaGFfc2l0ZV9rZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmc9e2t3YXJncy5mb3JtLmJpbmRJbnB1dCgnY2FwdGNoYScpfSAvPlxuICAgIDwvRm9ybUdyb3VwPjtcbiAgfVxuICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xufVxuXG5leHBvcnQgY2xhc3MgQ2FwdGNoYSB7XG4gIGluaXQoY29udGV4dCwgYWpheCwgaW5jbHVkZSwgc25hY2tiYXIpIHtcbiAgICBzd2l0Y2goY29udGV4dC5nZXQoJ1NFVFRJTkdTJykuY2FwdGNoYV90eXBlKSB7XG4gICAgICBjYXNlICdubyc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgTm9DYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdxYSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUUFDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdyZSc6XG4gICAgICAgIHRoaXMuX2NhcHRjaGEgPSBuZXcgUmVDYXB0Y2hhKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuX2NhcHRjaGEuaW5pdChjb250ZXh0LCBhamF4LCBpbmNsdWRlLCBzbmFja2Jhcik7XG4gIH1cblxuICAvLyBhY2Nlc3NvcnMgZm9yIHVuZGVybHlpbmcgc3RyYXRlZ3lcblxuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXB0Y2hhLmxvYWQoKTtcbiAgfVxuXG4gIHZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS52YWxpZGF0b3IoKTtcbiAgfVxuXG4gIGNvbXBvbmVudChrd2FyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FwdGNoYS5jb21wb25lbnQoa3dhcmdzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQ2FwdGNoYSgpOyIsImV4cG9ydCBjbGFzcyBJbmNsdWRlIHtcbiAgaW5pdChzdGF0aWNVcmwpIHtcbiAgICB0aGlzLl9zdGF0aWNVcmwgPSBzdGF0aWNVcmw7XG4gICAgdGhpcy5faW5jbHVkZWQgPSBbXTtcbiAgfVxuXG4gIGluY2x1ZGUoc2NyaXB0LCByZW1vdGU9ZmFsc2UpIHtcbiAgICBpZiAodGhpcy5faW5jbHVkZWQuaW5kZXhPZihzY3JpcHQpID09PSAtMSkge1xuICAgICAgdGhpcy5faW5jbHVkZWQucHVzaChzY3JpcHQpO1xuICAgICAgdGhpcy5faW5jbHVkZShzY3JpcHQsIHJlbW90ZSk7XG4gICAgfVxuICB9XG5cbiAgX2luY2x1ZGUoc2NyaXB0LCByZW1vdGUpIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAoIXJlbW90ZSA/IHRoaXMuX3N0YXRpY1VybCA6ICcnKSArIHNjcmlwdCxcbiAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgZGF0YVR5cGU6ICdzY3JpcHQnXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IEluY2x1ZGUoKTsiLCJsZXQgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2Uge1xuICBpbml0KHByZWZpeCkge1xuICAgIHRoaXMuX3ByZWZpeCA9IHByZWZpeDtcbiAgICB0aGlzLl93YXRjaGVycyA9IFtdO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCAoZSkgPT4ge1xuICAgICAgbGV0IG5ld1ZhbHVlSnNvbiA9IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICB0aGlzLl93YXRjaGVycy5mb3JFYWNoKGZ1bmN0aW9uKHdhdGNoZXIpIHtcbiAgICAgICAgaWYgKHdhdGNoZXIua2V5ID09PSBlLmtleSAmJiBlLm9sZFZhbHVlICE9PSBlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgd2F0Y2hlci5jYWxsYmFjayhuZXdWYWx1ZUpzb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgc3RvcmFnZS5zZXRJdGVtKHRoaXMuX3ByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBsZXQgaXRlbVN0cmluZyA9IHN0b3JhZ2UuZ2V0SXRlbSh0aGlzLl9wcmVmaXggKyBrZXkpO1xuICAgIGlmIChpdGVtU3RyaW5nKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtU3RyaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgd2F0Y2goa2V5LCBjYWxsYmFjaykge1xuICAgIHRoaXMuX3dhdGNoZXJzLnB1c2goe1xuICAgICAga2V5OiB0aGlzLl9wcmVmaXggKyBrZXksXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9jYWxTdG9yYWdlKCk7IiwiaW1wb3J0IG1vdW50IGZyb20gJ21pc2Fnby91dGlscy9tb3VudC1jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgTW9iaWxlTmF2YmFyRHJvcGRvd24ge1xuICBpbml0KGVsZW1lbnQpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9jb21wb25lbnQgPSBudWxsO1xuICB9XG5cbiAgc2hvdyhjb21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5fY29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dDb25uZWN0ZWQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuX2NvbXBvbmVudCA9PT0gbmFtZSkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbXBvbmVudCA9IG5hbWU7XG4gICAgICBtb3VudChjb21wb25lbnQsIHRoaXMuX2VsZW1lbnQuaWQsIHRydWUpO1xuICAgICAgJCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgJCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIHRoaXMuX2NvbXBvbmVudCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IE1vYmlsZU5hdmJhckRyb3Bkb3duKCk7XG4iLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBtb3VudCBmcm9tICdtaXNhZ28vdXRpbHMvbW91bnQtY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIE1vZGFsIHtcbiAgaW5pdChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICB0aGlzLl9tb2RhbCA9ICQoZWxlbWVudCkubW9kYWwoe3Nob3c6IGZhbHNlfSk7XG5cbiAgICB0aGlzLl9tb2RhbC5vbignaGlkZGVuLmJzLm1vZGFsJywgKCkgPT4ge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3coY29tcG9uZW50KSB7XG4gICAgbW91bnQoY29tcG9uZW50LCB0aGlzLl9lbGVtZW50LmlkKTtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbCgnc2hvdycpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLl9tb2RhbC5tb2RhbCgnaGlkZScpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBNb2RhbCgpO1xuIiwiY29uc3QgeXRSZWdFeHAgPSBuZXcgUmVnRXhwKCdeLiooPzooPzp5b3V0dVxcLmJlXFwvfHZcXC98dmlcXC98dVxcL1xcd1xcL3xlbWJlZFxcLyl8KD86KD86d2F0Y2gpP1xcP3YoPzppKT89fFxcJnYoPzppKT89KSkoW14jXFwmXFw/XSopLionKTtcblxuZXhwb3J0IGNsYXNzIE9uZUJveCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3lvdXR1YmUgPSB7fTtcbiAgfVxuXG4gIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcbiAgcmVuZGVyID0gKGRvbW5vZGUpID0+IHtcbiAgICBpZiAoIWRvbW5vZGUpIHJldHVybjtcblxuICAgIHRoaXMuaGlnaGxpZ2h0Q29kZShkb21ub2RlKTtcbiAgICB0aGlzLmVtYmVkWW91dHViZVBsYXllcnMoZG9tbm9kZSk7XG4gIH07XG4gIC8vIGpzaGludCBpZ25vcmU6ZW5kXG5cbiAgaGlnaGxpZ2h0Q29kZShkb21ub2RlKSB7XG4gICAgY29uc3QgY29kZWJsb2NrcyA9IGRvbW5vZGUucXVlcnlTZWxlY3RvckFsbCgncHJlPmNvZGUnKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgY29kZWJsb2Nrcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBjb2RlYmxvY2tzW2ldO1xuICAgICAgaGxqcy5oaWdobGlnaHRCbG9jayhjb2RlKTtcbiAgICB9XG4gIH1cblxuICBlbWJlZFlvdXR1YmVQbGF5ZXJzKGRvbW5vZGUpIHtcbiAgICBjb25zdCBhbmNob3JzID0gZG9tbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdwPmEnKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGNvbnN0IGEgPSBhbmNob3JzW2ldO1xuICAgICAgY29uc3QgcCA9IGEucGFyZW50Tm9kZTtcbiAgICAgIGNvbnN0IG9ubHlDaGlsZCA9IHAuY2hpbGROb2Rlcy5sZW5ndGggPT09IDE7XG5cbiAgICAgIGlmICghdGhpcy5feW91dHViZVthLmhyZWZdKSB7XG4gICAgICAgIHRoaXMuX3lvdXR1YmVbYS5ocmVmXSA9IHBhcnNlWW91dHViZVVybChhLmhyZWYpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB5b3V0dWJlTW92aWUgPSB0aGlzLl95b3V0dWJlW2EuaHJlZl07XG4gICAgICBpZiAob25seUNoaWxkICYmICEheW91dHViZU1vdmllICYmIHlvdXR1YmVNb3ZpZS5kYXRhICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnN3YXBZb3V0dWJlUGxheWVyKGEsIHlvdXR1YmVNb3ZpZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3dhcFlvdXR1YmVQbGF5ZXIoZWxlbWVudCwgeW91dHViZSkge1xuICAgIGxldCB1cmwgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJztcbiAgICB1cmwgKz0geW91dHViZS52aWRlbztcbiAgICB1cmwgKz0gJz9yZWw9MCc7XG4gICAgaWYgKHlvdXR1YmUuc3RhcnQpIHtcbiAgICAgIHVybCArPSAnJnN0YXJ0PScgKyB5b3V0dWJlLnN0YXJ0O1xuICAgIH1cblxuICAgICQoZWxlbWVudCkucmVwbGFjZVdpdGgoJCgnPGlmcmFtZSB3aWR0aD1cIjU2MFwiIGhlaWdodD1cIjMxNVwiIHNyYz1cIicgKyB1cmwgKyAnXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgT25lQm94KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVlvdXR1YmVVcmwodXJsKSB7XG4gIGNvbnN0IGNsZWFuZWRVcmwgPSBjbGVhblVybCh1cmwpO1xuICBjb25zdCB2aWRlbyA9IGdldFZpZGVvSWRGcm9tVXJsKGNsZWFuZWRVcmwpO1xuXG4gIGlmICghdmlkZW8pIHJldHVybiBudWxsO1xuXG4gIGxldCBzdGFydCA9IDA7XG4gIGlmIChjbGVhbmVkVXJsLmluZGV4T2YoJz8nKSA+IDApe1xuICAgIGNvbnN0IHF1ZXJ5ID0gY2xlYW5lZFVybC5zdWJzdHIoY2xlYW5lZFVybC5pbmRleE9mKCc/JykgKyAxKTtcbiAgICBjb25zdCB0aW1lYml0ID0gcXVlcnkuc3BsaXQoJyYnKS5maWx0ZXIoKGkpID0+IHtcbiAgICAgIHJldHVybiBpLnN1YnN0cigwLCAyKSA9PT0gJ3Q9JztcbiAgICB9KVswXTtcblxuICAgIGlmICh0aW1lYml0KSB7XG4gICAgICBjb25zdCBiaXRzID0gdGltZWJpdC5zdWJzdHIoMikuc3BsaXQoJ20nKTtcbiAgICAgIGlmIChiaXRzWzBdLnN1YnN0cigtMSkgPT09ICdzJykge1xuICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzBdLnN1YnN0cigwLCBiaXRzWzBdLmxlbmd0aCAtIDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ICs9IHBhcnNlSW50KGJpdHNbMF0pICogNjA7XG4gICAgICAgIGlmICghIWJpdHNbMV0gJiYgYml0c1sxXS5zdWJzdHIoLTEpID09PSAncycpIHtcbiAgICAgICAgICBzdGFydCArPSBwYXJzZUludChiaXRzWzFdLnN1YnN0cigwLCBiaXRzWzFdLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQsXG4gICAgdmlkZW9cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVXJsKHVybCkge1xuICBsZXQgY2xlYW4gPSB1cmw7XG5cbiAgaWYgKHVybC5zdWJzdHIoMCwgOCkgPT09ICdodHRwczovLycpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig4KTtcbiAgfSBlbHNlIGlmICh1cmwuc3Vic3RyKDAsIDcpID09PSAnaHR0cDovLycpIHtcbiAgICBjbGVhbiA9IGNsZWFuLnN1YnN0cig3KTtcbiAgfVxuXG4gIGlmIChjbGVhbi5zdWJzdHIoMCwgNCkgPT09ICd3d3cuJykge1xuICAgIGNsZWFuID0gY2xlYW4uc3Vic3RyKDQpO1xuICB9XG5cbiAgcmV0dXJuIGNsZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlkZW9JZEZyb21VcmwodXJsKSB7XG4gIGNvbnN0IHZpZGVvID0gdXJsLm1hdGNoKHl0UmVnRXhwKTtcbiAgaWYgKHZpZGVvKSB7XG4gICAgcmV0dXJuIHZpZGVvWzFdO1xuICB9XG4gIHJldHVybiBudWxsO1xufSIsImV4cG9ydCBjbGFzcyBQYWdlVGl0bGUge1xuICBpbml0KGluZGV4VGl0bGUsIGZvcnVtTmFtZSkge1xuICAgIHRoaXMuX2luZGV4VGl0bGUgPSBpbmRleFRpdGxlO1xuICAgIHRoaXMuX2ZvcnVtTmFtZSA9IGZvcnVtTmFtZTtcbiAgfVxuXG4gIHNldCh0aXRsZSkge1xuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5faW5kZXhUaXRsZSB8fCB0aGlzLl9mb3J1bU5hbWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRpdGxlID0ge3RpdGxlOiB0aXRsZX07XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsVGl0bGUgPSB0aXRsZS50aXRsZTtcblxuICAgIGlmICh0aXRsZS5wYWdlID4gMSkge1xuICAgICAgY29uc3QgcGFnZUxhYmVsID0gaW50ZXJwb2xhdGUoZ2V0dGV4dCgncGFnZTogJShwYWdlKXMnKSwge1xuICAgICAgICBwYWdlOiB0aXRsZS5wYWdlXG4gICAgICB9LCB0cnVlKTtcblxuICAgICAgZmluYWxUaXRsZSArPSAnICgnICsgcGFnZUxhYmVsICsgJyknO1xuICAgIH1cblxuICAgIGlmICh0aXRsZS5wYXJlbnQpIHtcbiAgICAgIGZpbmFsVGl0bGUgKz0gJyB8ICcgKyB0aXRsZS5wYXJlbnQ7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQudGl0bGUgPSBmaW5hbFRpdGxlICsgJyB8ICcgKyB0aGlzLl9mb3J1bU5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFBhZ2VUaXRsZSgpO1xuIiwiZXhwb3J0IGNsYXNzIFBvbGxzIHtcbiAgaW5pdChhamF4LCBzbmFja2Jhcikge1xuICAgIHRoaXMuX2FqYXggPSBhamF4O1xuICAgIHRoaXMuX3NuYWNrYmFyID0gc25hY2tiYXI7XG5cbiAgICB0aGlzLl9wb2xscyA9IHt9O1xuICB9XG5cbiAgc3RhcnQoa3dhcmdzKSB7XG4gICAgdGhpcy5zdG9wKGt3YXJncy5wb2xsKTtcblxuICAgIGNvbnN0IHBvb2xTZXJ2ZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0gPSBrd2FyZ3M7XG5cbiAgICAgIHRoaXMuX2FqYXguZ2V0KGt3YXJncy51cmwsIGt3YXJncy5kYXRhIHx8IG51bGwpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9wb2xsc1trd2FyZ3MucG9sbF0uX3N0b3BwZWQpIHtcbiAgICAgICAgICBrd2FyZ3MudXBkYXRlKGRhdGEpO1xuXG4gICAgICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdLnRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChwb29sU2VydmVyLCBrd2FyZ3MuZnJlcXVlbmN5KTtcbiAgICAgICAgfVxuICAgICAgfSwgKHJlamVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuX3BvbGxzW2t3YXJncy5wb2xsXS5fc3RvcHBlZCkge1xuICAgICAgICAgIGlmIChrd2FyZ3MuZXJyb3IpIHtcbiAgICAgICAgICAgIGt3YXJncy5lcnJvcihyZWplY3Rpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zbmFja2Jhci5hcGlFcnJvcihyZWplY3Rpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChrd2FyZ3MuZGVsYXllZCkge1xuICAgICAgdGhpcy5fcG9sbHNba3dhcmdzLnBvbGxdID0ge1xuICAgICAgICB0aW1lb3V0OiB3aW5kb3cuc2V0VGltZW91dChwb29sU2VydmVyLCBrd2FyZ3MuZnJlcXVlbmN5KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9vbFNlcnZlcigpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AocG9sbElkKSB7XG4gICAgaWYgKHRoaXMuX3BvbGxzW3BvbGxJZF0pIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcG9sbHNbcG9sbElkXS50aW1lb3V0KTtcbiAgICAgIHRoaXMuX3BvbGxzW3BvbGxJZF0uX3N0b3BwZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUG9sbHMoKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IHsgUG9sbEZvcm0gfSBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb2xsJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUG9zdGluZ0NvbXBvbmVudCBmcm9tICdtaXNhZ28vY29tcG9uZW50cy9wb3N0aW5nJzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgbW91bnQgZnJvbSAnbWlzYWdvL3V0aWxzL21vdW50LWNvbXBvbmVudCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG5leHBvcnQgY2xhc3MgUG9zdGluZyB7XG4gIGluaXQoYWpheCwgc25hY2tiYXIsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5fYWpheCA9IGFqYXg7XG4gICAgdGhpcy5fc25hY2tiYXIgPSBzbmFja2JhcjtcbiAgICB0aGlzLl9wbGFjZWhvbGRlciA9ICQocGxhY2Vob2xkZXIpO1xuXG4gICAgdGhpcy5fbW9kZSA9IG51bGw7XG5cbiAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLl9pc0Nsb3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIG9wZW4ocHJvcHMpIHtcbiAgICBpZiAodGhpcy5faXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5fbW9kZSA9IHByb3BzLm1vZGU7XG4gICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXQ7XG4gICAgICB0aGlzLl9yZWFsT3Blbihwcm9wcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc09wZW4gIT09IHByb3BzLnN1Ym1pdCkge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBnZXR0ZXh0KFwiWW91IGFyZSBhbHJlYWR5IHdvcmtpbmcgb24gb3RoZXIgbWVzc2FnZS4gRG8geW91IHdhbnQgdG8gZGlzY2FyZCBpdD9cIik7XG4gICAgICBpZiAodGhpcy5fbW9kZSA9PSAnUE9MTCcpIHtcbiAgICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgYXJlIGFscmVhZHkgd29ya2luZyBvbiBhIHBvbGwuIERvIHlvdSB3YW50IHRvIGRpc2NhcmQgaXQ/XCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjaGFuZ2VGb3JtID0gY29uZmlybShtZXNzYWdlKTtcbiAgICAgIGlmIChjaGFuZ2VGb3JtKSB7XG4gICAgICAgIHRoaXMuX21vZGUgPSBwcm9wcy5tb2RlO1xuICAgICAgICB0aGlzLl9pc09wZW4gPSBwcm9wcy5zdWJtaXQ7XG4gICAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX21vZGUgPT0gJ1JFUExZJyAmJiBwcm9wcy5tb2RlID09ICdSRVBMWScpIHtcbiAgICAgIHRoaXMuX3JlYWxPcGVuKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gIF9yZWFsT3Blbihwcm9wcykge1xuICAgIGlmIChwcm9wcy5tb2RlID09ICdQT0xMJykge1xuICAgICAgbW91bnQoXG4gICAgICAgIDxQb2xsRm9ybSB7Li4ucHJvcHN9IC8+LFxuICAgICAgICAncG9zdGluZy1tb3VudCdcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdW50KFxuICAgICAgICA8UG9zdGluZ0NvbXBvbmVudCB7Li4ucHJvcHN9IC8+LFxuICAgICAgICAncG9zdGluZy1tb3VudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fcGxhY2Vob2xkZXIuYWRkQ2xhc3MoJ3NsaWRlLWluJyk7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IHRoaXMuX3BsYWNlaG9sZGVyLm9mZnNldCgpLnRvcFxuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiAmJiAhdGhpcy5faXNDbG9zaW5nKSB7XG4gICAgICB0aGlzLl9pc0Nsb3NpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5fcGxhY2Vob2xkZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlLWluJyk7XG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdGluZy1tb3VudCcpKTtcbiAgICAgICAgdGhpcy5faXNDbG9zaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH07XG4gIC8vIGpzaGludCBpZ25vcmU6ZW5kXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBQb3N0aW5nKCk7XG4iLCJpbXBvcnQgeyBzaG93U25hY2tiYXIsIGhpZGVTbmFja2JhciB9IGZyb20gJ21pc2Fnby9yZWR1Y2Vycy9zbmFja2Jhcic7XG5cbmNvbnN0IEhJREVfQU5JTUFUSU9OX0xFTkdUSCA9IDMwMDtcbmNvbnN0IE1FU1NBR0VfU0hPV19MRU5HVEggPSA1MDAwO1xuXG5leHBvcnQgY2xhc3MgU25hY2tiYXIge1xuICBpbml0KHN0b3JlKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgfVxuXG4gIGFsZXJ0KG1lc3NhZ2UsIHR5cGUpIHtcbiAgICBpZiAodGhpcy5fdGltZW91dCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKGhpZGVTbmFja2JhcigpKTtcblxuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuYWxlcnQobWVzc2FnZSwgdHlwZSk7XG4gICAgICB9LCBISURFX0FOSU1BVElPTl9MRU5HVEgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChzaG93U25hY2tiYXIobWVzc2FnZSwgdHlwZSkpO1xuICAgICAgdGhpcy5fdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2goaGlkZVNuYWNrYmFyKCkpO1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICAgIH0sIE1FU1NBR0VfU0hPV19MRU5HVEgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNob3J0aGFuZHMgZm9yIG1lc3NhZ2UgdHlwZXNcblxuICBpbmZvKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdpbmZvJyk7XG4gIH1cblxuICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICdzdWNjZXNzJyk7XG4gIH1cblxuICB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmFsZXJ0KG1lc3NhZ2UsICd3YXJuaW5nJyk7XG4gIH1cblxuICBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5hbGVydChtZXNzYWdlLCAnZXJyb3InKTtcbiAgfVxuXG4gIC8vIHNob3J0aGFuZCBmb3IgYXBpIGVycm9yc1xuXG4gIGFwaUVycm9yKHJlamVjdGlvbikge1xuICAgIGxldCBtZXNzYWdlID0gcmVqZWN0aW9uLmRldGFpbDtcblxuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgaWYgKHJlamVjdGlvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBtZXNzYWdlID0gZ2V0dGV4dChcIkFjdGlvbiBsaW5rIGlzIGludmFsaWQuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJVbmtub3duIGVycm9yIGhhcyBvY2N1cmVkLlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzICYmIG1lc3NhZ2UgPT09IFwiUGVybWlzc2lvbiBkZW5pZWRcIikge1xuICAgICAgbWVzc2FnZSA9IGdldHRleHQoXCJZb3UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uXCIpO1xuICAgIH1cblxuICAgIHRoaXMuZXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFNuYWNrYmFyKCk7XG4iLCJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuXG5leHBvcnQgY2xhc3MgU3RvcmVXcmFwcGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc3RvcmUgPSBudWxsO1xuICAgIHRoaXMuX3JlZHVjZXJzID0ge307XG4gICAgdGhpcy5faW5pdGlhbFN0YXRlID0ge307XG4gIH1cblxuICBhZGRSZWR1Y2VyKG5hbWUsIHJlZHVjZXIsIGluaXRpYWxTdGF0ZSkge1xuICAgIHRoaXMuX3JlZHVjZXJzW25hbWVdID0gcmVkdWNlcjtcbiAgICB0aGlzLl9pbml0aWFsU3RhdGVbbmFtZV0gPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuX3N0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICBjb21iaW5lUmVkdWNlcnModGhpcy5fcmVkdWNlcnMpLCB0aGlzLl9pbml0aWFsU3RhdGUpO1xuICB9XG5cbiAgZ2V0U3RvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlO1xuICB9XG5cbiAgLy8gU3RvcmUgQVBJXG5cbiAgZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLmdldFN0YXRlKCk7XG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgU3RvcmVXcmFwcGVyKCk7XG4iLCIvKiBnbG9iYWwgenhjdmJuICovXG5leHBvcnQgY2xhc3MgWnhjdmJuIHtcbiAgaW5pdChpbmNsdWRlKSB7XG4gICAgdGhpcy5faW5jbHVkZSA9IGluY2x1ZGU7XG4gICAgdGhpcy5faXNMb2FkZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHNjb3JlUGFzc3dvcmQocGFzc3dvcmQsIGlucHV0cykge1xuICAgIC8vIDAtNCBzY29yZSwgdGhlIG1vcmUgdGhlIHN0cm9uZ2VyIHBhc3N3b3JkXG4gICAgaWYgKHRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICByZXR1cm4genhjdmJuKHBhc3N3b3JkLCBpbnB1dHMpLnNjb3JlO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgbG9hZCgpIHtcbiAgICBpZiAoIXRoaXMuX2lzTG9hZGVkKSB7XG4gICAgICB0aGlzLl9pbmNsdWRlLmluY2x1ZGUoJ21pc2Fnby9qcy96eGN2Ym4uanMnKTtcbiAgICAgIHJldHVybiB0aGlzLl9sb2FkaW5nUHJvbWlzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9hZGVkUHJvbWlzZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9sb2FkaW5nUHJvbWlzZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciB3YWl0ID0gZnVuY3Rpb24odHJpZXM9MCkge1xuICAgICAgICB0cmllcyArPSAxO1xuICAgICAgICBpZiAodHJpZXMgPiAyMDApIHtcbiAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgenhjdmJuID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3YWl0KHRyaWVzKTtcbiAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuX2lzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB3YWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICBfbG9hZGVkUHJvbWlzZSgpIHtcbiAgICAvLyB3ZSBoYXZlIGFscmVhZHkgbG9hZGVkIHp4Y3Zibi5qcywgcmVzb2x2ZSBhd2F5IVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFp4Y3ZibigpOyIsImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIsIGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuaW1wb3J0IEJhbm5lZFBhZ2UgZnJvbSAnbWlzYWdvL2NvbXBvbmVudHMvYmFubmVkLXBhZ2UnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBtaXNhZ28gZnJvbSAnbWlzYWdvL2luZGV4JztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xubGV0IHNlbGVjdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS50aWNrO1xufTtcblxubGV0IFJlZHJhd2VkQmFubmVkUGFnZSA9IGNvbm5lY3Qoc2VsZWN0KShCYW5uZWRQYWdlKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGJhbiwgY2hhbmdlU3RhdGUpIHtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PlxuICAgICAgPFJlZHJhd2VkQmFubmVkUGFnZSBtZXNzYWdlPXtiYW4ubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcz17YmFuLmV4cGlyZXNfb24gPyBtb21lbnQoYmFuLmV4cGlyZXNfb24pIDogbnVsbH0gLz5cbiAgICA8L1Byb3ZpZGVyPixcbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50JylcbiAgKTtcblxuICBpZiAodHlwZW9mIGNoYW5nZVN0YXRlID09PSAndW5kZWZpbmVkJyB8fCBjaGFuZ2VTdGF0ZSkge1xuICAgIGxldCBmb3J1bU5hbWUgPSBtaXNhZ28uZ2V0KCdTRVRUSU5HUycpLmZvcnVtX25hbWU7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBnZXR0ZXh0KFwiWW91IGFyZSBiYW5uZWRcIikgKyAnIHwgJyArIGZvcnVtTmFtZTtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIG1pc2Fnby5nZXQoJ0JBTk5FRF9VUkwnKSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihsaXN0LCByb3dXaWR0aCwgcGFkZGluZz1mYWxzZSkge1xuICBsZXQgcm93cyA9IFtdO1xuICBsZXQgcm93ID0gW107XG5cbiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByb3cucHVzaChlbGVtZW50KTtcbiAgICBpZiAocm93Lmxlbmd0aCA9PT0gcm93V2lkdGgpIHtcbiAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgcm93ID0gW107XG4gICAgfVxuICB9KTtcblxuICAvLyBwYWQgcm93IHRvIHJlcXVpcmVkIGxlbmd0aD9cbiAgaWYgKHBhZGRpbmcgIT09IGZhbHNlICYmIHJvdy5sZW5ndGggPiAwICYmIHJvdy5sZW5ndGggPCByb3dXaWR0aCkge1xuICAgIGZvciAobGV0IGkgPSByb3cubGVuZ3RoOyBpIDwgcm93V2lkdGg7IGkgKyspIHtcbiAgICAgIHJvdy5wdXNoKHBhZGRpbmcpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyb3cubGVuZ3RoKSB7XG4gICAgcm93cy5wdXNoKHJvdyk7XG4gIH1cblxuICByZXR1cm4gcm93cztcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIGxldCBpZHMgPSBbXTtcbiAgcmV0dXJuIGEuY29uY2F0KGIpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKGlkcy5pbmRleE9mKGl0ZW0uaWQpID09PSAtMSkge1xuICAgICAgaWRzLnB1c2goaXRlbS5pZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgY291bnQpIHtcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XG4gIH1cblxuICBjb3VudCgpIHtcbiAgICB0aGlzLl9jb3VudCAtPSAxO1xuICAgIGlmICh0aGlzLl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cbn0iLCJjb25zdCBtYXAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzAzOTsnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIiddL2csIGZ1bmN0aW9uKG0pIHsgcmV0dXJuIG1hcFttXTsgfSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYnl0ZXMpIHtcbiAgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgcmV0dXJuIHJvdW5kU2l6ZShieXRlcyAvICgxMDI0ICogMTAyNCAqIDEwMjQpKSArICcgR0InO1xuICB9IGVsc2UgaWYgKGJ5dGVzID4gMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkgKyAnIE1CJztcbiAgfSBlbHNlIGlmIChieXRlcyA+IDEwMjQpIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzIC8gMTAyNCkgKyAnIEtCJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm91bmRTaXplKGJ5dGVzKSArICcgQic7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kU2l6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUudG9GaXhlZCgxKTtcbn0iLCJjb25zdCBVUkxfUEFUVEVSTiA9IG5ldyBSZWdFeHAoJ14oaHR0cHM/OlxcXFwvXFxcXC8pPygoKFthLXpcXFxcZF0oW2EtelxcXFxkLV0qW2EtelxcXFxkXSkqKVxcXFwuKStbYS16XXsyLH18KChcXFxcZHsxLDN9XFxcXC4pezN9XFxcXGR7MSwzfSkpKFxcXFw6XFxcXGQrKT8oXFxcXC9bLWEtelxcXFxkJV8ufitdKikqKFxcXFw/WzsmYS16XFxcXGQlXy5+Kz0tXSopPyhcXFxcI1stYS16XFxcXGRfXSopPyQnLCdpJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gVVJMX1BBVFRFUk4udGVzdCgkLnRyaW0oc3RyKSk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oQ29tcG9uZW50LCByb290RWxlbWVudElkLCBjb25uZWN0ZWQ9dHJ1ZSkge1xuICBsZXQgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyb290RWxlbWVudElkKTtcblxuICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IENvbXBvbmVudC5wcm9wcyA/IENvbXBvbmVudCA6IDxDb21wb25lbnQgLz47XG4gIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgaWYgKHJvb3RFbGVtZW50KSB7XG4gICAgaWYgKGNvbm5lY3RlZCkge1xuICAgICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmUuZ2V0U3RvcmUoKX0+XG4gICAgICAgICAge2ZpbmFsQ29tcG9uZW50fVxuICAgICAgICA8L1Byb3ZpZGVyPixcbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICAgICAgcm9vdEVsZW1lbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICAgIFJlYWN0RE9NLnJlbmRlcihmaW5hbENvbXBvbmVudCwgcm9vdEVsZW1lbnQpO1xuICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9XG4gIH1cbn1cbiIsImNsYXNzIE9yZGVyZWRMaXN0IHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgICAgdGhpcy5pc09yZGVyZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2l0ZW1zID0gaXRlbXMgfHwgW107XG4gICAgfVxuXG4gICAgYWRkKGtleSwgaXRlbSwgb3JkZXIpIHtcbiAgICAgIHRoaXMuX2l0ZW1zLnB1c2goe1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgaXRlbTogaXRlbSxcblxuICAgICAgICBhZnRlcjogb3JkZXIgPyBvcmRlci5hZnRlciB8fCBudWxsIDogbnVsbCxcbiAgICAgICAgYmVmb3JlOiBvcmRlciA/IG9yZGVyLmJlZm9yZSB8fCBudWxsIDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zW2ldLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2ldLml0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGhhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChrZXkpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZXMucHVzaCh0aGlzLl9pdGVtc1tpXS5pdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgb3JkZXIodmFsdWVzX29ubHkpIHtcbiAgICAgIGlmICghdGhpcy5pc09yZGVyZWQpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB0aGlzLl9vcmRlcih0aGlzLl9pdGVtcyk7XG4gICAgICAgIHRoaXMuaXNPcmRlcmVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlc19vbmx5IHx8IHR5cGVvZiB2YWx1ZXNfb25seSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgb3JkZXJlZFZhbHVlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLm9yZGVyKHRydWUpO1xuICAgIH1cblxuICAgIF9vcmRlcih1bm9yZGVyZWQpIHtcbiAgICAgIC8vIEluZGV4IG9mIHVub3JkZXJlZCBpdGVtc1xuICAgICAgdmFyIGluZGV4ID0gW107XG4gICAgICB1bm9yZGVyZWQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpbmRleC5wdXNoKGl0ZW0ua2V5KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPcmRlcmVkIGl0ZW1zXG4gICAgICB2YXIgb3JkZXJlZCA9IFtdO1xuICAgICAgdmFyIG9yZGVyaW5nID0gW107XG5cbiAgICAgIC8vIEZpcnN0IHBhc3M6IHJlZ2lzdGVyIGl0ZW1zIHRoYXRcbiAgICAgIC8vIGRvbid0IHNwZWNpZnkgdGhlaXIgb3JkZXJcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmICghaXRlbS5hZnRlciAmJiAhaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZWNvbmQgcGFzczogcmVnaXN0ZXIgaXRlbXMgdGhhdFxuICAgICAgLy8gc3BlY2lmeSB0aGVpciBiZWZvcmUgdG8gXCJfZW5kXCJcbiAgICAgIHVub3JkZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmJlZm9yZSA9PT0gXCJfZW5kXCIpIHtcbiAgICAgICAgICBvcmRlcmVkLnB1c2goaXRlbSk7XG4gICAgICAgICAgb3JkZXJpbmcucHVzaChpdGVtLmtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlyZCBwYXNzOiBrZWVwIGl0ZXJhdGluZyBpdGVtc1xuICAgICAgLy8gdW50aWwgd2UgaGl0IGl0ZXJhdGlvbnMgbGltaXQgb3IgZmluaXNoXG4gICAgICAvLyBvcmRlcmluZyBsaXN0XG4gICAgICBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW0pIHtcbiAgICAgICAgdmFyIGluc2VydEF0ID0gLTE7XG4gICAgICAgIGlmIChvcmRlcmluZy5pbmRleE9mKGl0ZW0ua2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICBpZiAoaXRlbS5hZnRlcikge1xuICAgICAgICAgICAgaW5zZXJ0QXQgPSBvcmRlcmluZy5pbmRleE9mKGl0ZW0uYWZ0ZXIpO1xuICAgICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgICBpbnNlcnRBdCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5iZWZvcmUpIHtcbiAgICAgICAgICAgIGluc2VydEF0ID0gb3JkZXJpbmcuaW5kZXhPZihpdGVtLmJlZm9yZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGluc2VydEF0ICE9PSAtMSkge1xuICAgICAgICAgICAgb3JkZXJlZC5zcGxpY2UoaW5zZXJ0QXQsIDAsIGl0ZW0pO1xuICAgICAgICAgICAgb3JkZXJpbmcuc3BsaWNlKGluc2VydEF0LCAwLCBpdGVtLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpdGVyYXRpb25zID0gMjAwO1xuICAgICAgd2hpbGUgKGl0ZXJhdGlvbnMgPiAwICYmIGluZGV4Lmxlbmd0aCAhPT0gb3JkZXJpbmcubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMgLT0gMTtcbiAgICAgICAgdW5vcmRlcmVkLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmRlcmVkO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBkZWZhdWx0IE9yZGVyZWRMaXN0O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGludChtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkpICsgbWluO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UobWluLCBtYXgpIHtcbiAgbGV0IGFycmF5ID0gbmV3IEFycmF5KGludChtaW4sIG1heCkpO1xuICBmb3IobGV0IGk9MDsgaTxhcnJheS5sZW5ndGg7IGkrKyl7XG4gICAgYXJyYXlbaV0gPSBpO1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG59IiwiLy8ganNoaW50IGlnbm9yZTpzdGFydFxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBSb3V0ZXIsIGJyb3dzZXJIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyJztcbmltcG9ydCBzdG9yZSBmcm9tICdtaXNhZ28vc2VydmljZXMvc3RvcmUnO1xuXG5jb25zdCByb290RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlLW1vdW50Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgbGV0IHJvdXRlcyA9IHtcbiAgICBjb21wb25lbnQ6IG9wdGlvbnMuY29tcG9uZW50IHx8IG51bGwsXG4gICAgY2hpbGRSb3V0ZXM6IFtdXG4gIH07XG5cbiAgaWYgKG9wdGlvbnMucm9vdCkge1xuICAgIHJvdXRlcy5jaGlsZFJvdXRlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgcGF0aDogb3B0aW9ucy5yb290LFxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbihuZXh0U3RhdGUsIHJlcGxhY2VTdGF0ZSkge1xuICAgICAgICAgIHJlcGxhY2VTdGF0ZShudWxsLCBvcHRpb25zLnBhdGhzWzBdLnBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXS5jb25jYXQob3B0aW9ucy5wYXRocyk7XG4gIH0gZWxzZSB7XG4gICAgcm91dGVzLmNoaWxkUm91dGVzID0gb3B0aW9ucy5wYXRocztcbiAgfVxuXG4gIFJlYWN0RE9NLnJlbmRlcihcbiAgICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlLmdldFN0b3JlKCl9PlxuICAgICAgPFJvdXRlciByb3V0ZXM9e3JvdXRlc30gaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IC8+XG4gICAgPC9Qcm92aWRlcj4sXG4gICAgcm9vdEVsZW1lbnRcbiAgKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwdXNoKGFycmF5LCB2YWx1ZSkge1xuICBpZiAoYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgbGV0IGNvcHkgPSBhcnJheS5zbGljZSgpO1xuICAgIGNvcHkucHVzaCh2YWx1ZSk7XG4gICAgcmV0dXJuIGNvcHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gaSAhPT0gdmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGUoYXJyYXksIHZhbHVlKSB7XG4gIGlmIChhcnJheS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICBsZXQgY29weSA9IGFycmF5LnNsaWNlKCk7XG4gICAgY29weS5wdXNoKHZhbHVlKTtcbiAgICByZXR1cm4gY29weTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpICE9PSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0cmluZywgc3ViU3RyaW5nKSB7XG4gIHN0cmluZyA9IChzdHJpbmcgKyBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICBzdWJTdHJpbmcgPSAoc3ViU3RyaW5nICsgXCJcIikudG9Mb3dlckNhc2UoKTtcblxuICBpZiAoc3ViU3RyaW5nLmxlbmd0aCA8PSAwKSByZXR1cm4gMDtcblxuICBsZXQgbiA9IDA7XG4gIGxldCBwb3MgPSAwO1xuICBsZXQgc3RlcCA9IHN1YlN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBwb3MgPSBzdHJpbmcuaW5kZXhPZihzdWJTdHJpbmcsIHBvcyk7XG4gICAgaWYgKHBvcyA+PSAwKSB7XG4gICAgICBuICs9IDE7XG4gICAgICBwb3MgKz0gc3RlcDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG47XG59IiwiY29uc3QgRU1BSUwgPSAvXigoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsfSkkL2k7XG5jb25zdCBVU0VSTkFNRSA9IG5ldyBSZWdFeHAoJ15bMC05YS16XSskJywgJ2knKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVkKCkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoJC50cmltKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC5cIik7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW1haWwobWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIUVNQUlMLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZSB8fCBnZXR0ZXh0KFwiRW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLlwiKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaW5MZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9ICcnO1xuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPCBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgXCJFbnN1cmUgdGhpcyB2YWx1ZSBoYXMgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgKGl0IGhhcyAlKHNob3dfdmFsdWUpcykuXCIsXG4gICAgICAgICAgbGltaXRWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW50ZXJwb2xhdGUocmV0dXJuTWVzc2FnZSwge1xuICAgICAgICBsaW1pdF92YWx1ZTogbGltaXRWYWx1ZSxcbiAgICAgICAgc2hvd192YWx1ZTogbGVuZ3RoXG4gICAgICB9LCB0cnVlKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXhMZW5ndGgobGltaXRWYWx1ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmV0dXJuTWVzc2FnZSA9ICcnO1xuICAgIHZhciBsZW5ndGggPSAkLnRyaW0odmFsdWUpLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPiBsaW1pdFZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm5NZXNzYWdlID0gbWVzc2FnZShsaW1pdFZhbHVlLCBsZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuTWVzc2FnZSA9IG5nZXR0ZXh0KFxuICAgICAgICAgIFwiRW5zdXJlIHRoaXMgdmFsdWUgaGFzIGF0IG1vc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlciAoaXQgaGFzICUoc2hvd192YWx1ZSlzKS5cIixcbiAgICAgICAgICBcIkVuc3VyZSB0aGlzIHZhbHVlIGhhcyBhdCBtb3N0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzIChpdCBoYXMgJShzaG93X3ZhbHVlKXMpLlwiLFxuICAgICAgICAgIGxpbWl0VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludGVycG9sYXRlKHJldHVybk1lc3NhZ2UsIHtcbiAgICAgICAgbGltaXRfdmFsdWU6IGxpbWl0VmFsdWUsXG4gICAgICAgIHNob3dfdmFsdWU6IGxlbmd0aFxuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNaW5MZW5ndGgobGVuZ3RoTWluKSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGVuZ3RoTWluKSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBtdXN0IGJlIGF0IGxlYXN0ICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXIgbG9uZy5cIixcbiAgICAgIFwiVXNlcm5hbWUgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVycyBsb25nLlwiLFxuICAgICAgbGVuZ3RoTWluKTtcbiAgfTtcbiAgcmV0dXJuIG1pbkxlbmd0aChsZW5ndGhNaW4sIG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVNYXhMZW5ndGgobGVuZ3RoTWF4KSB7XG4gIHZhciBtZXNzYWdlID0gZnVuY3Rpb24obGVuZ3RoTWF4KSB7XG4gICAgcmV0dXJuIG5nZXR0ZXh0KFxuICAgICAgXCJVc2VybmFtZSBjYW5ub3QgYmUgbG9uZ2VyIHRoYW4gJShsaW1pdF92YWx1ZSlzIGNoYXJhY3Rlci5cIixcbiAgICAgIFwiVXNlcm5hbWUgY2Fubm90IGJlIGxvbmdlciB0aGFuICUobGltaXRfdmFsdWUpcyBjaGFyYWN0ZXJzLlwiLFxuICAgICAgbGVuZ3RoTWF4KTtcbiAgfTtcbiAgcmV0dXJuIG1heExlbmd0aChsZW5ndGhNYXgsIG1lc3NhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlcm5hbWVDb250ZW50KCkge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIVVTRVJOQU1FLnRlc3QoJC50cmltKHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiBnZXR0ZXh0KFwiVXNlcm5hbWUgY2FuIG9ubHkgY29udGFpbiBsYXRpbiBhbHBoYWJldCBsZXR0ZXJzIGFuZCBkaWdpdHMuXCIpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkTWluTGVuZ3RoKGxlbmd0aE1pbikge1xuICB2YXIgbWVzc2FnZSA9IGZ1bmN0aW9uKGxlbmd0aE1pbikge1xuICAgIHJldHVybiBuZ2V0dGV4dChcbiAgICAgIFwiVmFsaWQgcGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAlKGxpbWl0X3ZhbHVlKXMgY2hhcmFjdGVyIGxvbmcuXCIsXG4gICAgICBcIlZhbGlkIHBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgJShsaW1pdF92YWx1ZSlzIGNoYXJhY3RlcnMgbG9uZy5cIixcbiAgICAgIGxlbmd0aE1pbik7XG4gIH07XG4gIHJldHVybiBtaW5MZW5ndGgobGVuZ3RoTWluLCBtZXNzYWdlKTtcbn0iXX0=
